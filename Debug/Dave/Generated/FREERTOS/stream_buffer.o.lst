   1              	 .cpu cortex-m0
   2              	 .fpu softvfp
   3              	 .eabi_attribute 20,1
   4              	 .eabi_attribute 21,1
   5              	 .eabi_attribute 23,3
   6              	 .eabi_attribute 24,1
   7              	 .eabi_attribute 25,1
   8              	 .eabi_attribute 26,1
   9              	 .eabi_attribute 30,6
  10              	 .eabi_attribute 34,0
  11              	 .eabi_attribute 18,4
  12              	 .code 16
  13              	 .file "stream_buffer.c"
  14              	 .text
  15              	.Ltext0:
  16              	 .cfi_sections .debug_frame
  17              	 .section .text.xStreamBufferGenericCreate,"ax",%progbits
  18              	 .align 2
  19              	 .global xStreamBufferGenericCreate
  20              	 .code 16
  21              	 .thumb_func
  23              	xStreamBufferGenericCreate:
  24              	.LFB42:
  25              	 .file 1 "../Dave/Generated/FREERTOS/stream_buffer.c"
   1:../Dave/Generated/FREERTOS/stream_buffer.c **** /*
   2:../Dave/Generated/FREERTOS/stream_buffer.c ****  * FreeRTOS Kernel V10.4.3
   3:../Dave/Generated/FREERTOS/stream_buffer.c ****  * Copyright (C) 2020 Amazon.com, Inc. or its affiliates.  All Rights Reserved.
   4:../Dave/Generated/FREERTOS/stream_buffer.c ****  *
   5:../Dave/Generated/FREERTOS/stream_buffer.c ****  * Permission is hereby granted, free of charge, to any person obtaining a copy of
   6:../Dave/Generated/FREERTOS/stream_buffer.c ****  * this software and associated documentation files (the "Software"), to deal in
   7:../Dave/Generated/FREERTOS/stream_buffer.c ****  * the Software without restriction, including without limitation the rights to
   8:../Dave/Generated/FREERTOS/stream_buffer.c ****  * use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of
   9:../Dave/Generated/FREERTOS/stream_buffer.c ****  * the Software, and to permit persons to whom the Software is furnished to do so,
  10:../Dave/Generated/FREERTOS/stream_buffer.c ****  * subject to the following conditions:
  11:../Dave/Generated/FREERTOS/stream_buffer.c ****  *
  12:../Dave/Generated/FREERTOS/stream_buffer.c ****  * The above copyright notice and this permission notice shall be included in all
  13:../Dave/Generated/FREERTOS/stream_buffer.c ****  * copies or substantial portions of the Software.
  14:../Dave/Generated/FREERTOS/stream_buffer.c ****  *
  15:../Dave/Generated/FREERTOS/stream_buffer.c ****  * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  16:../Dave/Generated/FREERTOS/stream_buffer.c ****  * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS
  17:../Dave/Generated/FREERTOS/stream_buffer.c ****  * FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
  18:../Dave/Generated/FREERTOS/stream_buffer.c ****  * COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
  19:../Dave/Generated/FREERTOS/stream_buffer.c ****  * IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
  20:../Dave/Generated/FREERTOS/stream_buffer.c ****  * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
  21:../Dave/Generated/FREERTOS/stream_buffer.c ****  *
  22:../Dave/Generated/FREERTOS/stream_buffer.c ****  * https://www.FreeRTOS.org
  23:../Dave/Generated/FREERTOS/stream_buffer.c ****  * https://github.com/FreeRTOS
  24:../Dave/Generated/FREERTOS/stream_buffer.c ****  *
  25:../Dave/Generated/FREERTOS/stream_buffer.c ****  */
  26:../Dave/Generated/FREERTOS/stream_buffer.c **** 
  27:../Dave/Generated/FREERTOS/stream_buffer.c **** /* Standard includes. */
  28:../Dave/Generated/FREERTOS/stream_buffer.c **** #include <stdint.h>
  29:../Dave/Generated/FREERTOS/stream_buffer.c **** #include <string.h>
  30:../Dave/Generated/FREERTOS/stream_buffer.c **** 
  31:../Dave/Generated/FREERTOS/stream_buffer.c **** /* Defining MPU_WRAPPERS_INCLUDED_FROM_API_FILE prevents task.h from redefining
  32:../Dave/Generated/FREERTOS/stream_buffer.c ****  * all the API functions to use the MPU wrappers.  That should only be done when
  33:../Dave/Generated/FREERTOS/stream_buffer.c ****  * task.h is included from an application file. */
  34:../Dave/Generated/FREERTOS/stream_buffer.c **** #define MPU_WRAPPERS_INCLUDED_FROM_API_FILE
  35:../Dave/Generated/FREERTOS/stream_buffer.c **** 
  36:../Dave/Generated/FREERTOS/stream_buffer.c **** /* FreeRTOS includes. */
  37:../Dave/Generated/FREERTOS/stream_buffer.c **** #include "FreeRTOS.h"
  38:../Dave/Generated/FREERTOS/stream_buffer.c **** #include "task.h"
  39:../Dave/Generated/FREERTOS/stream_buffer.c **** #include "stream_buffer.h"
  40:../Dave/Generated/FREERTOS/stream_buffer.c **** 
  41:../Dave/Generated/FREERTOS/stream_buffer.c **** #if ( configUSE_TASK_NOTIFICATIONS != 1 )
  42:../Dave/Generated/FREERTOS/stream_buffer.c ****     #error configUSE_TASK_NOTIFICATIONS must be set to 1 to build stream_buffer.c
  43:../Dave/Generated/FREERTOS/stream_buffer.c **** #endif
  44:../Dave/Generated/FREERTOS/stream_buffer.c **** 
  45:../Dave/Generated/FREERTOS/stream_buffer.c **** /* Lint e961, e9021 and e750 are suppressed as a MISRA exception justified
  46:../Dave/Generated/FREERTOS/stream_buffer.c ****  * because the MPU ports require MPU_WRAPPERS_INCLUDED_FROM_API_FILE to be defined
  47:../Dave/Generated/FREERTOS/stream_buffer.c ****  * for the header files above, but not in this file, in order to generate the
  48:../Dave/Generated/FREERTOS/stream_buffer.c ****  * correct privileged Vs unprivileged linkage and placement. */
  49:../Dave/Generated/FREERTOS/stream_buffer.c **** #undef MPU_WRAPPERS_INCLUDED_FROM_API_FILE /*lint !e961 !e750 !e9021. */
  50:../Dave/Generated/FREERTOS/stream_buffer.c **** 
  51:../Dave/Generated/FREERTOS/stream_buffer.c **** /* If the user has not provided application specific Rx notification macros,
  52:../Dave/Generated/FREERTOS/stream_buffer.c ****  * or #defined the notification macros away, them provide default implementations
  53:../Dave/Generated/FREERTOS/stream_buffer.c ****  * that uses task notifications. */
  54:../Dave/Generated/FREERTOS/stream_buffer.c **** /*lint -save -e9026 Function like macros allowed and needed here so they can be overridden. */
  55:../Dave/Generated/FREERTOS/stream_buffer.c **** #ifndef sbRECEIVE_COMPLETED
  56:../Dave/Generated/FREERTOS/stream_buffer.c ****     #define sbRECEIVE_COMPLETED( pxStreamBuffer )                         \
  57:../Dave/Generated/FREERTOS/stream_buffer.c ****     vTaskSuspendAll();                                                    \
  58:../Dave/Generated/FREERTOS/stream_buffer.c ****     {                                                                     \
  59:../Dave/Generated/FREERTOS/stream_buffer.c ****         if( ( pxStreamBuffer )->xTaskWaitingToSend != NULL )              \
  60:../Dave/Generated/FREERTOS/stream_buffer.c ****         {                                                                 \
  61:../Dave/Generated/FREERTOS/stream_buffer.c ****             ( void ) xTaskNotify( ( pxStreamBuffer )->xTaskWaitingToSend, \
  62:../Dave/Generated/FREERTOS/stream_buffer.c ****                                   ( uint32_t ) 0,                         \
  63:../Dave/Generated/FREERTOS/stream_buffer.c ****                                   eNoAction );                            \
  64:../Dave/Generated/FREERTOS/stream_buffer.c ****             ( pxStreamBuffer )->xTaskWaitingToSend = NULL;                \
  65:../Dave/Generated/FREERTOS/stream_buffer.c ****         }                                                                 \
  66:../Dave/Generated/FREERTOS/stream_buffer.c ****     }                                                                     \
  67:../Dave/Generated/FREERTOS/stream_buffer.c ****     ( void ) xTaskResumeAll();
  68:../Dave/Generated/FREERTOS/stream_buffer.c **** #endif /* sbRECEIVE_COMPLETED */
  69:../Dave/Generated/FREERTOS/stream_buffer.c **** 
  70:../Dave/Generated/FREERTOS/stream_buffer.c **** #ifndef sbRECEIVE_COMPLETED_FROM_ISR
  71:../Dave/Generated/FREERTOS/stream_buffer.c ****     #define sbRECEIVE_COMPLETED_FROM_ISR( pxStreamBuffer,                            \
  72:../Dave/Generated/FREERTOS/stream_buffer.c ****                                           pxHigherPriorityTaskWoken )                \
  73:../Dave/Generated/FREERTOS/stream_buffer.c ****     {                                                                                \
  74:../Dave/Generated/FREERTOS/stream_buffer.c ****         UBaseType_t uxSavedInterruptStatus;                                          \
  75:../Dave/Generated/FREERTOS/stream_buffer.c ****                                                                                      \
  76:../Dave/Generated/FREERTOS/stream_buffer.c ****         uxSavedInterruptStatus = ( UBaseType_t ) portSET_INTERRUPT_MASK_FROM_ISR();  \
  77:../Dave/Generated/FREERTOS/stream_buffer.c ****         {                                                                            \
  78:../Dave/Generated/FREERTOS/stream_buffer.c ****             if( ( pxStreamBuffer )->xTaskWaitingToSend != NULL )                     \
  79:../Dave/Generated/FREERTOS/stream_buffer.c ****             {                                                                        \
  80:../Dave/Generated/FREERTOS/stream_buffer.c ****                 ( void ) xTaskNotifyFromISR( ( pxStreamBuffer )->xTaskWaitingToSend, \
  81:../Dave/Generated/FREERTOS/stream_buffer.c ****                                              ( uint32_t ) 0,                         \
  82:../Dave/Generated/FREERTOS/stream_buffer.c ****                                              eNoAction,                              \
  83:../Dave/Generated/FREERTOS/stream_buffer.c ****                                              pxHigherPriorityTaskWoken );            \
  84:../Dave/Generated/FREERTOS/stream_buffer.c ****                 ( pxStreamBuffer )->xTaskWaitingToSend = NULL;                       \
  85:../Dave/Generated/FREERTOS/stream_buffer.c ****             }                                                                        \
  86:../Dave/Generated/FREERTOS/stream_buffer.c ****         }                                                                            \
  87:../Dave/Generated/FREERTOS/stream_buffer.c ****         portCLEAR_INTERRUPT_MASK_FROM_ISR( uxSavedInterruptStatus );                 \
  88:../Dave/Generated/FREERTOS/stream_buffer.c ****     }
  89:../Dave/Generated/FREERTOS/stream_buffer.c **** #endif /* sbRECEIVE_COMPLETED_FROM_ISR */
  90:../Dave/Generated/FREERTOS/stream_buffer.c **** 
  91:../Dave/Generated/FREERTOS/stream_buffer.c **** /* If the user has not provided an application specific Tx notification macro,
  92:../Dave/Generated/FREERTOS/stream_buffer.c ****  * or #defined the notification macro away, them provide a default implementation
  93:../Dave/Generated/FREERTOS/stream_buffer.c ****  * that uses task notifications. */
  94:../Dave/Generated/FREERTOS/stream_buffer.c **** #ifndef sbSEND_COMPLETED
  95:../Dave/Generated/FREERTOS/stream_buffer.c ****     #define sbSEND_COMPLETED( pxStreamBuffer )                               \
  96:../Dave/Generated/FREERTOS/stream_buffer.c ****     vTaskSuspendAll();                                                       \
  97:../Dave/Generated/FREERTOS/stream_buffer.c ****     {                                                                        \
  98:../Dave/Generated/FREERTOS/stream_buffer.c ****         if( ( pxStreamBuffer )->xTaskWaitingToReceive != NULL )              \
  99:../Dave/Generated/FREERTOS/stream_buffer.c ****         {                                                                    \
 100:../Dave/Generated/FREERTOS/stream_buffer.c ****             ( void ) xTaskNotify( ( pxStreamBuffer )->xTaskWaitingToReceive, \
 101:../Dave/Generated/FREERTOS/stream_buffer.c ****                                   ( uint32_t ) 0,                            \
 102:../Dave/Generated/FREERTOS/stream_buffer.c ****                                   eNoAction );                               \
 103:../Dave/Generated/FREERTOS/stream_buffer.c ****             ( pxStreamBuffer )->xTaskWaitingToReceive = NULL;                \
 104:../Dave/Generated/FREERTOS/stream_buffer.c ****         }                                                                    \
 105:../Dave/Generated/FREERTOS/stream_buffer.c ****     }                                                                        \
 106:../Dave/Generated/FREERTOS/stream_buffer.c ****     ( void ) xTaskResumeAll();
 107:../Dave/Generated/FREERTOS/stream_buffer.c **** #endif /* sbSEND_COMPLETED */
 108:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 109:../Dave/Generated/FREERTOS/stream_buffer.c **** #ifndef sbSEND_COMPLETE_FROM_ISR
 110:../Dave/Generated/FREERTOS/stream_buffer.c ****     #define sbSEND_COMPLETE_FROM_ISR( pxStreamBuffer, pxHigherPriorityTaskWoken )       \
 111:../Dave/Generated/FREERTOS/stream_buffer.c ****     {                                                                                   \
 112:../Dave/Generated/FREERTOS/stream_buffer.c ****         UBaseType_t uxSavedInterruptStatus;                                             \
 113:../Dave/Generated/FREERTOS/stream_buffer.c ****                                                                                         \
 114:../Dave/Generated/FREERTOS/stream_buffer.c ****         uxSavedInterruptStatus = ( UBaseType_t ) portSET_INTERRUPT_MASK_FROM_ISR();     \
 115:../Dave/Generated/FREERTOS/stream_buffer.c ****         {                                                                               \
 116:../Dave/Generated/FREERTOS/stream_buffer.c ****             if( ( pxStreamBuffer )->xTaskWaitingToReceive != NULL )                     \
 117:../Dave/Generated/FREERTOS/stream_buffer.c ****             {                                                                           \
 118:../Dave/Generated/FREERTOS/stream_buffer.c ****                 ( void ) xTaskNotifyFromISR( ( pxStreamBuffer )->xTaskWaitingToReceive, \
 119:../Dave/Generated/FREERTOS/stream_buffer.c ****                                              ( uint32_t ) 0,                            \
 120:../Dave/Generated/FREERTOS/stream_buffer.c ****                                              eNoAction,                                 \
 121:../Dave/Generated/FREERTOS/stream_buffer.c ****                                              pxHigherPriorityTaskWoken );               \
 122:../Dave/Generated/FREERTOS/stream_buffer.c ****                 ( pxStreamBuffer )->xTaskWaitingToReceive = NULL;                       \
 123:../Dave/Generated/FREERTOS/stream_buffer.c ****             }                                                                           \
 124:../Dave/Generated/FREERTOS/stream_buffer.c ****         }                                                                               \
 125:../Dave/Generated/FREERTOS/stream_buffer.c ****         portCLEAR_INTERRUPT_MASK_FROM_ISR( uxSavedInterruptStatus );                    \
 126:../Dave/Generated/FREERTOS/stream_buffer.c ****     }
 127:../Dave/Generated/FREERTOS/stream_buffer.c **** #endif /* sbSEND_COMPLETE_FROM_ISR */
 128:../Dave/Generated/FREERTOS/stream_buffer.c **** /*lint -restore (9026) */
 129:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 130:../Dave/Generated/FREERTOS/stream_buffer.c **** /* The number of bytes used to hold the length of a message in the buffer. */
 131:../Dave/Generated/FREERTOS/stream_buffer.c **** #define sbBYTES_TO_STORE_MESSAGE_LENGTH    ( sizeof( configMESSAGE_BUFFER_LENGTH_TYPE ) )
 132:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 133:../Dave/Generated/FREERTOS/stream_buffer.c **** /* Bits stored in the ucFlags field of the stream buffer. */
 134:../Dave/Generated/FREERTOS/stream_buffer.c **** #define sbFLAGS_IS_MESSAGE_BUFFER          ( ( uint8_t ) 1 ) /* Set if the stream buffer was create
 135:../Dave/Generated/FREERTOS/stream_buffer.c **** #define sbFLAGS_IS_STATICALLY_ALLOCATED    ( ( uint8_t ) 2 ) /* Set if the stream buffer was create
 136:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 137:../Dave/Generated/FREERTOS/stream_buffer.c **** /*-----------------------------------------------------------*/
 138:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 139:../Dave/Generated/FREERTOS/stream_buffer.c **** /* Structure that hold state information on the buffer. */
 140:../Dave/Generated/FREERTOS/stream_buffer.c **** typedef struct StreamBufferDef_t                 /*lint !e9058 Style convention uses tag. */
 141:../Dave/Generated/FREERTOS/stream_buffer.c **** {
 142:../Dave/Generated/FREERTOS/stream_buffer.c ****     volatile size_t xTail;                       /* Index to the next item to read within the buffe
 143:../Dave/Generated/FREERTOS/stream_buffer.c ****     volatile size_t xHead;                       /* Index to the next item to write within the buff
 144:../Dave/Generated/FREERTOS/stream_buffer.c ****     size_t xLength;                              /* The length of the buffer pointed to by pucBuffe
 145:../Dave/Generated/FREERTOS/stream_buffer.c ****     size_t xTriggerLevelBytes;                   /* The number of bytes that must be in the stream 
 146:../Dave/Generated/FREERTOS/stream_buffer.c ****     volatile TaskHandle_t xTaskWaitingToReceive; /* Holds the handle of a task waiting for data, or
 147:../Dave/Generated/FREERTOS/stream_buffer.c ****     volatile TaskHandle_t xTaskWaitingToSend;    /* Holds the handle of a task waiting to send data
 148:../Dave/Generated/FREERTOS/stream_buffer.c ****     uint8_t * pucBuffer;                         /* Points to the buffer itself - that is - the RAM
 149:../Dave/Generated/FREERTOS/stream_buffer.c ****     uint8_t ucFlags;
 150:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 151:../Dave/Generated/FREERTOS/stream_buffer.c ****     #if ( configUSE_TRACE_FACILITY == 1 )
 152:../Dave/Generated/FREERTOS/stream_buffer.c ****         UBaseType_t uxStreamBufferNumber; /* Used for tracing purposes. */
 153:../Dave/Generated/FREERTOS/stream_buffer.c ****     #endif
 154:../Dave/Generated/FREERTOS/stream_buffer.c **** } StreamBuffer_t;
 155:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 156:../Dave/Generated/FREERTOS/stream_buffer.c **** /*
 157:../Dave/Generated/FREERTOS/stream_buffer.c ****  * The number of bytes available to be read from the buffer.
 158:../Dave/Generated/FREERTOS/stream_buffer.c ****  */
 159:../Dave/Generated/FREERTOS/stream_buffer.c **** static size_t prvBytesInBuffer( const StreamBuffer_t * const pxStreamBuffer ) PRIVILEGED_FUNCTION;
 160:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 161:../Dave/Generated/FREERTOS/stream_buffer.c **** /*
 162:../Dave/Generated/FREERTOS/stream_buffer.c ****  * Add xCount bytes from pucData into the pxStreamBuffer message buffer.
 163:../Dave/Generated/FREERTOS/stream_buffer.c ****  * Returns the number of bytes written, which will either equal xCount in the
 164:../Dave/Generated/FREERTOS/stream_buffer.c ****  * success case, or 0 if there was not enough space in the buffer (in which case
 165:../Dave/Generated/FREERTOS/stream_buffer.c ****  * no data is written into the buffer).
 166:../Dave/Generated/FREERTOS/stream_buffer.c ****  */
 167:../Dave/Generated/FREERTOS/stream_buffer.c **** static size_t prvWriteBytesToBuffer( StreamBuffer_t * const pxStreamBuffer,
 168:../Dave/Generated/FREERTOS/stream_buffer.c ****                                      const uint8_t * pucData,
 169:../Dave/Generated/FREERTOS/stream_buffer.c ****                                      size_t xCount ) PRIVILEGED_FUNCTION;
 170:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 171:../Dave/Generated/FREERTOS/stream_buffer.c **** /*
 172:../Dave/Generated/FREERTOS/stream_buffer.c ****  * If the stream buffer is being used as a message buffer, then reads an entire
 173:../Dave/Generated/FREERTOS/stream_buffer.c ****  * message out of the buffer.  If the stream buffer is being used as a stream
 174:../Dave/Generated/FREERTOS/stream_buffer.c ****  * buffer then read as many bytes as possible from the buffer.
 175:../Dave/Generated/FREERTOS/stream_buffer.c ****  * prvReadBytesFromBuffer() is called to actually extract the bytes from the
 176:../Dave/Generated/FREERTOS/stream_buffer.c ****  * buffer's data storage area.
 177:../Dave/Generated/FREERTOS/stream_buffer.c ****  */
 178:../Dave/Generated/FREERTOS/stream_buffer.c **** static size_t prvReadMessageFromBuffer( StreamBuffer_t * pxStreamBuffer,
 179:../Dave/Generated/FREERTOS/stream_buffer.c ****                                         void * pvRxData,
 180:../Dave/Generated/FREERTOS/stream_buffer.c ****                                         size_t xBufferLengthBytes,
 181:../Dave/Generated/FREERTOS/stream_buffer.c ****                                         size_t xBytesAvailable,
 182:../Dave/Generated/FREERTOS/stream_buffer.c ****                                         size_t xBytesToStoreMessageLength ) PRIVILEGED_FUNCTION;
 183:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 184:../Dave/Generated/FREERTOS/stream_buffer.c **** /*
 185:../Dave/Generated/FREERTOS/stream_buffer.c ****  * If the stream buffer is being used as a message buffer, then writes an entire
 186:../Dave/Generated/FREERTOS/stream_buffer.c ****  * message to the buffer.  If the stream buffer is being used as a stream
 187:../Dave/Generated/FREERTOS/stream_buffer.c ****  * buffer then write as many bytes as possible to the buffer.
 188:../Dave/Generated/FREERTOS/stream_buffer.c ****  * prvWriteBytestoBuffer() is called to actually send the bytes to the buffer's
 189:../Dave/Generated/FREERTOS/stream_buffer.c ****  * data storage area.
 190:../Dave/Generated/FREERTOS/stream_buffer.c ****  */
 191:../Dave/Generated/FREERTOS/stream_buffer.c **** static size_t prvWriteMessageToBuffer( StreamBuffer_t * const pxStreamBuffer,
 192:../Dave/Generated/FREERTOS/stream_buffer.c ****                                        const void * pvTxData,
 193:../Dave/Generated/FREERTOS/stream_buffer.c ****                                        size_t xDataLengthBytes,
 194:../Dave/Generated/FREERTOS/stream_buffer.c ****                                        size_t xSpace,
 195:../Dave/Generated/FREERTOS/stream_buffer.c ****                                        size_t xRequiredSpace ) PRIVILEGED_FUNCTION;
 196:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 197:../Dave/Generated/FREERTOS/stream_buffer.c **** /*
 198:../Dave/Generated/FREERTOS/stream_buffer.c ****  * Read xMaxCount bytes from the pxStreamBuffer message buffer and write them
 199:../Dave/Generated/FREERTOS/stream_buffer.c ****  * to pucData.
 200:../Dave/Generated/FREERTOS/stream_buffer.c ****  */
 201:../Dave/Generated/FREERTOS/stream_buffer.c **** static size_t prvReadBytesFromBuffer( StreamBuffer_t * pxStreamBuffer,
 202:../Dave/Generated/FREERTOS/stream_buffer.c ****                                       uint8_t * pucData,
 203:../Dave/Generated/FREERTOS/stream_buffer.c ****                                       size_t xMaxCount,
 204:../Dave/Generated/FREERTOS/stream_buffer.c ****                                       size_t xBytesAvailable ) PRIVILEGED_FUNCTION;
 205:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 206:../Dave/Generated/FREERTOS/stream_buffer.c **** /*
 207:../Dave/Generated/FREERTOS/stream_buffer.c ****  * Called by both pxStreamBufferCreate() and pxStreamBufferCreateStatic() to
 208:../Dave/Generated/FREERTOS/stream_buffer.c ****  * initialise the members of the newly created stream buffer structure.
 209:../Dave/Generated/FREERTOS/stream_buffer.c ****  */
 210:../Dave/Generated/FREERTOS/stream_buffer.c **** static void prvInitialiseNewStreamBuffer( StreamBuffer_t * const pxStreamBuffer,
 211:../Dave/Generated/FREERTOS/stream_buffer.c ****                                           uint8_t * const pucBuffer,
 212:../Dave/Generated/FREERTOS/stream_buffer.c ****                                           size_t xBufferSizeBytes,
 213:../Dave/Generated/FREERTOS/stream_buffer.c ****                                           size_t xTriggerLevelBytes,
 214:../Dave/Generated/FREERTOS/stream_buffer.c ****                                           uint8_t ucFlags ) PRIVILEGED_FUNCTION;
 215:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 216:../Dave/Generated/FREERTOS/stream_buffer.c **** /*-----------------------------------------------------------*/
 217:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 218:../Dave/Generated/FREERTOS/stream_buffer.c **** #if ( configSUPPORT_DYNAMIC_ALLOCATION == 1 )
 219:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 220:../Dave/Generated/FREERTOS/stream_buffer.c ****     StreamBufferHandle_t xStreamBufferGenericCreate( size_t xBufferSizeBytes,
 221:../Dave/Generated/FREERTOS/stream_buffer.c ****                                                      size_t xTriggerLevelBytes,
 222:../Dave/Generated/FREERTOS/stream_buffer.c ****                                                      BaseType_t xIsMessageBuffer )
 223:../Dave/Generated/FREERTOS/stream_buffer.c ****     {
  26              	 .loc 1 223 0
  27              	 .cfi_startproc
  28 0000 90B5     	 push {r4,r7,lr}
  29              	.LCFI0:
  30              	 .cfi_def_cfa_offset 12
  31              	 .cfi_offset 4,-12
  32              	 .cfi_offset 7,-8
  33              	 .cfi_offset 14,-4
  34 0002 89B0     	 sub sp,sp,#36
  35              	.LCFI1:
  36              	 .cfi_def_cfa_offset 48
  37 0004 02AF     	 add r7,sp,#8
  38              	.LCFI2:
  39              	 .cfi_def_cfa 7,40
  40 0006 F860     	 str r0,[r7,#12]
  41 0008 B960     	 str r1,[r7,#8]
  42 000a 7A60     	 str r2,[r7,#4]
 224:../Dave/Generated/FREERTOS/stream_buffer.c ****         uint8_t * pucAllocatedMemory;
 225:../Dave/Generated/FREERTOS/stream_buffer.c ****         uint8_t ucFlags;
 226:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 227:../Dave/Generated/FREERTOS/stream_buffer.c ****         /* In case the stream buffer is going to be used as a message buffer
 228:../Dave/Generated/FREERTOS/stream_buffer.c ****          * (that is, it will hold discrete messages with a little meta data that
 229:../Dave/Generated/FREERTOS/stream_buffer.c ****          * says how big the next message is) check the buffer will be large enough
 230:../Dave/Generated/FREERTOS/stream_buffer.c ****          * to hold at least one message. */
 231:../Dave/Generated/FREERTOS/stream_buffer.c ****         if( xIsMessageBuffer == pdTRUE )
  43              	 .loc 1 231 0
  44 000c 7B68     	 ldr r3,[r7,#4]
  45 000e 012B     	 cmp r3,#1
  46 0010 08D1     	 bne .L2
 232:../Dave/Generated/FREERTOS/stream_buffer.c ****         {
 233:../Dave/Generated/FREERTOS/stream_buffer.c ****             /* Is a message buffer but not statically allocated. */
 234:../Dave/Generated/FREERTOS/stream_buffer.c ****             ucFlags = sbFLAGS_IS_MESSAGE_BUFFER;
  47              	 .loc 1 234 0
  48 0012 1323     	 mov r3,#19
  49 0014 FB18     	 add r3,r7,r3
  50 0016 0122     	 mov r2,#1
  51 0018 1A70     	 strb r2,[r3]
 235:../Dave/Generated/FREERTOS/stream_buffer.c ****             configASSERT( xBufferSizeBytes > sbBYTES_TO_STORE_MESSAGE_LENGTH );
  52              	 .loc 1 235 0
  53 001a FB68     	 ldr r3,[r7,#12]
  54 001c 042B     	 cmp r3,#4
  55 001e 0AD8     	 bhi .L3
  56              	 .loc 1 235 0 is_stmt 0 discriminator 1
  57              	
  58 0020 72B6     	 cpsid i
  59              	
  60              	 .code 16
  61              	.L4:
  62 0022 FEE7     	 b .L4
  63              	.L2:
 236:../Dave/Generated/FREERTOS/stream_buffer.c ****         }
 237:../Dave/Generated/FREERTOS/stream_buffer.c ****         else
 238:../Dave/Generated/FREERTOS/stream_buffer.c ****         {
 239:../Dave/Generated/FREERTOS/stream_buffer.c ****             /* Not a message buffer and not statically allocated. */
 240:../Dave/Generated/FREERTOS/stream_buffer.c ****             ucFlags = 0;
  64              	 .loc 1 240 0 is_stmt 1
  65 0024 1323     	 mov r3,#19
  66 0026 FB18     	 add r3,r7,r3
  67 0028 0022     	 mov r2,#0
  68 002a 1A70     	 strb r2,[r3]
 241:../Dave/Generated/FREERTOS/stream_buffer.c ****             configASSERT( xBufferSizeBytes > 0 );
  69              	 .loc 1 241 0
  70 002c FB68     	 ldr r3,[r7,#12]
  71 002e 002B     	 cmp r3,#0
  72 0030 01D1     	 bne .L3
  73              	 .loc 1 241 0 is_stmt 0 discriminator 1
  74              	
  75 0032 72B6     	 cpsid i
  76              	
  77              	 .code 16
  78              	.L5:
  79              	 .loc 1 241 0 discriminator 2
  80 0034 FEE7     	 b .L5
  81              	.L3:
 242:../Dave/Generated/FREERTOS/stream_buffer.c ****         }
 243:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 244:../Dave/Generated/FREERTOS/stream_buffer.c ****         configASSERT( xTriggerLevelBytes <= xBufferSizeBytes );
  82              	 .loc 1 244 0 is_stmt 1
  83 0036 BA68     	 ldr r2,[r7,#8]
  84 0038 FB68     	 ldr r3,[r7,#12]
  85 003a 9A42     	 cmp r2,r3
  86 003c 01D9     	 bls .L6
  87              	 .loc 1 244 0 is_stmt 0 discriminator 1
  88              	
  89 003e 72B6     	 cpsid i
  90              	
  91              	 .code 16
  92              	.L7:
  93              	 .loc 1 244 0 discriminator 3
  94 0040 FEE7     	 b .L7
  95              	.L6:
 245:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 246:../Dave/Generated/FREERTOS/stream_buffer.c ****         /* A trigger level of 0 would cause a waiting task to unblock even when
 247:../Dave/Generated/FREERTOS/stream_buffer.c ****          * the buffer was empty. */
 248:../Dave/Generated/FREERTOS/stream_buffer.c ****         if( xTriggerLevelBytes == ( size_t ) 0 )
  96              	 .loc 1 248 0 is_stmt 1
  97 0042 BB68     	 ldr r3,[r7,#8]
  98 0044 002B     	 cmp r3,#0
  99 0046 01D1     	 bne .L8
 249:../Dave/Generated/FREERTOS/stream_buffer.c ****         {
 250:../Dave/Generated/FREERTOS/stream_buffer.c ****             xTriggerLevelBytes = ( size_t ) 1;
 100              	 .loc 1 250 0
 101 0048 0123     	 mov r3,#1
 102 004a BB60     	 str r3,[r7,#8]
 103              	.L8:
 251:../Dave/Generated/FREERTOS/stream_buffer.c ****         }
 252:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 253:../Dave/Generated/FREERTOS/stream_buffer.c ****         /* A stream buffer requires a StreamBuffer_t structure and a buffer.
 254:../Dave/Generated/FREERTOS/stream_buffer.c ****          * Both are allocated in a single call to pvPortMalloc().  The
 255:../Dave/Generated/FREERTOS/stream_buffer.c ****          * StreamBuffer_t structure is placed at the start of the allocated memory
 256:../Dave/Generated/FREERTOS/stream_buffer.c ****          * and the buffer follows immediately after.  The requested size is
 257:../Dave/Generated/FREERTOS/stream_buffer.c ****          * incremented so the free space is returned as the user would expect -
 258:../Dave/Generated/FREERTOS/stream_buffer.c ****          * this is a quirk of the implementation that means otherwise the free
 259:../Dave/Generated/FREERTOS/stream_buffer.c ****          * space would be reported as one byte smaller than would be logically
 260:../Dave/Generated/FREERTOS/stream_buffer.c ****          * expected. */
 261:../Dave/Generated/FREERTOS/stream_buffer.c ****         if( xBufferSizeBytes < ( xBufferSizeBytes + 1 + sizeof( StreamBuffer_t ) ) )
 104              	 .loc 1 261 0
 105 004c FB68     	 ldr r3,[r7,#12]
 106 004e 2533     	 add r3,r3,#37
 107 0050 1A1E     	 sub r2,r3,#0
 108 0052 FB68     	 ldr r3,[r7,#12]
 109 0054 9A42     	 cmp r2,r3
 110 0056 0AD9     	 bls .L9
 262:../Dave/Generated/FREERTOS/stream_buffer.c ****         {
 263:../Dave/Generated/FREERTOS/stream_buffer.c ****             xBufferSizeBytes++;
 111              	 .loc 1 263 0
 112 0058 FB68     	 ldr r3,[r7,#12]
 113 005a 0133     	 add r3,r3,#1
 114 005c FB60     	 str r3,[r7,#12]
 264:../Dave/Generated/FREERTOS/stream_buffer.c ****             pucAllocatedMemory = ( uint8_t * ) pvPortMalloc( xBufferSizeBytes + sizeof( StreamBuffe
 115              	 .loc 1 264 0
 116 005e FB68     	 ldr r3,[r7,#12]
 117 0060 2433     	 add r3,r3,#36
 118 0062 181C     	 mov r0,r3
 119 0064 FFF7FEFF 	 bl pvPortMalloc
 120 0068 031C     	 mov r3,r0
 121 006a 7B61     	 str r3,[r7,#20]
 122 006c 01E0     	 b .L10
 123              	.L9:
 265:../Dave/Generated/FREERTOS/stream_buffer.c ****         }
 266:../Dave/Generated/FREERTOS/stream_buffer.c ****         else
 267:../Dave/Generated/FREERTOS/stream_buffer.c ****         {
 268:../Dave/Generated/FREERTOS/stream_buffer.c ****             pucAllocatedMemory = NULL;
 124              	 .loc 1 268 0
 125 006e 0023     	 mov r3,#0
 126 0070 7B61     	 str r3,[r7,#20]
 127              	.L10:
 269:../Dave/Generated/FREERTOS/stream_buffer.c ****         }
 270:../Dave/Generated/FREERTOS/stream_buffer.c ****         
 271:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 272:../Dave/Generated/FREERTOS/stream_buffer.c ****         if( pucAllocatedMemory != NULL )
 128              	 .loc 1 272 0
 129 0072 7B69     	 ldr r3,[r7,#20]
 130 0074 002B     	 cmp r3,#0
 131 0076 0CD0     	 beq .L11
 273:../Dave/Generated/FREERTOS/stream_buffer.c ****         {
 274:../Dave/Generated/FREERTOS/stream_buffer.c ****             prvInitialiseNewStreamBuffer( ( StreamBuffer_t * ) pucAllocatedMemory,       /* Structu
 132              	 .loc 1 274 0
 133 0078 7B69     	 ldr r3,[r7,#20]
 134 007a 2433     	 add r3,r3,#36
 135 007c 191C     	 mov r1,r3
 136 007e 7869     	 ldr r0,[r7,#20]
 137 0080 FA68     	 ldr r2,[r7,#12]
 138 0082 BC68     	 ldr r4,[r7,#8]
 139 0084 1323     	 mov r3,#19
 140 0086 FB18     	 add r3,r7,r3
 141 0088 1B78     	 ldrb r3,[r3]
 142 008a 0093     	 str r3,[sp]
 143 008c 231C     	 mov r3,r4
 144 008e FFF7FEFF 	 bl prvInitialiseNewStreamBuffer
 145              	.L11:
 275:../Dave/Generated/FREERTOS/stream_buffer.c ****                                           pucAllocatedMemory + sizeof( StreamBuffer_t ), /* Storage
 276:../Dave/Generated/FREERTOS/stream_buffer.c ****                                           xBufferSizeBytes,
 277:../Dave/Generated/FREERTOS/stream_buffer.c ****                                           xTriggerLevelBytes,
 278:../Dave/Generated/FREERTOS/stream_buffer.c ****                                           ucFlags );
 279:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 280:../Dave/Generated/FREERTOS/stream_buffer.c ****             traceSTREAM_BUFFER_CREATE( ( ( StreamBuffer_t * ) pucAllocatedMemory ), xIsMessageBuffe
 281:../Dave/Generated/FREERTOS/stream_buffer.c ****         }
 282:../Dave/Generated/FREERTOS/stream_buffer.c ****         else
 283:../Dave/Generated/FREERTOS/stream_buffer.c ****         {
 284:../Dave/Generated/FREERTOS/stream_buffer.c ****             traceSTREAM_BUFFER_CREATE_FAILED( xIsMessageBuffer );
 285:../Dave/Generated/FREERTOS/stream_buffer.c ****         }
 286:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 287:../Dave/Generated/FREERTOS/stream_buffer.c ****         return ( StreamBufferHandle_t ) pucAllocatedMemory; /*lint !e9087 !e826 Safe cast as alloca
 146              	 .loc 1 287 0
 147 0092 7B69     	 ldr r3,[r7,#20]
 288:../Dave/Generated/FREERTOS/stream_buffer.c ****     }
 148              	 .loc 1 288 0
 149 0094 181C     	 mov r0,r3
 150 0096 BD46     	 mov sp,r7
 151 0098 07B0     	 add sp,sp,#28
 152              	 
 153 009a 90BD     	 pop {r4,r7,pc}
 154              	 .cfi_endproc
 155              	.LFE42:
 157              	 .section .text.vStreamBufferDelete,"ax",%progbits
 158              	 .align 2
 159              	 .global vStreamBufferDelete
 160              	 .code 16
 161              	 .thumb_func
 163              	vStreamBufferDelete:
 164              	.LFB43:
 289:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 290:../Dave/Generated/FREERTOS/stream_buffer.c **** #endif /* configSUPPORT_DYNAMIC_ALLOCATION */
 291:../Dave/Generated/FREERTOS/stream_buffer.c **** /*-----------------------------------------------------------*/
 292:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 293:../Dave/Generated/FREERTOS/stream_buffer.c **** #if ( configSUPPORT_STATIC_ALLOCATION == 1 )
 294:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 295:../Dave/Generated/FREERTOS/stream_buffer.c ****     StreamBufferHandle_t xStreamBufferGenericCreateStatic( size_t xBufferSizeBytes,
 296:../Dave/Generated/FREERTOS/stream_buffer.c ****                                                            size_t xTriggerLevelBytes,
 297:../Dave/Generated/FREERTOS/stream_buffer.c ****                                                            BaseType_t xIsMessageBuffer,
 298:../Dave/Generated/FREERTOS/stream_buffer.c ****                                                            uint8_t * const pucStreamBufferStorageAr
 299:../Dave/Generated/FREERTOS/stream_buffer.c ****                                                            StaticStreamBuffer_t * const pxStaticStr
 300:../Dave/Generated/FREERTOS/stream_buffer.c ****     {
 301:../Dave/Generated/FREERTOS/stream_buffer.c ****         StreamBuffer_t * const pxStreamBuffer = ( StreamBuffer_t * ) pxStaticStreamBuffer; /*lint !
 302:../Dave/Generated/FREERTOS/stream_buffer.c ****         StreamBufferHandle_t xReturn;
 303:../Dave/Generated/FREERTOS/stream_buffer.c ****         uint8_t ucFlags;
 304:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 305:../Dave/Generated/FREERTOS/stream_buffer.c ****         configASSERT( pucStreamBufferStorageArea );
 306:../Dave/Generated/FREERTOS/stream_buffer.c ****         configASSERT( pxStaticStreamBuffer );
 307:../Dave/Generated/FREERTOS/stream_buffer.c ****         configASSERT( xTriggerLevelBytes <= xBufferSizeBytes );
 308:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 309:../Dave/Generated/FREERTOS/stream_buffer.c ****         /* A trigger level of 0 would cause a waiting task to unblock even when
 310:../Dave/Generated/FREERTOS/stream_buffer.c ****          * the buffer was empty. */
 311:../Dave/Generated/FREERTOS/stream_buffer.c ****         if( xTriggerLevelBytes == ( size_t ) 0 )
 312:../Dave/Generated/FREERTOS/stream_buffer.c ****         {
 313:../Dave/Generated/FREERTOS/stream_buffer.c ****             xTriggerLevelBytes = ( size_t ) 1;
 314:../Dave/Generated/FREERTOS/stream_buffer.c ****         }
 315:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 316:../Dave/Generated/FREERTOS/stream_buffer.c ****         if( xIsMessageBuffer != pdFALSE )
 317:../Dave/Generated/FREERTOS/stream_buffer.c ****         {
 318:../Dave/Generated/FREERTOS/stream_buffer.c ****             /* Statically allocated message buffer. */
 319:../Dave/Generated/FREERTOS/stream_buffer.c ****             ucFlags = sbFLAGS_IS_MESSAGE_BUFFER | sbFLAGS_IS_STATICALLY_ALLOCATED;
 320:../Dave/Generated/FREERTOS/stream_buffer.c ****         }
 321:../Dave/Generated/FREERTOS/stream_buffer.c ****         else
 322:../Dave/Generated/FREERTOS/stream_buffer.c ****         {
 323:../Dave/Generated/FREERTOS/stream_buffer.c ****             /* Statically allocated stream buffer. */
 324:../Dave/Generated/FREERTOS/stream_buffer.c ****             ucFlags = sbFLAGS_IS_STATICALLY_ALLOCATED;
 325:../Dave/Generated/FREERTOS/stream_buffer.c ****         }
 326:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 327:../Dave/Generated/FREERTOS/stream_buffer.c ****         /* In case the stream buffer is going to be used as a message buffer
 328:../Dave/Generated/FREERTOS/stream_buffer.c ****          * (that is, it will hold discrete messages with a little meta data that
 329:../Dave/Generated/FREERTOS/stream_buffer.c ****          * says how big the next message is) check the buffer will be large enough
 330:../Dave/Generated/FREERTOS/stream_buffer.c ****          * to hold at least one message. */
 331:../Dave/Generated/FREERTOS/stream_buffer.c ****         configASSERT( xBufferSizeBytes > sbBYTES_TO_STORE_MESSAGE_LENGTH );
 332:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 333:../Dave/Generated/FREERTOS/stream_buffer.c ****         #if ( configASSERT_DEFINED == 1 )
 334:../Dave/Generated/FREERTOS/stream_buffer.c ****             {
 335:../Dave/Generated/FREERTOS/stream_buffer.c ****                 /* Sanity check that the size of the structure used to declare a
 336:../Dave/Generated/FREERTOS/stream_buffer.c ****                  * variable of type StaticStreamBuffer_t equals the size of the real
 337:../Dave/Generated/FREERTOS/stream_buffer.c ****                  * message buffer structure. */
 338:../Dave/Generated/FREERTOS/stream_buffer.c ****                 volatile size_t xSize = sizeof( StaticStreamBuffer_t );
 339:../Dave/Generated/FREERTOS/stream_buffer.c ****                 configASSERT( xSize == sizeof( StreamBuffer_t ) );
 340:../Dave/Generated/FREERTOS/stream_buffer.c ****             } /*lint !e529 xSize is referenced is configASSERT() is defined. */
 341:../Dave/Generated/FREERTOS/stream_buffer.c ****         #endif /* configASSERT_DEFINED */
 342:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 343:../Dave/Generated/FREERTOS/stream_buffer.c ****         if( ( pucStreamBufferStorageArea != NULL ) && ( pxStaticStreamBuffer != NULL ) )
 344:../Dave/Generated/FREERTOS/stream_buffer.c ****         {
 345:../Dave/Generated/FREERTOS/stream_buffer.c ****             prvInitialiseNewStreamBuffer( pxStreamBuffer,
 346:../Dave/Generated/FREERTOS/stream_buffer.c ****                                           pucStreamBufferStorageArea,
 347:../Dave/Generated/FREERTOS/stream_buffer.c ****                                           xBufferSizeBytes,
 348:../Dave/Generated/FREERTOS/stream_buffer.c ****                                           xTriggerLevelBytes,
 349:../Dave/Generated/FREERTOS/stream_buffer.c ****                                           ucFlags );
 350:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 351:../Dave/Generated/FREERTOS/stream_buffer.c ****             /* Remember this was statically allocated in case it is ever deleted
 352:../Dave/Generated/FREERTOS/stream_buffer.c ****              * again. */
 353:../Dave/Generated/FREERTOS/stream_buffer.c ****             pxStreamBuffer->ucFlags |= sbFLAGS_IS_STATICALLY_ALLOCATED;
 354:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 355:../Dave/Generated/FREERTOS/stream_buffer.c ****             traceSTREAM_BUFFER_CREATE( pxStreamBuffer, xIsMessageBuffer );
 356:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 357:../Dave/Generated/FREERTOS/stream_buffer.c ****             xReturn = ( StreamBufferHandle_t ) pxStaticStreamBuffer; /*lint !e9087 Data hiding requ
 358:../Dave/Generated/FREERTOS/stream_buffer.c ****         }
 359:../Dave/Generated/FREERTOS/stream_buffer.c ****         else
 360:../Dave/Generated/FREERTOS/stream_buffer.c ****         {
 361:../Dave/Generated/FREERTOS/stream_buffer.c ****             xReturn = NULL;
 362:../Dave/Generated/FREERTOS/stream_buffer.c ****             traceSTREAM_BUFFER_CREATE_STATIC_FAILED( xReturn, xIsMessageBuffer );
 363:../Dave/Generated/FREERTOS/stream_buffer.c ****         }
 364:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 365:../Dave/Generated/FREERTOS/stream_buffer.c ****         return xReturn;
 366:../Dave/Generated/FREERTOS/stream_buffer.c ****     }
 367:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 368:../Dave/Generated/FREERTOS/stream_buffer.c **** #endif /* ( configSUPPORT_STATIC_ALLOCATION == 1 ) */
 369:../Dave/Generated/FREERTOS/stream_buffer.c **** /*-----------------------------------------------------------*/
 370:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 371:../Dave/Generated/FREERTOS/stream_buffer.c **** void vStreamBufferDelete( StreamBufferHandle_t xStreamBuffer )
 372:../Dave/Generated/FREERTOS/stream_buffer.c **** {
 165              	 .loc 1 372 0
 166              	 .cfi_startproc
 167 0000 80B5     	 push {r7,lr}
 168              	.LCFI3:
 169              	 .cfi_def_cfa_offset 8
 170              	 .cfi_offset 7,-8
 171              	 .cfi_offset 14,-4
 172 0002 84B0     	 sub sp,sp,#16
 173              	.LCFI4:
 174              	 .cfi_def_cfa_offset 24
 175 0004 00AF     	 add r7,sp,#0
 176              	.LCFI5:
 177              	 .cfi_def_cfa_register 7
 178 0006 7860     	 str r0,[r7,#4]
 373:../Dave/Generated/FREERTOS/stream_buffer.c ****     StreamBuffer_t * pxStreamBuffer = xStreamBuffer;
 179              	 .loc 1 373 0
 180 0008 7B68     	 ldr r3,[r7,#4]
 181 000a FB60     	 str r3,[r7,#12]
 374:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 375:../Dave/Generated/FREERTOS/stream_buffer.c ****     configASSERT( pxStreamBuffer );
 182              	 .loc 1 375 0
 183 000c FB68     	 ldr r3,[r7,#12]
 184 000e 002B     	 cmp r3,#0
 185 0010 01D1     	 bne .L14
 186              	 .loc 1 375 0 is_stmt 0 discriminator 1
 187              	
 188 0012 72B6     	 cpsid i
 189              	
 190              	 .code 16
 191              	.L15:
 192 0014 FEE7     	 b .L15
 193              	.L14:
 376:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 377:../Dave/Generated/FREERTOS/stream_buffer.c ****     traceSTREAM_BUFFER_DELETE( xStreamBuffer );
 378:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 379:../Dave/Generated/FREERTOS/stream_buffer.c ****     if( ( pxStreamBuffer->ucFlags & sbFLAGS_IS_STATICALLY_ALLOCATED ) == ( uint8_t ) pdFALSE )
 194              	 .loc 1 379 0 is_stmt 1
 195 0016 FB68     	 ldr r3,[r7,#12]
 196 0018 1B7F     	 ldrb r3,[r3,#28]
 197 001a 1A1C     	 mov r2,r3
 198 001c 0223     	 mov r3,#2
 199 001e 1340     	 and r3,r2
 200 0020 04D1     	 bne .L16
 380:../Dave/Generated/FREERTOS/stream_buffer.c ****     {
 381:../Dave/Generated/FREERTOS/stream_buffer.c ****         #if ( configSUPPORT_DYNAMIC_ALLOCATION == 1 )
 382:../Dave/Generated/FREERTOS/stream_buffer.c ****             {
 383:../Dave/Generated/FREERTOS/stream_buffer.c ****                 /* Both the structure and the buffer were allocated using a single call
 384:../Dave/Generated/FREERTOS/stream_buffer.c ****                 * to pvPortMalloc(), hence only one call to vPortFree() is required. */
 385:../Dave/Generated/FREERTOS/stream_buffer.c ****                 vPortFree( ( void * ) pxStreamBuffer ); /*lint !e9087 Standard free() semantics req
 201              	 .loc 1 385 0
 202 0022 FB68     	 ldr r3,[r7,#12]
 203 0024 181C     	 mov r0,r3
 204 0026 FFF7FEFF 	 bl vPortFree
 205 002a 05E0     	 b .L13
 206              	.L16:
 386:../Dave/Generated/FREERTOS/stream_buffer.c ****             }
 387:../Dave/Generated/FREERTOS/stream_buffer.c ****         #else
 388:../Dave/Generated/FREERTOS/stream_buffer.c ****             {
 389:../Dave/Generated/FREERTOS/stream_buffer.c ****                 /* Should not be possible to get here, ucFlags must be corrupt.
 390:../Dave/Generated/FREERTOS/stream_buffer.c ****                  * Force an assert. */
 391:../Dave/Generated/FREERTOS/stream_buffer.c ****                 configASSERT( xStreamBuffer == ( StreamBufferHandle_t ) ~0 );
 392:../Dave/Generated/FREERTOS/stream_buffer.c ****             }
 393:../Dave/Generated/FREERTOS/stream_buffer.c ****         #endif
 394:../Dave/Generated/FREERTOS/stream_buffer.c ****     }
 395:../Dave/Generated/FREERTOS/stream_buffer.c ****     else
 396:../Dave/Generated/FREERTOS/stream_buffer.c ****     {
 397:../Dave/Generated/FREERTOS/stream_buffer.c ****         /* The structure and buffer were not allocated dynamically and cannot be
 398:../Dave/Generated/FREERTOS/stream_buffer.c ****          * freed - just scrub the structure so future use will assert. */
 399:../Dave/Generated/FREERTOS/stream_buffer.c ****         ( void ) memset( pxStreamBuffer, 0x00, sizeof( StreamBuffer_t ) );
 207              	 .loc 1 399 0
 208 002c FB68     	 ldr r3,[r7,#12]
 209 002e 181C     	 mov r0,r3
 210 0030 0021     	 mov r1,#0
 211 0032 2422     	 mov r2,#36
 212 0034 FFF7FEFF 	 bl memset
 213              	.L13:
 400:../Dave/Generated/FREERTOS/stream_buffer.c ****     }
 401:../Dave/Generated/FREERTOS/stream_buffer.c **** }
 214              	 .loc 1 401 0
 215 0038 BD46     	 mov sp,r7
 216 003a 04B0     	 add sp,sp,#16
 217              	 
 218 003c 80BD     	 pop {r7,pc}
 219              	 .cfi_endproc
 220              	.LFE43:
 222 003e C046     	 .section .text.xStreamBufferReset,"ax",%progbits
 223              	 .align 2
 224              	 .global xStreamBufferReset
 225              	 .code 16
 226              	 .thumb_func
 228              	xStreamBufferReset:
 229              	.LFB44:
 402:../Dave/Generated/FREERTOS/stream_buffer.c **** /*-----------------------------------------------------------*/
 403:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 404:../Dave/Generated/FREERTOS/stream_buffer.c **** BaseType_t xStreamBufferReset( StreamBufferHandle_t xStreamBuffer )
 405:../Dave/Generated/FREERTOS/stream_buffer.c **** {
 230              	 .loc 1 405 0
 231              	 .cfi_startproc
 232 0000 90B5     	 push {r4,r7,lr}
 233              	.LCFI6:
 234              	 .cfi_def_cfa_offset 12
 235              	 .cfi_offset 4,-12
 236              	 .cfi_offset 7,-8
 237              	 .cfi_offset 14,-4
 238 0002 89B0     	 sub sp,sp,#36
 239              	.LCFI7:
 240              	 .cfi_def_cfa_offset 48
 241 0004 02AF     	 add r7,sp,#8
 242              	.LCFI8:
 243              	 .cfi_def_cfa 7,40
 244 0006 7860     	 str r0,[r7,#4]
 406:../Dave/Generated/FREERTOS/stream_buffer.c ****     StreamBuffer_t * const pxStreamBuffer = xStreamBuffer;
 245              	 .loc 1 406 0
 246 0008 7B68     	 ldr r3,[r7,#4]
 247 000a 3B61     	 str r3,[r7,#16]
 407:../Dave/Generated/FREERTOS/stream_buffer.c ****     BaseType_t xReturn = pdFAIL;
 248              	 .loc 1 407 0
 249 000c 0023     	 mov r3,#0
 250 000e 7B61     	 str r3,[r7,#20]
 408:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 409:../Dave/Generated/FREERTOS/stream_buffer.c ****     #if ( configUSE_TRACE_FACILITY == 1 )
 410:../Dave/Generated/FREERTOS/stream_buffer.c ****         UBaseType_t uxStreamBufferNumber;
 411:../Dave/Generated/FREERTOS/stream_buffer.c ****     #endif
 412:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 413:../Dave/Generated/FREERTOS/stream_buffer.c ****     configASSERT( pxStreamBuffer );
 251              	 .loc 1 413 0
 252 0010 3B69     	 ldr r3,[r7,#16]
 253 0012 002B     	 cmp r3,#0
 254 0014 01D1     	 bne .L19
 255              	 .loc 1 413 0 is_stmt 0 discriminator 1
 256              	
 257 0016 72B6     	 cpsid i
 258              	
 259              	 .code 16
 260              	.L20:
 261 0018 FEE7     	 b .L20
 262              	.L19:
 414:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 415:../Dave/Generated/FREERTOS/stream_buffer.c ****     #if ( configUSE_TRACE_FACILITY == 1 )
 416:../Dave/Generated/FREERTOS/stream_buffer.c ****         {
 417:../Dave/Generated/FREERTOS/stream_buffer.c ****             /* Store the stream buffer number so it can be restored after the
 418:../Dave/Generated/FREERTOS/stream_buffer.c ****              * reset. */
 419:../Dave/Generated/FREERTOS/stream_buffer.c ****             uxStreamBufferNumber = pxStreamBuffer->uxStreamBufferNumber;
 263              	 .loc 1 419 0 is_stmt 1
 264 001a 3B69     	 ldr r3,[r7,#16]
 265 001c 1B6A     	 ldr r3,[r3,#32]
 266 001e FB60     	 str r3,[r7,#12]
 420:../Dave/Generated/FREERTOS/stream_buffer.c ****         }
 421:../Dave/Generated/FREERTOS/stream_buffer.c ****     #endif
 422:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 423:../Dave/Generated/FREERTOS/stream_buffer.c ****     /* Can only reset a message buffer if there are no tasks blocked on it. */
 424:../Dave/Generated/FREERTOS/stream_buffer.c ****     taskENTER_CRITICAL();
 267              	 .loc 1 424 0
 268 0020 FFF7FEFF 	 bl vPortEnterCritical
 425:../Dave/Generated/FREERTOS/stream_buffer.c ****     {
 426:../Dave/Generated/FREERTOS/stream_buffer.c ****         if( pxStreamBuffer->xTaskWaitingToReceive == NULL )
 269              	 .loc 1 426 0
 270 0024 3B69     	 ldr r3,[r7,#16]
 271 0026 1B69     	 ldr r3,[r3,#16]
 272 0028 002B     	 cmp r3,#0
 273 002a 15D1     	 bne .L21
 427:../Dave/Generated/FREERTOS/stream_buffer.c ****         {
 428:../Dave/Generated/FREERTOS/stream_buffer.c ****             if( pxStreamBuffer->xTaskWaitingToSend == NULL )
 274              	 .loc 1 428 0
 275 002c 3B69     	 ldr r3,[r7,#16]
 276 002e 5B69     	 ldr r3,[r3,#20]
 277 0030 002B     	 cmp r3,#0
 278 0032 11D1     	 bne .L21
 429:../Dave/Generated/FREERTOS/stream_buffer.c ****             {
 430:../Dave/Generated/FREERTOS/stream_buffer.c ****                 prvInitialiseNewStreamBuffer( pxStreamBuffer,
 279              	 .loc 1 430 0
 280 0034 3B69     	 ldr r3,[r7,#16]
 281 0036 9969     	 ldr r1,[r3,#24]
 282 0038 3B69     	 ldr r3,[r7,#16]
 283 003a 9A68     	 ldr r2,[r3,#8]
 284 003c 3B69     	 ldr r3,[r7,#16]
 285 003e DC68     	 ldr r4,[r3,#12]
 286 0040 3B69     	 ldr r3,[r7,#16]
 287 0042 1B7F     	 ldrb r3,[r3,#28]
 288 0044 3869     	 ldr r0,[r7,#16]
 289 0046 0093     	 str r3,[sp]
 290 0048 231C     	 mov r3,r4
 291 004a FFF7FEFF 	 bl prvInitialiseNewStreamBuffer
 431:../Dave/Generated/FREERTOS/stream_buffer.c ****                                               pxStreamBuffer->pucBuffer,
 432:../Dave/Generated/FREERTOS/stream_buffer.c ****                                               pxStreamBuffer->xLength,
 433:../Dave/Generated/FREERTOS/stream_buffer.c ****                                               pxStreamBuffer->xTriggerLevelBytes,
 434:../Dave/Generated/FREERTOS/stream_buffer.c ****                                               pxStreamBuffer->ucFlags );
 435:../Dave/Generated/FREERTOS/stream_buffer.c ****                 xReturn = pdPASS;
 292              	 .loc 1 435 0
 293 004e 0123     	 mov r3,#1
 294 0050 7B61     	 str r3,[r7,#20]
 436:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 437:../Dave/Generated/FREERTOS/stream_buffer.c ****                 #if ( configUSE_TRACE_FACILITY == 1 )
 438:../Dave/Generated/FREERTOS/stream_buffer.c ****                     {
 439:../Dave/Generated/FREERTOS/stream_buffer.c ****                         pxStreamBuffer->uxStreamBufferNumber = uxStreamBufferNumber;
 295              	 .loc 1 439 0
 296 0052 3B69     	 ldr r3,[r7,#16]
 297 0054 FA68     	 ldr r2,[r7,#12]
 298 0056 1A62     	 str r2,[r3,#32]
 299              	.L21:
 440:../Dave/Generated/FREERTOS/stream_buffer.c ****                     }
 441:../Dave/Generated/FREERTOS/stream_buffer.c ****                 #endif
 442:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 443:../Dave/Generated/FREERTOS/stream_buffer.c ****                 traceSTREAM_BUFFER_RESET( xStreamBuffer );
 444:../Dave/Generated/FREERTOS/stream_buffer.c ****             }
 445:../Dave/Generated/FREERTOS/stream_buffer.c ****         }
 446:../Dave/Generated/FREERTOS/stream_buffer.c ****     }
 447:../Dave/Generated/FREERTOS/stream_buffer.c ****     taskEXIT_CRITICAL();
 300              	 .loc 1 447 0
 301 0058 FFF7FEFF 	 bl vPortExitCritical
 448:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 449:../Dave/Generated/FREERTOS/stream_buffer.c ****     return xReturn;
 302              	 .loc 1 449 0
 303 005c 7B69     	 ldr r3,[r7,#20]
 450:../Dave/Generated/FREERTOS/stream_buffer.c **** }
 304              	 .loc 1 450 0
 305 005e 181C     	 mov r0,r3
 306 0060 BD46     	 mov sp,r7
 307 0062 07B0     	 add sp,sp,#28
 308              	 
 309 0064 90BD     	 pop {r4,r7,pc}
 310              	 .cfi_endproc
 311              	.LFE44:
 313 0066 C046     	 .section .text.xStreamBufferSetTriggerLevel,"ax",%progbits
 314              	 .align 2
 315              	 .global xStreamBufferSetTriggerLevel
 316              	 .code 16
 317              	 .thumb_func
 319              	xStreamBufferSetTriggerLevel:
 320              	.LFB45:
 451:../Dave/Generated/FREERTOS/stream_buffer.c **** /*-----------------------------------------------------------*/
 452:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 453:../Dave/Generated/FREERTOS/stream_buffer.c **** BaseType_t xStreamBufferSetTriggerLevel( StreamBufferHandle_t xStreamBuffer,
 454:../Dave/Generated/FREERTOS/stream_buffer.c ****                                          size_t xTriggerLevel )
 455:../Dave/Generated/FREERTOS/stream_buffer.c **** {
 321              	 .loc 1 455 0
 322              	 .cfi_startproc
 323 0000 80B5     	 push {r7,lr}
 324              	.LCFI9:
 325              	 .cfi_def_cfa_offset 8
 326              	 .cfi_offset 7,-8
 327              	 .cfi_offset 14,-4
 328 0002 84B0     	 sub sp,sp,#16
 329              	.LCFI10:
 330              	 .cfi_def_cfa_offset 24
 331 0004 00AF     	 add r7,sp,#0
 332              	.LCFI11:
 333              	 .cfi_def_cfa_register 7
 334 0006 7860     	 str r0,[r7,#4]
 335 0008 3960     	 str r1,[r7]
 456:../Dave/Generated/FREERTOS/stream_buffer.c ****     StreamBuffer_t * const pxStreamBuffer = xStreamBuffer;
 336              	 .loc 1 456 0
 337 000a 7B68     	 ldr r3,[r7,#4]
 338 000c BB60     	 str r3,[r7,#8]
 457:../Dave/Generated/FREERTOS/stream_buffer.c ****     BaseType_t xReturn;
 458:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 459:../Dave/Generated/FREERTOS/stream_buffer.c ****     configASSERT( pxStreamBuffer );
 339              	 .loc 1 459 0
 340 000e BB68     	 ldr r3,[r7,#8]
 341 0010 002B     	 cmp r3,#0
 342 0012 01D1     	 bne .L24
 343              	 .loc 1 459 0 is_stmt 0 discriminator 1
 344              	
 345 0014 72B6     	 cpsid i
 346              	
 347              	 .code 16
 348              	.L25:
 349 0016 FEE7     	 b .L25
 350              	.L24:
 460:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 461:../Dave/Generated/FREERTOS/stream_buffer.c ****     /* It is not valid for the trigger level to be 0. */
 462:../Dave/Generated/FREERTOS/stream_buffer.c ****     if( xTriggerLevel == ( size_t ) 0 )
 351              	 .loc 1 462 0 is_stmt 1
 352 0018 3B68     	 ldr r3,[r7]
 353 001a 002B     	 cmp r3,#0
 354 001c 01D1     	 bne .L26
 463:../Dave/Generated/FREERTOS/stream_buffer.c ****     {
 464:../Dave/Generated/FREERTOS/stream_buffer.c ****         xTriggerLevel = ( size_t ) 1;
 355              	 .loc 1 464 0
 356 001e 0123     	 mov r3,#1
 357 0020 3B60     	 str r3,[r7]
 358              	.L26:
 465:../Dave/Generated/FREERTOS/stream_buffer.c ****     }
 466:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 467:../Dave/Generated/FREERTOS/stream_buffer.c ****     /* The trigger level is the number of bytes that must be in the stream
 468:../Dave/Generated/FREERTOS/stream_buffer.c ****      * buffer before a task that is waiting for data is unblocked. */
 469:../Dave/Generated/FREERTOS/stream_buffer.c ****     if( xTriggerLevel <= pxStreamBuffer->xLength )
 359              	 .loc 1 469 0
 360 0022 BB68     	 ldr r3,[r7,#8]
 361 0024 9A68     	 ldr r2,[r3,#8]
 362 0026 3B68     	 ldr r3,[r7]
 363 0028 9A42     	 cmp r2,r3
 364 002a 05D3     	 bcc .L27
 470:../Dave/Generated/FREERTOS/stream_buffer.c ****     {
 471:../Dave/Generated/FREERTOS/stream_buffer.c ****         pxStreamBuffer->xTriggerLevelBytes = xTriggerLevel;
 365              	 .loc 1 471 0
 366 002c BB68     	 ldr r3,[r7,#8]
 367 002e 3A68     	 ldr r2,[r7]
 368 0030 DA60     	 str r2,[r3,#12]
 472:../Dave/Generated/FREERTOS/stream_buffer.c ****         xReturn = pdPASS;
 369              	 .loc 1 472 0
 370 0032 0123     	 mov r3,#1
 371 0034 FB60     	 str r3,[r7,#12]
 372 0036 01E0     	 b .L28
 373              	.L27:
 473:../Dave/Generated/FREERTOS/stream_buffer.c ****     }
 474:../Dave/Generated/FREERTOS/stream_buffer.c ****     else
 475:../Dave/Generated/FREERTOS/stream_buffer.c ****     {
 476:../Dave/Generated/FREERTOS/stream_buffer.c ****         xReturn = pdFALSE;
 374              	 .loc 1 476 0
 375 0038 0023     	 mov r3,#0
 376 003a FB60     	 str r3,[r7,#12]
 377              	.L28:
 477:../Dave/Generated/FREERTOS/stream_buffer.c ****     }
 478:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 479:../Dave/Generated/FREERTOS/stream_buffer.c ****     return xReturn;
 378              	 .loc 1 479 0
 379 003c FB68     	 ldr r3,[r7,#12]
 480:../Dave/Generated/FREERTOS/stream_buffer.c **** }
 380              	 .loc 1 480 0
 381 003e 181C     	 mov r0,r3
 382 0040 BD46     	 mov sp,r7
 383 0042 04B0     	 add sp,sp,#16
 384              	 
 385 0044 80BD     	 pop {r7,pc}
 386              	 .cfi_endproc
 387              	.LFE45:
 389 0046 C046     	 .section .text.xStreamBufferSpacesAvailable,"ax",%progbits
 390              	 .align 2
 391              	 .global xStreamBufferSpacesAvailable
 392              	 .code 16
 393              	 .thumb_func
 395              	xStreamBufferSpacesAvailable:
 396              	.LFB46:
 481:../Dave/Generated/FREERTOS/stream_buffer.c **** /*-----------------------------------------------------------*/
 482:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 483:../Dave/Generated/FREERTOS/stream_buffer.c **** size_t xStreamBufferSpacesAvailable( StreamBufferHandle_t xStreamBuffer )
 484:../Dave/Generated/FREERTOS/stream_buffer.c **** {
 397              	 .loc 1 484 0
 398              	 .cfi_startproc
 399 0000 80B5     	 push {r7,lr}
 400              	.LCFI12:
 401              	 .cfi_def_cfa_offset 8
 402              	 .cfi_offset 7,-8
 403              	 .cfi_offset 14,-4
 404 0002 84B0     	 sub sp,sp,#16
 405              	.LCFI13:
 406              	 .cfi_def_cfa_offset 24
 407 0004 00AF     	 add r7,sp,#0
 408              	.LCFI14:
 409              	 .cfi_def_cfa_register 7
 410 0006 7860     	 str r0,[r7,#4]
 485:../Dave/Generated/FREERTOS/stream_buffer.c ****     const StreamBuffer_t * const pxStreamBuffer = xStreamBuffer;
 411              	 .loc 1 485 0
 412 0008 7B68     	 ldr r3,[r7,#4]
 413 000a BB60     	 str r3,[r7,#8]
 486:../Dave/Generated/FREERTOS/stream_buffer.c ****     size_t xSpace;
 487:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 488:../Dave/Generated/FREERTOS/stream_buffer.c ****     configASSERT( pxStreamBuffer );
 414              	 .loc 1 488 0
 415 000c BB68     	 ldr r3,[r7,#8]
 416 000e 002B     	 cmp r3,#0
 417 0010 01D1     	 bne .L31
 418              	 .loc 1 488 0 is_stmt 0 discriminator 1
 419              	
 420 0012 72B6     	 cpsid i
 421              	
 422              	 .code 16
 423              	.L32:
 424 0014 FEE7     	 b .L32
 425              	.L31:
 489:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 490:../Dave/Generated/FREERTOS/stream_buffer.c ****     xSpace = pxStreamBuffer->xLength + pxStreamBuffer->xTail;
 426              	 .loc 1 490 0 is_stmt 1
 427 0016 BB68     	 ldr r3,[r7,#8]
 428 0018 9A68     	 ldr r2,[r3,#8]
 429 001a BB68     	 ldr r3,[r7,#8]
 430 001c 1B68     	 ldr r3,[r3]
 431 001e D318     	 add r3,r2,r3
 432 0020 FB60     	 str r3,[r7,#12]
 491:../Dave/Generated/FREERTOS/stream_buffer.c ****     xSpace -= pxStreamBuffer->xHead;
 433              	 .loc 1 491 0
 434 0022 BB68     	 ldr r3,[r7,#8]
 435 0024 5B68     	 ldr r3,[r3,#4]
 436 0026 FA68     	 ldr r2,[r7,#12]
 437 0028 D31A     	 sub r3,r2,r3
 438 002a FB60     	 str r3,[r7,#12]
 492:../Dave/Generated/FREERTOS/stream_buffer.c ****     xSpace -= ( size_t ) 1;
 439              	 .loc 1 492 0
 440 002c FB68     	 ldr r3,[r7,#12]
 441 002e 013B     	 sub r3,r3,#1
 442 0030 FB60     	 str r3,[r7,#12]
 493:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 494:../Dave/Generated/FREERTOS/stream_buffer.c ****     if( xSpace >= pxStreamBuffer->xLength )
 443              	 .loc 1 494 0
 444 0032 BB68     	 ldr r3,[r7,#8]
 445 0034 9A68     	 ldr r2,[r3,#8]
 446 0036 FB68     	 ldr r3,[r7,#12]
 447 0038 9A42     	 cmp r2,r3
 448 003a 04D8     	 bhi .L33
 495:../Dave/Generated/FREERTOS/stream_buffer.c ****     {
 496:../Dave/Generated/FREERTOS/stream_buffer.c ****         xSpace -= pxStreamBuffer->xLength;
 449              	 .loc 1 496 0
 450 003c BB68     	 ldr r3,[r7,#8]
 451 003e 9B68     	 ldr r3,[r3,#8]
 452 0040 FA68     	 ldr r2,[r7,#12]
 453 0042 D31A     	 sub r3,r2,r3
 454 0044 FB60     	 str r3,[r7,#12]
 455              	.L33:
 497:../Dave/Generated/FREERTOS/stream_buffer.c ****     }
 498:../Dave/Generated/FREERTOS/stream_buffer.c ****     else
 499:../Dave/Generated/FREERTOS/stream_buffer.c ****     {
 500:../Dave/Generated/FREERTOS/stream_buffer.c ****         mtCOVERAGE_TEST_MARKER();
 501:../Dave/Generated/FREERTOS/stream_buffer.c ****     }
 502:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 503:../Dave/Generated/FREERTOS/stream_buffer.c ****     return xSpace;
 456              	 .loc 1 503 0
 457 0046 FB68     	 ldr r3,[r7,#12]
 504:../Dave/Generated/FREERTOS/stream_buffer.c **** }
 458              	 .loc 1 504 0
 459 0048 181C     	 mov r0,r3
 460 004a BD46     	 mov sp,r7
 461 004c 04B0     	 add sp,sp,#16
 462              	 
 463 004e 80BD     	 pop {r7,pc}
 464              	 .cfi_endproc
 465              	.LFE46:
 467              	 .section .text.xStreamBufferBytesAvailable,"ax",%progbits
 468              	 .align 2
 469              	 .global xStreamBufferBytesAvailable
 470              	 .code 16
 471              	 .thumb_func
 473              	xStreamBufferBytesAvailable:
 474              	.LFB47:
 505:../Dave/Generated/FREERTOS/stream_buffer.c **** /*-----------------------------------------------------------*/
 506:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 507:../Dave/Generated/FREERTOS/stream_buffer.c **** size_t xStreamBufferBytesAvailable( StreamBufferHandle_t xStreamBuffer )
 508:../Dave/Generated/FREERTOS/stream_buffer.c **** {
 475              	 .loc 1 508 0
 476              	 .cfi_startproc
 477 0000 80B5     	 push {r7,lr}
 478              	.LCFI15:
 479              	 .cfi_def_cfa_offset 8
 480              	 .cfi_offset 7,-8
 481              	 .cfi_offset 14,-4
 482 0002 84B0     	 sub sp,sp,#16
 483              	.LCFI16:
 484              	 .cfi_def_cfa_offset 24
 485 0004 00AF     	 add r7,sp,#0
 486              	.LCFI17:
 487              	 .cfi_def_cfa_register 7
 488 0006 7860     	 str r0,[r7,#4]
 509:../Dave/Generated/FREERTOS/stream_buffer.c ****     const StreamBuffer_t * const pxStreamBuffer = xStreamBuffer;
 489              	 .loc 1 509 0
 490 0008 7B68     	 ldr r3,[r7,#4]
 491 000a FB60     	 str r3,[r7,#12]
 510:../Dave/Generated/FREERTOS/stream_buffer.c ****     size_t xReturn;
 511:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 512:../Dave/Generated/FREERTOS/stream_buffer.c ****     configASSERT( pxStreamBuffer );
 492              	 .loc 1 512 0
 493 000c FB68     	 ldr r3,[r7,#12]
 494 000e 002B     	 cmp r3,#0
 495 0010 01D1     	 bne .L36
 496              	 .loc 1 512 0 is_stmt 0 discriminator 1
 497              	
 498 0012 72B6     	 cpsid i
 499              	
 500              	 .code 16
 501              	.L37:
 502 0014 FEE7     	 b .L37
 503              	.L36:
 513:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 514:../Dave/Generated/FREERTOS/stream_buffer.c ****     xReturn = prvBytesInBuffer( pxStreamBuffer );
 504              	 .loc 1 514 0 is_stmt 1
 505 0016 FB68     	 ldr r3,[r7,#12]
 506 0018 181C     	 mov r0,r3
 507 001a FFF7FEFF 	 bl prvBytesInBuffer
 508 001e 031C     	 mov r3,r0
 509 0020 BB60     	 str r3,[r7,#8]
 515:../Dave/Generated/FREERTOS/stream_buffer.c ****     return xReturn;
 510              	 .loc 1 515 0
 511 0022 BB68     	 ldr r3,[r7,#8]
 516:../Dave/Generated/FREERTOS/stream_buffer.c **** }
 512              	 .loc 1 516 0
 513 0024 181C     	 mov r0,r3
 514 0026 BD46     	 mov sp,r7
 515 0028 04B0     	 add sp,sp,#16
 516              	 
 517 002a 80BD     	 pop {r7,pc}
 518              	 .cfi_endproc
 519              	.LFE47:
 521              	 .section .text.xStreamBufferSend,"ax",%progbits
 522              	 .align 2
 523              	 .global xStreamBufferSend
 524              	 .code 16
 525              	 .thumb_func
 527              	xStreamBufferSend:
 528              	.LFB48:
 517:../Dave/Generated/FREERTOS/stream_buffer.c **** /*-----------------------------------------------------------*/
 518:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 519:../Dave/Generated/FREERTOS/stream_buffer.c **** size_t xStreamBufferSend( StreamBufferHandle_t xStreamBuffer,
 520:../Dave/Generated/FREERTOS/stream_buffer.c ****                           const void * pvTxData,
 521:../Dave/Generated/FREERTOS/stream_buffer.c ****                           size_t xDataLengthBytes,
 522:../Dave/Generated/FREERTOS/stream_buffer.c ****                           TickType_t xTicksToWait )
 523:../Dave/Generated/FREERTOS/stream_buffer.c **** {
 529              	 .loc 1 523 0
 530              	 .cfi_startproc
 531 0000 90B5     	 push {r4,r7,lr}
 532              	.LCFI18:
 533              	 .cfi_def_cfa_offset 12
 534              	 .cfi_offset 4,-12
 535              	 .cfi_offset 7,-8
 536              	 .cfi_offset 14,-4
 537 0002 8FB0     	 sub sp,sp,#60
 538              	.LCFI19:
 539              	 .cfi_def_cfa_offset 72
 540 0004 02AF     	 add r7,sp,#8
 541              	.LCFI20:
 542              	 .cfi_def_cfa 7,64
 543 0006 F860     	 str r0,[r7,#12]
 544 0008 B960     	 str r1,[r7,#8]
 545 000a 7A60     	 str r2,[r7,#4]
 546 000c 3B60     	 str r3,[r7]
 524:../Dave/Generated/FREERTOS/stream_buffer.c ****     StreamBuffer_t * const pxStreamBuffer = xStreamBuffer;
 547              	 .loc 1 524 0
 548 000e FB68     	 ldr r3,[r7,#12]
 549 0010 7B62     	 str r3,[r7,#36]
 525:../Dave/Generated/FREERTOS/stream_buffer.c ****     size_t xReturn, xSpace = 0;
 550              	 .loc 1 525 0
 551 0012 0023     	 mov r3,#0
 552 0014 FB62     	 str r3,[r7,#44]
 526:../Dave/Generated/FREERTOS/stream_buffer.c ****     size_t xRequiredSpace = xDataLengthBytes;
 553              	 .loc 1 526 0
 554 0016 7B68     	 ldr r3,[r7,#4]
 555 0018 BB62     	 str r3,[r7,#40]
 527:../Dave/Generated/FREERTOS/stream_buffer.c ****     TimeOut_t xTimeOut;
 528:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 529:../Dave/Generated/FREERTOS/stream_buffer.c ****     /* The maximum amount of space a stream buffer will ever report is its length
 530:../Dave/Generated/FREERTOS/stream_buffer.c ****      * minus 1. */
 531:../Dave/Generated/FREERTOS/stream_buffer.c ****     const size_t xMaxReportedSpace = pxStreamBuffer->xLength - ( size_t ) 1;
 556              	 .loc 1 531 0
 557 001a 7B6A     	 ldr r3,[r7,#36]
 558 001c 9B68     	 ldr r3,[r3,#8]
 559 001e 013B     	 sub r3,r3,#1
 560 0020 3B62     	 str r3,[r7,#32]
 532:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 533:../Dave/Generated/FREERTOS/stream_buffer.c ****     configASSERT( pvTxData );
 561              	 .loc 1 533 0
 562 0022 BB68     	 ldr r3,[r7,#8]
 563 0024 002B     	 cmp r3,#0
 564 0026 01D1     	 bne .L40
 565              	 .loc 1 533 0 is_stmt 0 discriminator 1
 566              	
 567 0028 72B6     	 cpsid i
 568              	
 569              	 .code 16
 570              	.L41:
 571 002a FEE7     	 b .L41
 572              	.L40:
 534:../Dave/Generated/FREERTOS/stream_buffer.c ****     configASSERT( pxStreamBuffer );
 573              	 .loc 1 534 0 is_stmt 1
 574 002c 7B6A     	 ldr r3,[r7,#36]
 575 002e 002B     	 cmp r3,#0
 576 0030 01D1     	 bne .L42
 577              	 .loc 1 534 0 is_stmt 0 discriminator 1
 578              	
 579 0032 72B6     	 cpsid i
 580              	
 581              	 .code 16
 582              	.L43:
 583              	 .loc 1 534 0 discriminator 2
 584 0034 FEE7     	 b .L43
 585              	.L42:
 535:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 536:../Dave/Generated/FREERTOS/stream_buffer.c ****     /* This send function is used to write to both message buffers and stream
 537:../Dave/Generated/FREERTOS/stream_buffer.c ****      * buffers.  If this is a message buffer then the space needed must be
 538:../Dave/Generated/FREERTOS/stream_buffer.c ****      * increased by the amount of bytes needed to store the length of the
 539:../Dave/Generated/FREERTOS/stream_buffer.c ****      * message. */
 540:../Dave/Generated/FREERTOS/stream_buffer.c ****     if( ( pxStreamBuffer->ucFlags & sbFLAGS_IS_MESSAGE_BUFFER ) != ( uint8_t ) 0 )
 586              	 .loc 1 540 0 is_stmt 1
 587 0036 7B6A     	 ldr r3,[r7,#36]
 588 0038 1B7F     	 ldrb r3,[r3,#28]
 589 003a 1A1C     	 mov r2,r3
 590 003c 0123     	 mov r3,#1
 591 003e 1340     	 and r3,r2
 592 0040 0FD0     	 beq .L44
 541:../Dave/Generated/FREERTOS/stream_buffer.c ****     {
 542:../Dave/Generated/FREERTOS/stream_buffer.c ****         xRequiredSpace += sbBYTES_TO_STORE_MESSAGE_LENGTH;
 593              	 .loc 1 542 0
 594 0042 BB6A     	 ldr r3,[r7,#40]
 595 0044 0433     	 add r3,r3,#4
 596 0046 BB62     	 str r3,[r7,#40]
 543:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 544:../Dave/Generated/FREERTOS/stream_buffer.c ****         /* Overflow? */
 545:../Dave/Generated/FREERTOS/stream_buffer.c ****         configASSERT( xRequiredSpace > xDataLengthBytes );
 597              	 .loc 1 545 0
 598 0048 BA6A     	 ldr r2,[r7,#40]
 599 004a 7B68     	 ldr r3,[r7,#4]
 600 004c 9A42     	 cmp r2,r3
 601 004e 01D8     	 bhi .L45
 602              	 .loc 1 545 0 is_stmt 0 discriminator 1
 603              	
 604 0050 72B6     	 cpsid i
 605              	
 606              	 .code 16
 607              	.L46:
 608              	 .loc 1 545 0 discriminator 3
 609 0052 FEE7     	 b .L46
 610              	.L45:
 546:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 547:../Dave/Generated/FREERTOS/stream_buffer.c ****         /* If this is a message buffer then it must be possible to write the
 548:../Dave/Generated/FREERTOS/stream_buffer.c ****          * whole message. */
 549:../Dave/Generated/FREERTOS/stream_buffer.c ****         if( xRequiredSpace > xMaxReportedSpace )
 611              	 .loc 1 549 0 is_stmt 1
 612 0054 BA6A     	 ldr r2,[r7,#40]
 613 0056 3B6A     	 ldr r3,[r7,#32]
 614 0058 9A42     	 cmp r2,r3
 615 005a 08D9     	 bls .L47
 550:../Dave/Generated/FREERTOS/stream_buffer.c ****         {
 551:../Dave/Generated/FREERTOS/stream_buffer.c ****             /* The message would not fit even if the entire buffer was empty,
 552:../Dave/Generated/FREERTOS/stream_buffer.c ****              * so don't wait for space. */
 553:../Dave/Generated/FREERTOS/stream_buffer.c ****             xTicksToWait = ( TickType_t ) 0;
 616              	 .loc 1 553 0
 617 005c 0023     	 mov r3,#0
 618 005e 3B60     	 str r3,[r7]
 619 0060 05E0     	 b .L47
 620              	.L44:
 554:../Dave/Generated/FREERTOS/stream_buffer.c ****         }
 555:../Dave/Generated/FREERTOS/stream_buffer.c ****         else
 556:../Dave/Generated/FREERTOS/stream_buffer.c ****         {
 557:../Dave/Generated/FREERTOS/stream_buffer.c ****             mtCOVERAGE_TEST_MARKER();
 558:../Dave/Generated/FREERTOS/stream_buffer.c ****         }
 559:../Dave/Generated/FREERTOS/stream_buffer.c ****     }
 560:../Dave/Generated/FREERTOS/stream_buffer.c ****     else
 561:../Dave/Generated/FREERTOS/stream_buffer.c ****     {
 562:../Dave/Generated/FREERTOS/stream_buffer.c ****         /* If this is a stream buffer then it is acceptable to write only part
 563:../Dave/Generated/FREERTOS/stream_buffer.c ****          * of the message to the buffer.  Cap the length to the total length of
 564:../Dave/Generated/FREERTOS/stream_buffer.c ****          * the buffer. */
 565:../Dave/Generated/FREERTOS/stream_buffer.c ****         if( xRequiredSpace > xMaxReportedSpace )
 621              	 .loc 1 565 0
 622 0062 BA6A     	 ldr r2,[r7,#40]
 623 0064 3B6A     	 ldr r3,[r7,#32]
 624 0066 9A42     	 cmp r2,r3
 625 0068 01D9     	 bls .L47
 566:../Dave/Generated/FREERTOS/stream_buffer.c ****         {
 567:../Dave/Generated/FREERTOS/stream_buffer.c ****             xRequiredSpace = xMaxReportedSpace;
 626              	 .loc 1 567 0
 627 006a 3B6A     	 ldr r3,[r7,#32]
 628 006c BB62     	 str r3,[r7,#40]
 629              	.L47:
 568:../Dave/Generated/FREERTOS/stream_buffer.c ****         }
 569:../Dave/Generated/FREERTOS/stream_buffer.c ****         else
 570:../Dave/Generated/FREERTOS/stream_buffer.c ****         {
 571:../Dave/Generated/FREERTOS/stream_buffer.c ****             mtCOVERAGE_TEST_MARKER();
 572:../Dave/Generated/FREERTOS/stream_buffer.c ****         }
 573:../Dave/Generated/FREERTOS/stream_buffer.c ****     }
 574:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 575:../Dave/Generated/FREERTOS/stream_buffer.c ****     if( xTicksToWait != ( TickType_t ) 0 )
 630              	 .loc 1 575 0
 631 006e 3B68     	 ldr r3,[r7]
 632 0070 002B     	 cmp r3,#0
 633 0072 3AD0     	 beq .L48
 576:../Dave/Generated/FREERTOS/stream_buffer.c ****     {
 577:../Dave/Generated/FREERTOS/stream_buffer.c ****         vTaskSetTimeOutState( &xTimeOut );
 634              	 .loc 1 577 0
 635 0074 1423     	 mov r3,#20
 636 0076 FB18     	 add r3,r7,r3
 637 0078 181C     	 mov r0,r3
 638 007a FFF7FEFF 	 bl vTaskSetTimeOutState
 639              	.L54:
 578:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 579:../Dave/Generated/FREERTOS/stream_buffer.c ****         do
 580:../Dave/Generated/FREERTOS/stream_buffer.c ****         {
 581:../Dave/Generated/FREERTOS/stream_buffer.c ****             /* Wait until the required number of bytes are free in the message
 582:../Dave/Generated/FREERTOS/stream_buffer.c ****              * buffer. */
 583:../Dave/Generated/FREERTOS/stream_buffer.c ****             taskENTER_CRITICAL();
 640              	 .loc 1 583 0
 641 007e FFF7FEFF 	 bl vPortEnterCritical
 584:../Dave/Generated/FREERTOS/stream_buffer.c ****             {
 585:../Dave/Generated/FREERTOS/stream_buffer.c ****                 xSpace = xStreamBufferSpacesAvailable( pxStreamBuffer );
 642              	 .loc 1 585 0
 643 0082 7B6A     	 ldr r3,[r7,#36]
 644 0084 181C     	 mov r0,r3
 645 0086 FFF7FEFF 	 bl xStreamBufferSpacesAvailable
 646 008a 031C     	 mov r3,r0
 647 008c FB62     	 str r3,[r7,#44]
 586:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 587:../Dave/Generated/FREERTOS/stream_buffer.c ****                 if( xSpace < xRequiredSpace )
 648              	 .loc 1 587 0
 649 008e FA6A     	 ldr r2,[r7,#44]
 650 0090 BB6A     	 ldr r3,[r7,#40]
 651 0092 9A42     	 cmp r2,r3
 652 0094 0FD2     	 bcs .L49
 588:../Dave/Generated/FREERTOS/stream_buffer.c ****                 {
 589:../Dave/Generated/FREERTOS/stream_buffer.c ****                     /* Clear notification state as going to wait for space. */
 590:../Dave/Generated/FREERTOS/stream_buffer.c ****                     ( void ) xTaskNotifyStateClear( NULL );
 653              	 .loc 1 590 0
 654 0096 0020     	 mov r0,#0
 655 0098 0021     	 mov r1,#0
 656 009a FFF7FEFF 	 bl xTaskGenericNotifyStateClear
 591:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 592:../Dave/Generated/FREERTOS/stream_buffer.c ****                     /* Should only be one writer. */
 593:../Dave/Generated/FREERTOS/stream_buffer.c ****                     configASSERT( pxStreamBuffer->xTaskWaitingToSend == NULL );
 657              	 .loc 1 593 0
 658 009e 7B6A     	 ldr r3,[r7,#36]
 659 00a0 5B69     	 ldr r3,[r3,#20]
 660 00a2 002B     	 cmp r3,#0
 661 00a4 01D0     	 beq .L50
 662              	 .loc 1 593 0 is_stmt 0 discriminator 1
 663              	
 664 00a6 72B6     	 cpsid i
 665              	
 666              	 .code 16
 667              	.L51:
 668              	 .loc 1 593 0 discriminator 4
 669 00a8 FEE7     	 b .L51
 670              	.L50:
 594:../Dave/Generated/FREERTOS/stream_buffer.c ****                     pxStreamBuffer->xTaskWaitingToSend = xTaskGetCurrentTaskHandle();
 671              	 .loc 1 594 0 is_stmt 1
 672 00aa FFF7FEFF 	 bl xTaskGetCurrentTaskHandle
 673 00ae 021C     	 mov r2,r0
 674 00b0 7B6A     	 ldr r3,[r7,#36]
 675 00b2 5A61     	 str r2,[r3,#20]
 676 00b4 03E0     	 b .L59
 677              	.L49:
 595:../Dave/Generated/FREERTOS/stream_buffer.c ****                 }
 596:../Dave/Generated/FREERTOS/stream_buffer.c ****                 else
 597:../Dave/Generated/FREERTOS/stream_buffer.c ****                 {
 598:../Dave/Generated/FREERTOS/stream_buffer.c ****                     taskEXIT_CRITICAL();
 678              	 .loc 1 598 0
 679 00b6 FFF7FEFF 	 bl vPortExitCritical
 599:../Dave/Generated/FREERTOS/stream_buffer.c ****                     break;
 680              	 .loc 1 599 0
 681 00ba C046     	 mov r8,r8
 682 00bc 15E0     	 b .L48
 683              	.L59:
 600:../Dave/Generated/FREERTOS/stream_buffer.c ****                 }
 601:../Dave/Generated/FREERTOS/stream_buffer.c ****             }
 602:../Dave/Generated/FREERTOS/stream_buffer.c ****             taskEXIT_CRITICAL();
 684              	 .loc 1 602 0
 685 00be FFF7FEFF 	 bl vPortExitCritical
 603:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 604:../Dave/Generated/FREERTOS/stream_buffer.c ****             traceBLOCKING_ON_STREAM_BUFFER_SEND( xStreamBuffer );
 605:../Dave/Generated/FREERTOS/stream_buffer.c ****             ( void ) xTaskNotifyWait( ( uint32_t ) 0, ( uint32_t ) 0, NULL, xTicksToWait );
 686              	 .loc 1 605 0
 687 00c2 3B68     	 ldr r3,[r7]
 688 00c4 0093     	 str r3,[sp]
 689 00c6 0020     	 mov r0,#0
 690 00c8 0021     	 mov r1,#0
 691 00ca 0022     	 mov r2,#0
 692 00cc 0023     	 mov r3,#0
 693 00ce FFF7FEFF 	 bl xTaskGenericNotifyWait
 606:../Dave/Generated/FREERTOS/stream_buffer.c ****             pxStreamBuffer->xTaskWaitingToSend = NULL;
 694              	 .loc 1 606 0
 695 00d2 7B6A     	 ldr r3,[r7,#36]
 696 00d4 0022     	 mov r2,#0
 697 00d6 5A61     	 str r2,[r3,#20]
 607:../Dave/Generated/FREERTOS/stream_buffer.c ****         } while( xTaskCheckForTimeOut( &xTimeOut, &xTicksToWait ) == pdFALSE );
 698              	 .loc 1 607 0
 699 00d8 1423     	 mov r3,#20
 700 00da FA18     	 add r2,r7,r3
 701 00dc 3B1C     	 mov r3,r7
 702 00de 101C     	 mov r0,r2
 703 00e0 191C     	 mov r1,r3
 704 00e2 FFF7FEFF 	 bl xTaskCheckForTimeOut
 705 00e6 031E     	 sub r3,r0,#0
 706 00e8 C9D0     	 beq .L54
 707              	.L48:
 608:../Dave/Generated/FREERTOS/stream_buffer.c ****     }
 609:../Dave/Generated/FREERTOS/stream_buffer.c ****     else
 610:../Dave/Generated/FREERTOS/stream_buffer.c ****     {
 611:../Dave/Generated/FREERTOS/stream_buffer.c ****         mtCOVERAGE_TEST_MARKER();
 612:../Dave/Generated/FREERTOS/stream_buffer.c ****     }
 613:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 614:../Dave/Generated/FREERTOS/stream_buffer.c ****     if( xSpace == ( size_t ) 0 )
 708              	 .loc 1 614 0
 709 00ea FB6A     	 ldr r3,[r7,#44]
 710 00ec 002B     	 cmp r3,#0
 711 00ee 05D1     	 bne .L55
 615:../Dave/Generated/FREERTOS/stream_buffer.c ****     {
 616:../Dave/Generated/FREERTOS/stream_buffer.c ****         xSpace = xStreamBufferSpacesAvailable( pxStreamBuffer );
 712              	 .loc 1 616 0
 713 00f0 7B6A     	 ldr r3,[r7,#36]
 714 00f2 181C     	 mov r0,r3
 715 00f4 FFF7FEFF 	 bl xStreamBufferSpacesAvailable
 716 00f8 031C     	 mov r3,r0
 717 00fa FB62     	 str r3,[r7,#44]
 718              	.L55:
 617:../Dave/Generated/FREERTOS/stream_buffer.c ****     }
 618:../Dave/Generated/FREERTOS/stream_buffer.c ****     else
 619:../Dave/Generated/FREERTOS/stream_buffer.c ****     {
 620:../Dave/Generated/FREERTOS/stream_buffer.c ****         mtCOVERAGE_TEST_MARKER();
 621:../Dave/Generated/FREERTOS/stream_buffer.c ****     }
 622:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 623:../Dave/Generated/FREERTOS/stream_buffer.c ****     xReturn = prvWriteMessageToBuffer( pxStreamBuffer, pvTxData, xDataLengthBytes, xSpace, xRequire
 719              	 .loc 1 623 0
 720 00fc 786A     	 ldr r0,[r7,#36]
 721 00fe B968     	 ldr r1,[r7,#8]
 722 0100 7A68     	 ldr r2,[r7,#4]
 723 0102 FC6A     	 ldr r4,[r7,#44]
 724 0104 BB6A     	 ldr r3,[r7,#40]
 725 0106 0093     	 str r3,[sp]
 726 0108 231C     	 mov r3,r4
 727 010a FFF7FEFF 	 bl prvWriteMessageToBuffer
 728 010e 031C     	 mov r3,r0
 729 0110 FB61     	 str r3,[r7,#28]
 624:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 625:../Dave/Generated/FREERTOS/stream_buffer.c ****     if( xReturn > ( size_t ) 0 )
 730              	 .loc 1 625 0
 731 0112 FB69     	 ldr r3,[r7,#28]
 732 0114 002B     	 cmp r3,#0
 733 0116 1DD0     	 beq .L56
 626:../Dave/Generated/FREERTOS/stream_buffer.c ****     {
 627:../Dave/Generated/FREERTOS/stream_buffer.c ****         traceSTREAM_BUFFER_SEND( xStreamBuffer, xReturn );
 628:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 629:../Dave/Generated/FREERTOS/stream_buffer.c ****         /* Was a task waiting for the data? */
 630:../Dave/Generated/FREERTOS/stream_buffer.c ****         if( prvBytesInBuffer( pxStreamBuffer ) >= pxStreamBuffer->xTriggerLevelBytes )
 734              	 .loc 1 630 0
 735 0118 7B6A     	 ldr r3,[r7,#36]
 736 011a 181C     	 mov r0,r3
 737 011c FFF7FEFF 	 bl prvBytesInBuffer
 738 0120 021E     	 sub r2,r0,#0
 739 0122 7B6A     	 ldr r3,[r7,#36]
 740 0124 DB68     	 ldr r3,[r3,#12]
 741 0126 9A42     	 cmp r2,r3
 742 0128 14D3     	 bcc .L56
 631:../Dave/Generated/FREERTOS/stream_buffer.c ****         {
 632:../Dave/Generated/FREERTOS/stream_buffer.c ****             sbSEND_COMPLETED( pxStreamBuffer );
 743              	 .loc 1 632 0
 744 012a FFF7FEFF 	 bl vTaskSuspendAll
 745 012e 7B6A     	 ldr r3,[r7,#36]
 746 0130 1B69     	 ldr r3,[r3,#16]
 747 0132 002B     	 cmp r3,#0
 748 0134 0CD0     	 beq .L57
 749              	 .loc 1 632 0 is_stmt 0 discriminator 1
 750 0136 7B6A     	 ldr r3,[r7,#36]
 751 0138 1A69     	 ldr r2,[r3,#16]
 752 013a 0023     	 mov r3,#0
 753 013c 0093     	 str r3,[sp]
 754 013e 101C     	 mov r0,r2
 755 0140 0021     	 mov r1,#0
 756 0142 0022     	 mov r2,#0
 757 0144 0023     	 mov r3,#0
 758 0146 FFF7FEFF 	 bl xTaskGenericNotify
 759 014a 7B6A     	 ldr r3,[r7,#36]
 760 014c 0022     	 mov r2,#0
 761 014e 1A61     	 str r2,[r3,#16]
 762              	.L57:
 763              	 .loc 1 632 0 discriminator 3
 764 0150 FFF7FEFF 	 bl xTaskResumeAll
 765              	.L56:
 633:../Dave/Generated/FREERTOS/stream_buffer.c ****         }
 634:../Dave/Generated/FREERTOS/stream_buffer.c ****         else
 635:../Dave/Generated/FREERTOS/stream_buffer.c ****         {
 636:../Dave/Generated/FREERTOS/stream_buffer.c ****             mtCOVERAGE_TEST_MARKER();
 637:../Dave/Generated/FREERTOS/stream_buffer.c ****         }
 638:../Dave/Generated/FREERTOS/stream_buffer.c ****     }
 639:../Dave/Generated/FREERTOS/stream_buffer.c ****     else
 640:../Dave/Generated/FREERTOS/stream_buffer.c ****     {
 641:../Dave/Generated/FREERTOS/stream_buffer.c ****         mtCOVERAGE_TEST_MARKER();
 642:../Dave/Generated/FREERTOS/stream_buffer.c ****         traceSTREAM_BUFFER_SEND_FAILED( xStreamBuffer );
 643:../Dave/Generated/FREERTOS/stream_buffer.c ****     }
 644:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 645:../Dave/Generated/FREERTOS/stream_buffer.c ****     return xReturn;
 766              	 .loc 1 645 0 is_stmt 1
 767 0154 FB69     	 ldr r3,[r7,#28]
 646:../Dave/Generated/FREERTOS/stream_buffer.c **** }
 768              	 .loc 1 646 0
 769 0156 181C     	 mov r0,r3
 770 0158 BD46     	 mov sp,r7
 771 015a 0DB0     	 add sp,sp,#52
 772              	 
 773 015c 90BD     	 pop {r4,r7,pc}
 774              	 .cfi_endproc
 775              	.LFE48:
 777 015e C046     	 .section .text.xStreamBufferSendFromISR,"ax",%progbits
 778              	 .align 2
 779              	 .global xStreamBufferSendFromISR
 780              	 .code 16
 781              	 .thumb_func
 783              	xStreamBufferSendFromISR:
 784              	.LFB49:
 647:../Dave/Generated/FREERTOS/stream_buffer.c **** /*-----------------------------------------------------------*/
 648:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 649:../Dave/Generated/FREERTOS/stream_buffer.c **** size_t xStreamBufferSendFromISR( StreamBufferHandle_t xStreamBuffer,
 650:../Dave/Generated/FREERTOS/stream_buffer.c ****                                  const void * pvTxData,
 651:../Dave/Generated/FREERTOS/stream_buffer.c ****                                  size_t xDataLengthBytes,
 652:../Dave/Generated/FREERTOS/stream_buffer.c ****                                  BaseType_t * const pxHigherPriorityTaskWoken )
 653:../Dave/Generated/FREERTOS/stream_buffer.c **** {
 785              	 .loc 1 653 0
 786              	 .cfi_startproc
 787 0000 90B5     	 push {r4,r7,lr}
 788              	.LCFI21:
 789              	 .cfi_def_cfa_offset 12
 790              	 .cfi_offset 4,-12
 791              	 .cfi_offset 7,-8
 792              	 .cfi_offset 14,-4
 793 0002 8DB0     	 sub sp,sp,#52
 794              	.LCFI22:
 795              	 .cfi_def_cfa_offset 64
 796 0004 02AF     	 add r7,sp,#8
 797              	.LCFI23:
 798              	 .cfi_def_cfa 7,56
 799 0006 F860     	 str r0,[r7,#12]
 800 0008 B960     	 str r1,[r7,#8]
 801 000a 7A60     	 str r2,[r7,#4]
 802 000c 3B60     	 str r3,[r7]
 654:../Dave/Generated/FREERTOS/stream_buffer.c ****     StreamBuffer_t * const pxStreamBuffer = xStreamBuffer;
 803              	 .loc 1 654 0
 804 000e FB68     	 ldr r3,[r7,#12]
 805 0010 3B62     	 str r3,[r7,#32]
 655:../Dave/Generated/FREERTOS/stream_buffer.c ****     size_t xReturn, xSpace;
 656:../Dave/Generated/FREERTOS/stream_buffer.c ****     size_t xRequiredSpace = xDataLengthBytes;
 806              	 .loc 1 656 0
 807 0012 7B68     	 ldr r3,[r7,#4]
 808 0014 7B62     	 str r3,[r7,#36]
 657:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 658:../Dave/Generated/FREERTOS/stream_buffer.c ****     configASSERT( pvTxData );
 809              	 .loc 1 658 0
 810 0016 BB68     	 ldr r3,[r7,#8]
 811 0018 002B     	 cmp r3,#0
 812 001a 01D1     	 bne .L61
 813              	 .loc 1 658 0 is_stmt 0 discriminator 1
 814              	
 815 001c 72B6     	 cpsid i
 816              	
 817              	 .code 16
 818              	.L62:
 819 001e FEE7     	 b .L62
 820              	.L61:
 659:../Dave/Generated/FREERTOS/stream_buffer.c ****     configASSERT( pxStreamBuffer );
 821              	 .loc 1 659 0 is_stmt 1
 822 0020 3B6A     	 ldr r3,[r7,#32]
 823 0022 002B     	 cmp r3,#0
 824 0024 01D1     	 bne .L63
 825              	 .loc 1 659 0 is_stmt 0 discriminator 1
 826              	
 827 0026 72B6     	 cpsid i
 828              	
 829              	 .code 16
 830              	.L64:
 831              	 .loc 1 659 0 discriminator 2
 832 0028 FEE7     	 b .L64
 833              	.L63:
 660:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 661:../Dave/Generated/FREERTOS/stream_buffer.c ****     /* This send function is used to write to both message buffers and stream
 662:../Dave/Generated/FREERTOS/stream_buffer.c ****      * buffers.  If this is a message buffer then the space needed must be
 663:../Dave/Generated/FREERTOS/stream_buffer.c ****      * increased by the amount of bytes needed to store the length of the
 664:../Dave/Generated/FREERTOS/stream_buffer.c ****      * message. */
 665:../Dave/Generated/FREERTOS/stream_buffer.c ****     if( ( pxStreamBuffer->ucFlags & sbFLAGS_IS_MESSAGE_BUFFER ) != ( uint8_t ) 0 )
 834              	 .loc 1 665 0 is_stmt 1
 835 002a 3B6A     	 ldr r3,[r7,#32]
 836 002c 1B7F     	 ldrb r3,[r3,#28]
 837 002e 1A1C     	 mov r2,r3
 838 0030 0123     	 mov r3,#1
 839 0032 1340     	 and r3,r2
 840 0034 02D0     	 beq .L65
 666:../Dave/Generated/FREERTOS/stream_buffer.c ****     {
 667:../Dave/Generated/FREERTOS/stream_buffer.c ****         xRequiredSpace += sbBYTES_TO_STORE_MESSAGE_LENGTH;
 841              	 .loc 1 667 0
 842 0036 7B6A     	 ldr r3,[r7,#36]
 843 0038 0433     	 add r3,r3,#4
 844 003a 7B62     	 str r3,[r7,#36]
 845              	.L65:
 668:../Dave/Generated/FREERTOS/stream_buffer.c ****     }
 669:../Dave/Generated/FREERTOS/stream_buffer.c ****     else
 670:../Dave/Generated/FREERTOS/stream_buffer.c ****     {
 671:../Dave/Generated/FREERTOS/stream_buffer.c ****         mtCOVERAGE_TEST_MARKER();
 672:../Dave/Generated/FREERTOS/stream_buffer.c ****     }
 673:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 674:../Dave/Generated/FREERTOS/stream_buffer.c ****     xSpace = xStreamBufferSpacesAvailable( pxStreamBuffer );
 846              	 .loc 1 674 0
 847 003c 3B6A     	 ldr r3,[r7,#32]
 848 003e 181C     	 mov r0,r3
 849 0040 FFF7FEFF 	 bl xStreamBufferSpacesAvailable
 850 0044 031C     	 mov r3,r0
 851 0046 FB61     	 str r3,[r7,#28]
 675:../Dave/Generated/FREERTOS/stream_buffer.c ****     xReturn = prvWriteMessageToBuffer( pxStreamBuffer, pvTxData, xDataLengthBytes, xSpace, xRequire
 852              	 .loc 1 675 0
 853 0048 386A     	 ldr r0,[r7,#32]
 854 004a B968     	 ldr r1,[r7,#8]
 855 004c 7A68     	 ldr r2,[r7,#4]
 856 004e FC69     	 ldr r4,[r7,#28]
 857 0050 7B6A     	 ldr r3,[r7,#36]
 858 0052 0093     	 str r3,[sp]
 859 0054 231C     	 mov r3,r4
 860 0056 FFF7FEFF 	 bl prvWriteMessageToBuffer
 861 005a 031C     	 mov r3,r0
 862 005c BB61     	 str r3,[r7,#24]
 676:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 677:../Dave/Generated/FREERTOS/stream_buffer.c ****     if( xReturn > ( size_t ) 0 )
 863              	 .loc 1 677 0
 864 005e BB69     	 ldr r3,[r7,#24]
 865 0060 002B     	 cmp r3,#0
 866 0062 23D0     	 beq .L66
 678:../Dave/Generated/FREERTOS/stream_buffer.c ****     {
 679:../Dave/Generated/FREERTOS/stream_buffer.c ****         /* Was a task waiting for the data? */
 680:../Dave/Generated/FREERTOS/stream_buffer.c ****         if( prvBytesInBuffer( pxStreamBuffer ) >= pxStreamBuffer->xTriggerLevelBytes )
 867              	 .loc 1 680 0
 868 0064 3B6A     	 ldr r3,[r7,#32]
 869 0066 181C     	 mov r0,r3
 870 0068 FFF7FEFF 	 bl prvBytesInBuffer
 871 006c 021E     	 sub r2,r0,#0
 872 006e 3B6A     	 ldr r3,[r7,#32]
 873 0070 DB68     	 ldr r3,[r3,#12]
 874 0072 9A42     	 cmp r2,r3
 875 0074 1AD3     	 bcc .L66
 876              	.LBB2:
 681:../Dave/Generated/FREERTOS/stream_buffer.c ****         {
 682:../Dave/Generated/FREERTOS/stream_buffer.c ****             sbSEND_COMPLETE_FROM_ISR( pxStreamBuffer, pxHigherPriorityTaskWoken );
 877              	 .loc 1 682 0
 878 0076 FFF7FEFF 	 bl ulSetInterruptMaskFromISR
 879 007a 031C     	 mov r3,r0
 880 007c 7B61     	 str r3,[r7,#20]
 881 007e 3B6A     	 ldr r3,[r7,#32]
 882 0080 1B69     	 ldr r3,[r3,#16]
 883 0082 002B     	 cmp r3,#0
 884 0084 0ED0     	 beq .L67
 885              	 .loc 1 682 0 is_stmt 0 discriminator 1
 886 0086 3B6A     	 ldr r3,[r7,#32]
 887 0088 1A69     	 ldr r2,[r3,#16]
 888 008a 0023     	 mov r3,#0
 889 008c 0093     	 str r3,[sp]
 890 008e 3B68     	 ldr r3,[r7]
 891 0090 0193     	 str r3,[sp,#4]
 892 0092 101C     	 mov r0,r2
 893 0094 0021     	 mov r1,#0
 894 0096 0022     	 mov r2,#0
 895 0098 0023     	 mov r3,#0
 896 009a FFF7FEFF 	 bl xTaskGenericNotifyFromISR
 897 009e 3B6A     	 ldr r3,[r7,#32]
 898 00a0 0022     	 mov r2,#0
 899 00a2 1A61     	 str r2,[r3,#16]
 900              	.L67:
 901              	 .loc 1 682 0 discriminator 3
 902 00a4 7B69     	 ldr r3,[r7,#20]
 903 00a6 181C     	 mov r0,r3
 904 00a8 FFF7FEFF 	 bl vClearInterruptMaskFromISR
 905              	.L66:
 906              	.LBE2:
 683:../Dave/Generated/FREERTOS/stream_buffer.c ****         }
 684:../Dave/Generated/FREERTOS/stream_buffer.c ****         else
 685:../Dave/Generated/FREERTOS/stream_buffer.c ****         {
 686:../Dave/Generated/FREERTOS/stream_buffer.c ****             mtCOVERAGE_TEST_MARKER();
 687:../Dave/Generated/FREERTOS/stream_buffer.c ****         }
 688:../Dave/Generated/FREERTOS/stream_buffer.c ****     }
 689:../Dave/Generated/FREERTOS/stream_buffer.c ****     else
 690:../Dave/Generated/FREERTOS/stream_buffer.c ****     {
 691:../Dave/Generated/FREERTOS/stream_buffer.c ****         mtCOVERAGE_TEST_MARKER();
 692:../Dave/Generated/FREERTOS/stream_buffer.c ****     }
 693:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 694:../Dave/Generated/FREERTOS/stream_buffer.c ****     traceSTREAM_BUFFER_SEND_FROM_ISR( xStreamBuffer, xReturn );
 695:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 696:../Dave/Generated/FREERTOS/stream_buffer.c ****     return xReturn;
 907              	 .loc 1 696 0 is_stmt 1
 908 00ac BB69     	 ldr r3,[r7,#24]
 697:../Dave/Generated/FREERTOS/stream_buffer.c **** }
 909              	 .loc 1 697 0
 910 00ae 181C     	 mov r0,r3
 911 00b0 BD46     	 mov sp,r7
 912 00b2 0BB0     	 add sp,sp,#44
 913              	 
 914 00b4 90BD     	 pop {r4,r7,pc}
 915              	 .cfi_endproc
 916              	.LFE49:
 918 00b6 C046     	 .section .text.prvWriteMessageToBuffer,"ax",%progbits
 919              	 .align 2
 920              	 .code 16
 921              	 .thumb_func
 923              	prvWriteMessageToBuffer:
 924              	.LFB50:
 698:../Dave/Generated/FREERTOS/stream_buffer.c **** /*-----------------------------------------------------------*/
 699:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 700:../Dave/Generated/FREERTOS/stream_buffer.c **** static size_t prvWriteMessageToBuffer( StreamBuffer_t * const pxStreamBuffer,
 701:../Dave/Generated/FREERTOS/stream_buffer.c ****                                        const void * pvTxData,
 702:../Dave/Generated/FREERTOS/stream_buffer.c ****                                        size_t xDataLengthBytes,
 703:../Dave/Generated/FREERTOS/stream_buffer.c ****                                        size_t xSpace,
 704:../Dave/Generated/FREERTOS/stream_buffer.c ****                                        size_t xRequiredSpace )
 705:../Dave/Generated/FREERTOS/stream_buffer.c **** {
 925              	 .loc 1 705 0
 926              	 .cfi_startproc
 927 0000 80B5     	 push {r7,lr}
 928              	.LCFI24:
 929              	 .cfi_def_cfa_offset 8
 930              	 .cfi_offset 7,-8
 931              	 .cfi_offset 14,-4
 932 0002 86B0     	 sub sp,sp,#24
 933              	.LCFI25:
 934              	 .cfi_def_cfa_offset 32
 935 0004 00AF     	 add r7,sp,#0
 936              	.LCFI26:
 937              	 .cfi_def_cfa_register 7
 938 0006 F860     	 str r0,[r7,#12]
 939 0008 B960     	 str r1,[r7,#8]
 940 000a 7A60     	 str r2,[r7,#4]
 941 000c 3B60     	 str r3,[r7]
 706:../Dave/Generated/FREERTOS/stream_buffer.c ****     BaseType_t xShouldWrite;
 707:../Dave/Generated/FREERTOS/stream_buffer.c ****     size_t xReturn;
 708:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 709:../Dave/Generated/FREERTOS/stream_buffer.c ****     if( xSpace == ( size_t ) 0 )
 942              	 .loc 1 709 0
 943 000e 3B68     	 ldr r3,[r7]
 944 0010 002B     	 cmp r3,#0
 945 0012 02D1     	 bne .L70
 710:../Dave/Generated/FREERTOS/stream_buffer.c ****     {
 711:../Dave/Generated/FREERTOS/stream_buffer.c ****         /* Doesn't matter if this is a stream buffer or a message buffer, there
 712:../Dave/Generated/FREERTOS/stream_buffer.c ****          * is no space to write. */
 713:../Dave/Generated/FREERTOS/stream_buffer.c ****         xShouldWrite = pdFALSE;
 946              	 .loc 1 713 0
 947 0014 0023     	 mov r3,#0
 948 0016 7B61     	 str r3,[r7,#20]
 949 0018 1EE0     	 b .L71
 950              	.L70:
 714:../Dave/Generated/FREERTOS/stream_buffer.c ****     }
 715:../Dave/Generated/FREERTOS/stream_buffer.c ****     else if( ( pxStreamBuffer->ucFlags & sbFLAGS_IS_MESSAGE_BUFFER ) == ( uint8_t ) 0 )
 951              	 .loc 1 715 0
 952 001a FB68     	 ldr r3,[r7,#12]
 953 001c 1B7F     	 ldrb r3,[r3,#28]
 954 001e 1A1C     	 mov r2,r3
 955 0020 0123     	 mov r3,#1
 956 0022 1340     	 and r3,r2
 957 0024 08D1     	 bne .L72
 716:../Dave/Generated/FREERTOS/stream_buffer.c ****     {
 717:../Dave/Generated/FREERTOS/stream_buffer.c ****         /* This is a stream buffer, as opposed to a message buffer, so writing a
 718:../Dave/Generated/FREERTOS/stream_buffer.c ****          * stream of bytes rather than discrete messages.  Write as many bytes as
 719:../Dave/Generated/FREERTOS/stream_buffer.c ****          * possible. */
 720:../Dave/Generated/FREERTOS/stream_buffer.c ****         xShouldWrite = pdTRUE;
 958              	 .loc 1 720 0
 959 0026 0123     	 mov r3,#1
 960 0028 7B61     	 str r3,[r7,#20]
 721:../Dave/Generated/FREERTOS/stream_buffer.c ****         xDataLengthBytes = configMIN( xDataLengthBytes, xSpace );
 961              	 .loc 1 721 0
 962 002a 7A68     	 ldr r2,[r7,#4]
 963 002c 3B68     	 ldr r3,[r7]
 964 002e 9342     	 cmp r3,r2
 965 0030 00D9     	 bls .L73
 966 0032 131C     	 mov r3,r2
 967              	.L73:
 968 0034 7B60     	 str r3,[r7,#4]
 969 0036 0FE0     	 b .L71
 970              	.L72:
 722:../Dave/Generated/FREERTOS/stream_buffer.c ****     }
 723:../Dave/Generated/FREERTOS/stream_buffer.c ****     else if( xSpace >= xRequiredSpace )
 971              	 .loc 1 723 0
 972 0038 3A68     	 ldr r2,[r7]
 973 003a 3B6A     	 ldr r3,[r7,#32]
 974 003c 9A42     	 cmp r2,r3
 975 003e 09D3     	 bcc .L74
 724:../Dave/Generated/FREERTOS/stream_buffer.c ****     {
 725:../Dave/Generated/FREERTOS/stream_buffer.c ****         /* This is a message buffer, as opposed to a stream buffer, and there
 726:../Dave/Generated/FREERTOS/stream_buffer.c ****          * is enough space to write both the message length and the message itself
 727:../Dave/Generated/FREERTOS/stream_buffer.c ****          * into the buffer.  Start by writing the length of the data, the data
 728:../Dave/Generated/FREERTOS/stream_buffer.c ****          * itself will be written later in this function. */
 729:../Dave/Generated/FREERTOS/stream_buffer.c ****         xShouldWrite = pdTRUE;
 976              	 .loc 1 729 0
 977 0040 0123     	 mov r3,#1
 978 0042 7B61     	 str r3,[r7,#20]
 730:../Dave/Generated/FREERTOS/stream_buffer.c ****         ( void ) prvWriteBytesToBuffer( pxStreamBuffer, ( const uint8_t * ) &( xDataLengthBytes ), 
 979              	 .loc 1 730 0
 980 0044 FA68     	 ldr r2,[r7,#12]
 981 0046 3B1D     	 add r3,r7,#4
 982 0048 101C     	 mov r0,r2
 983 004a 191C     	 mov r1,r3
 984 004c 0422     	 mov r2,#4
 985 004e FFF7FEFF 	 bl prvWriteBytesToBuffer
 986 0052 01E0     	 b .L71
 987              	.L74:
 731:../Dave/Generated/FREERTOS/stream_buffer.c ****     }
 732:../Dave/Generated/FREERTOS/stream_buffer.c ****     else
 733:../Dave/Generated/FREERTOS/stream_buffer.c ****     {
 734:../Dave/Generated/FREERTOS/stream_buffer.c ****         /* There is space available, but not enough space. */
 735:../Dave/Generated/FREERTOS/stream_buffer.c ****         xShouldWrite = pdFALSE;
 988              	 .loc 1 735 0
 989 0054 0023     	 mov r3,#0
 990 0056 7B61     	 str r3,[r7,#20]
 991              	.L71:
 736:../Dave/Generated/FREERTOS/stream_buffer.c ****     }
 737:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 738:../Dave/Generated/FREERTOS/stream_buffer.c ****     if( xShouldWrite != pdFALSE )
 992              	 .loc 1 738 0
 993 0058 7B69     	 ldr r3,[r7,#20]
 994 005a 002B     	 cmp r3,#0
 995 005c 0AD0     	 beq .L75
 739:../Dave/Generated/FREERTOS/stream_buffer.c ****     {
 740:../Dave/Generated/FREERTOS/stream_buffer.c ****         /* Writes the data itself. */
 741:../Dave/Generated/FREERTOS/stream_buffer.c ****         xReturn = prvWriteBytesToBuffer( pxStreamBuffer, ( const uint8_t * ) pvTxData, xDataLengthB
 996              	 .loc 1 741 0
 997 005e 7B68     	 ldr r3,[r7,#4]
 998 0060 F968     	 ldr r1,[r7,#12]
 999 0062 BA68     	 ldr r2,[r7,#8]
 1000 0064 081C     	 mov r0,r1
 1001 0066 111C     	 mov r1,r2
 1002 0068 1A1C     	 mov r2,r3
 1003 006a FFF7FEFF 	 bl prvWriteBytesToBuffer
 1004 006e 031C     	 mov r3,r0
 1005 0070 3B61     	 str r3,[r7,#16]
 1006 0072 01E0     	 b .L76
 1007              	.L75:
 742:../Dave/Generated/FREERTOS/stream_buffer.c ****     }
 743:../Dave/Generated/FREERTOS/stream_buffer.c ****     else
 744:../Dave/Generated/FREERTOS/stream_buffer.c ****     {
 745:../Dave/Generated/FREERTOS/stream_buffer.c ****         xReturn = 0;
 1008              	 .loc 1 745 0
 1009 0074 0023     	 mov r3,#0
 1010 0076 3B61     	 str r3,[r7,#16]
 1011              	.L76:
 746:../Dave/Generated/FREERTOS/stream_buffer.c ****     }
 747:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 748:../Dave/Generated/FREERTOS/stream_buffer.c ****     return xReturn;
 1012              	 .loc 1 748 0
 1013 0078 3B69     	 ldr r3,[r7,#16]
 749:../Dave/Generated/FREERTOS/stream_buffer.c **** }
 1014              	 .loc 1 749 0
 1015 007a 181C     	 mov r0,r3
 1016 007c BD46     	 mov sp,r7
 1017 007e 06B0     	 add sp,sp,#24
 1018              	 
 1019 0080 80BD     	 pop {r7,pc}
 1020              	 .cfi_endproc
 1021              	.LFE50:
 1023 0082 C046     	 .section .text.xStreamBufferReceive,"ax",%progbits
 1024              	 .align 2
 1025              	 .global xStreamBufferReceive
 1026              	 .code 16
 1027              	 .thumb_func
 1029              	xStreamBufferReceive:
 1030              	.LFB51:
 750:../Dave/Generated/FREERTOS/stream_buffer.c **** /*-----------------------------------------------------------*/
 751:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 752:../Dave/Generated/FREERTOS/stream_buffer.c **** size_t xStreamBufferReceive( StreamBufferHandle_t xStreamBuffer,
 753:../Dave/Generated/FREERTOS/stream_buffer.c ****                              void * pvRxData,
 754:../Dave/Generated/FREERTOS/stream_buffer.c ****                              size_t xBufferLengthBytes,
 755:../Dave/Generated/FREERTOS/stream_buffer.c ****                              TickType_t xTicksToWait )
 756:../Dave/Generated/FREERTOS/stream_buffer.c **** {
 1031              	 .loc 1 756 0
 1032              	 .cfi_startproc
 1033 0000 90B5     	 push {r4,r7,lr}
 1034              	.LCFI27:
 1035              	 .cfi_def_cfa_offset 12
 1036              	 .cfi_offset 4,-12
 1037              	 .cfi_offset 7,-8
 1038              	 .cfi_offset 14,-4
 1039 0002 8BB0     	 sub sp,sp,#44
 1040              	.LCFI28:
 1041              	 .cfi_def_cfa_offset 56
 1042 0004 02AF     	 add r7,sp,#8
 1043              	.LCFI29:
 1044              	 .cfi_def_cfa 7,48
 1045 0006 F860     	 str r0,[r7,#12]
 1046 0008 B960     	 str r1,[r7,#8]
 1047 000a 7A60     	 str r2,[r7,#4]
 1048 000c 3B60     	 str r3,[r7]
 757:../Dave/Generated/FREERTOS/stream_buffer.c ****     StreamBuffer_t * const pxStreamBuffer = xStreamBuffer;
 1049              	 .loc 1 757 0
 1050 000e FB68     	 ldr r3,[r7,#12]
 1051 0010 3B61     	 str r3,[r7,#16]
 758:../Dave/Generated/FREERTOS/stream_buffer.c ****     size_t xReceivedLength = 0, xBytesAvailable, xBytesToStoreMessageLength;
 1052              	 .loc 1 758 0
 1053 0012 0023     	 mov r3,#0
 1054 0014 FB61     	 str r3,[r7,#28]
 759:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 760:../Dave/Generated/FREERTOS/stream_buffer.c ****     configASSERT( pvRxData );
 1055              	 .loc 1 760 0
 1056 0016 BB68     	 ldr r3,[r7,#8]
 1057 0018 002B     	 cmp r3,#0
 1058 001a 01D1     	 bne .L79
 1059              	 .loc 1 760 0 is_stmt 0 discriminator 1
 1060              	
 1061 001c 72B6     	 cpsid i
 1062              	
 1063              	 .code 16
 1064              	.L80:
 1065 001e FEE7     	 b .L80
 1066              	.L79:
 761:../Dave/Generated/FREERTOS/stream_buffer.c ****     configASSERT( pxStreamBuffer );
 1067              	 .loc 1 761 0 is_stmt 1
 1068 0020 3B69     	 ldr r3,[r7,#16]
 1069 0022 002B     	 cmp r3,#0
 1070 0024 01D1     	 bne .L81
 1071              	 .loc 1 761 0 is_stmt 0 discriminator 1
 1072              	
 1073 0026 72B6     	 cpsid i
 1074              	
 1075              	 .code 16
 1076              	.L82:
 1077              	 .loc 1 761 0 discriminator 2
 1078 0028 FEE7     	 b .L82
 1079              	.L81:
 762:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 763:../Dave/Generated/FREERTOS/stream_buffer.c ****     /* This receive function is used by both message buffers, which store
 764:../Dave/Generated/FREERTOS/stream_buffer.c ****      * discrete messages, and stream buffers, which store a continuous stream of
 765:../Dave/Generated/FREERTOS/stream_buffer.c ****      * bytes.  Discrete messages include an additional
 766:../Dave/Generated/FREERTOS/stream_buffer.c ****      * sbBYTES_TO_STORE_MESSAGE_LENGTH bytes that hold the length of the
 767:../Dave/Generated/FREERTOS/stream_buffer.c ****      * message. */
 768:../Dave/Generated/FREERTOS/stream_buffer.c ****     if( ( pxStreamBuffer->ucFlags & sbFLAGS_IS_MESSAGE_BUFFER ) != ( uint8_t ) 0 )
 1080              	 .loc 1 768 0 is_stmt 1
 1081 002a 3B69     	 ldr r3,[r7,#16]
 1082 002c 1B7F     	 ldrb r3,[r3,#28]
 1083 002e 1A1C     	 mov r2,r3
 1084 0030 0123     	 mov r3,#1
 1085 0032 1340     	 and r3,r2
 1086 0034 02D0     	 beq .L83
 769:../Dave/Generated/FREERTOS/stream_buffer.c ****     {
 770:../Dave/Generated/FREERTOS/stream_buffer.c ****         xBytesToStoreMessageLength = sbBYTES_TO_STORE_MESSAGE_LENGTH;
 1087              	 .loc 1 770 0
 1088 0036 0423     	 mov r3,#4
 1089 0038 7B61     	 str r3,[r7,#20]
 1090 003a 01E0     	 b .L84
 1091              	.L83:
 771:../Dave/Generated/FREERTOS/stream_buffer.c ****     }
 772:../Dave/Generated/FREERTOS/stream_buffer.c ****     else
 773:../Dave/Generated/FREERTOS/stream_buffer.c ****     {
 774:../Dave/Generated/FREERTOS/stream_buffer.c ****         xBytesToStoreMessageLength = 0;
 1092              	 .loc 1 774 0
 1093 003c 0023     	 mov r3,#0
 1094 003e 7B61     	 str r3,[r7,#20]
 1095              	.L84:
 775:../Dave/Generated/FREERTOS/stream_buffer.c ****     }
 776:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 777:../Dave/Generated/FREERTOS/stream_buffer.c ****     if( xTicksToWait != ( TickType_t ) 0 )
 1096              	 .loc 1 777 0
 1097 0040 3B68     	 ldr r3,[r7]
 1098 0042 002B     	 cmp r3,#0
 1099 0044 32D0     	 beq .L85
 778:../Dave/Generated/FREERTOS/stream_buffer.c ****     {
 779:../Dave/Generated/FREERTOS/stream_buffer.c ****         /* Checking if there is data and clearing the notification state must be
 780:../Dave/Generated/FREERTOS/stream_buffer.c ****          * performed atomically. */
 781:../Dave/Generated/FREERTOS/stream_buffer.c ****         taskENTER_CRITICAL();
 1100              	 .loc 1 781 0
 1101 0046 FFF7FEFF 	 bl vPortEnterCritical
 782:../Dave/Generated/FREERTOS/stream_buffer.c ****         {
 783:../Dave/Generated/FREERTOS/stream_buffer.c ****             xBytesAvailable = prvBytesInBuffer( pxStreamBuffer );
 1102              	 .loc 1 783 0
 1103 004a 3B69     	 ldr r3,[r7,#16]
 1104 004c 181C     	 mov r0,r3
 1105 004e FFF7FEFF 	 bl prvBytesInBuffer
 1106 0052 031C     	 mov r3,r0
 1107 0054 BB61     	 str r3,[r7,#24]
 784:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 785:../Dave/Generated/FREERTOS/stream_buffer.c ****             /* If this function was invoked by a message buffer read then
 786:../Dave/Generated/FREERTOS/stream_buffer.c ****              * xBytesToStoreMessageLength holds the number of bytes used to hold
 787:../Dave/Generated/FREERTOS/stream_buffer.c ****              * the length of the next discrete message.  If this function was
 788:../Dave/Generated/FREERTOS/stream_buffer.c ****              * invoked by a stream buffer read then xBytesToStoreMessageLength will
 789:../Dave/Generated/FREERTOS/stream_buffer.c ****              * be 0. */
 790:../Dave/Generated/FREERTOS/stream_buffer.c ****             if( xBytesAvailable <= xBytesToStoreMessageLength )
 1108              	 .loc 1 790 0
 1109 0056 BA69     	 ldr r2,[r7,#24]
 1110 0058 7B69     	 ldr r3,[r7,#20]
 1111 005a 9A42     	 cmp r2,r3
 1112 005c 0ED8     	 bhi .L86
 791:../Dave/Generated/FREERTOS/stream_buffer.c ****             {
 792:../Dave/Generated/FREERTOS/stream_buffer.c ****                 /* Clear notification state as going to wait for data. */
 793:../Dave/Generated/FREERTOS/stream_buffer.c ****                 ( void ) xTaskNotifyStateClear( NULL );
 1113              	 .loc 1 793 0
 1114 005e 0020     	 mov r0,#0
 1115 0060 0021     	 mov r1,#0
 1116 0062 FFF7FEFF 	 bl xTaskGenericNotifyStateClear
 794:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 795:../Dave/Generated/FREERTOS/stream_buffer.c ****                 /* Should only be one reader. */
 796:../Dave/Generated/FREERTOS/stream_buffer.c ****                 configASSERT( pxStreamBuffer->xTaskWaitingToReceive == NULL );
 1117              	 .loc 1 796 0
 1118 0066 3B69     	 ldr r3,[r7,#16]
 1119 0068 1B69     	 ldr r3,[r3,#16]
 1120 006a 002B     	 cmp r3,#0
 1121 006c 01D0     	 beq .L87
 1122              	 .loc 1 796 0 is_stmt 0 discriminator 1
 1123              	
 1124 006e 72B6     	 cpsid i
 1125              	
 1126              	 .code 16
 1127              	.L88:
 1128              	 .loc 1 796 0 discriminator 3
 1129 0070 FEE7     	 b .L88
 1130              	.L87:
 797:../Dave/Generated/FREERTOS/stream_buffer.c ****                 pxStreamBuffer->xTaskWaitingToReceive = xTaskGetCurrentTaskHandle();
 1131              	 .loc 1 797 0 is_stmt 1
 1132 0072 FFF7FEFF 	 bl xTaskGetCurrentTaskHandle
 1133 0076 021C     	 mov r2,r0
 1134 0078 3B69     	 ldr r3,[r7,#16]
 1135 007a 1A61     	 str r2,[r3,#16]
 1136              	.L86:
 798:../Dave/Generated/FREERTOS/stream_buffer.c ****             }
 799:../Dave/Generated/FREERTOS/stream_buffer.c ****             else
 800:../Dave/Generated/FREERTOS/stream_buffer.c ****             {
 801:../Dave/Generated/FREERTOS/stream_buffer.c ****                 mtCOVERAGE_TEST_MARKER();
 802:../Dave/Generated/FREERTOS/stream_buffer.c ****             }
 803:../Dave/Generated/FREERTOS/stream_buffer.c ****         }
 804:../Dave/Generated/FREERTOS/stream_buffer.c ****         taskEXIT_CRITICAL();
 1137              	 .loc 1 804 0
 1138 007c FFF7FEFF 	 bl vPortExitCritical
 805:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 806:../Dave/Generated/FREERTOS/stream_buffer.c ****         if( xBytesAvailable <= xBytesToStoreMessageLength )
 1139              	 .loc 1 806 0
 1140 0080 BA69     	 ldr r2,[r7,#24]
 1141 0082 7B69     	 ldr r3,[r7,#20]
 1142 0084 9A42     	 cmp r2,r3
 1143 0086 17D8     	 bhi .L89
 807:../Dave/Generated/FREERTOS/stream_buffer.c ****         {
 808:../Dave/Generated/FREERTOS/stream_buffer.c ****             /* Wait for data to be available. */
 809:../Dave/Generated/FREERTOS/stream_buffer.c ****             traceBLOCKING_ON_STREAM_BUFFER_RECEIVE( xStreamBuffer );
 810:../Dave/Generated/FREERTOS/stream_buffer.c ****             ( void ) xTaskNotifyWait( ( uint32_t ) 0, ( uint32_t ) 0, NULL, xTicksToWait );
 1144              	 .loc 1 810 0
 1145 0088 3B68     	 ldr r3,[r7]
 1146 008a 0093     	 str r3,[sp]
 1147 008c 0020     	 mov r0,#0
 1148 008e 0021     	 mov r1,#0
 1149 0090 0022     	 mov r2,#0
 1150 0092 0023     	 mov r3,#0
 1151 0094 FFF7FEFF 	 bl xTaskGenericNotifyWait
 811:../Dave/Generated/FREERTOS/stream_buffer.c ****             pxStreamBuffer->xTaskWaitingToReceive = NULL;
 1152              	 .loc 1 811 0
 1153 0098 3B69     	 ldr r3,[r7,#16]
 1154 009a 0022     	 mov r2,#0
 1155 009c 1A61     	 str r2,[r3,#16]
 812:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 813:../Dave/Generated/FREERTOS/stream_buffer.c ****             /* Recheck the data available after blocking. */
 814:../Dave/Generated/FREERTOS/stream_buffer.c ****             xBytesAvailable = prvBytesInBuffer( pxStreamBuffer );
 1156              	 .loc 1 814 0
 1157 009e 3B69     	 ldr r3,[r7,#16]
 1158 00a0 181C     	 mov r0,r3
 1159 00a2 FFF7FEFF 	 bl prvBytesInBuffer
 1160 00a6 031C     	 mov r3,r0
 1161 00a8 BB61     	 str r3,[r7,#24]
 1162 00aa 05E0     	 b .L89
 1163              	.L85:
 815:../Dave/Generated/FREERTOS/stream_buffer.c ****         }
 816:../Dave/Generated/FREERTOS/stream_buffer.c ****         else
 817:../Dave/Generated/FREERTOS/stream_buffer.c ****         {
 818:../Dave/Generated/FREERTOS/stream_buffer.c ****             mtCOVERAGE_TEST_MARKER();
 819:../Dave/Generated/FREERTOS/stream_buffer.c ****         }
 820:../Dave/Generated/FREERTOS/stream_buffer.c ****     }
 821:../Dave/Generated/FREERTOS/stream_buffer.c ****     else
 822:../Dave/Generated/FREERTOS/stream_buffer.c ****     {
 823:../Dave/Generated/FREERTOS/stream_buffer.c ****         xBytesAvailable = prvBytesInBuffer( pxStreamBuffer );
 1164              	 .loc 1 823 0
 1165 00ac 3B69     	 ldr r3,[r7,#16]
 1166 00ae 181C     	 mov r0,r3
 1167 00b0 FFF7FEFF 	 bl prvBytesInBuffer
 1168 00b4 031C     	 mov r3,r0
 1169 00b6 BB61     	 str r3,[r7,#24]
 1170              	.L89:
 824:../Dave/Generated/FREERTOS/stream_buffer.c ****     }
 825:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 826:../Dave/Generated/FREERTOS/stream_buffer.c ****     /* Whether receiving a discrete message (where xBytesToStoreMessageLength
 827:../Dave/Generated/FREERTOS/stream_buffer.c ****      * holds the number of bytes used to store the message length) or a stream of
 828:../Dave/Generated/FREERTOS/stream_buffer.c ****      * bytes (where xBytesToStoreMessageLength is zero), the number of bytes
 829:../Dave/Generated/FREERTOS/stream_buffer.c ****      * available must be greater than xBytesToStoreMessageLength to be able to
 830:../Dave/Generated/FREERTOS/stream_buffer.c ****      * read bytes from the buffer. */
 831:../Dave/Generated/FREERTOS/stream_buffer.c ****     if( xBytesAvailable > xBytesToStoreMessageLength )
 1171              	 .loc 1 831 0
 1172 00b8 BA69     	 ldr r2,[r7,#24]
 1173 00ba 7B69     	 ldr r3,[r7,#20]
 1174 00bc 9A42     	 cmp r2,r3
 1175 00be 22D9     	 bls .L90
 832:../Dave/Generated/FREERTOS/stream_buffer.c ****     {
 833:../Dave/Generated/FREERTOS/stream_buffer.c ****         xReceivedLength = prvReadMessageFromBuffer( pxStreamBuffer, pvRxData, xBufferLengthBytes, x
 1176              	 .loc 1 833 0
 1177 00c0 3869     	 ldr r0,[r7,#16]
 1178 00c2 B968     	 ldr r1,[r7,#8]
 1179 00c4 7A68     	 ldr r2,[r7,#4]
 1180 00c6 BC69     	 ldr r4,[r7,#24]
 1181 00c8 7B69     	 ldr r3,[r7,#20]
 1182 00ca 0093     	 str r3,[sp]
 1183 00cc 231C     	 mov r3,r4
 1184 00ce FFF7FEFF 	 bl prvReadMessageFromBuffer
 1185 00d2 031C     	 mov r3,r0
 1186 00d4 FB61     	 str r3,[r7,#28]
 834:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 835:../Dave/Generated/FREERTOS/stream_buffer.c ****         /* Was a task waiting for space in the buffer? */
 836:../Dave/Generated/FREERTOS/stream_buffer.c ****         if( xReceivedLength != ( size_t ) 0 )
 1187              	 .loc 1 836 0
 1188 00d6 FB69     	 ldr r3,[r7,#28]
 1189 00d8 002B     	 cmp r3,#0
 1190 00da 14D0     	 beq .L90
 837:../Dave/Generated/FREERTOS/stream_buffer.c ****         {
 838:../Dave/Generated/FREERTOS/stream_buffer.c ****             traceSTREAM_BUFFER_RECEIVE( xStreamBuffer, xReceivedLength );
 839:../Dave/Generated/FREERTOS/stream_buffer.c ****             sbRECEIVE_COMPLETED( pxStreamBuffer );
 1191              	 .loc 1 839 0
 1192 00dc FFF7FEFF 	 bl vTaskSuspendAll
 1193 00e0 3B69     	 ldr r3,[r7,#16]
 1194 00e2 5B69     	 ldr r3,[r3,#20]
 1195 00e4 002B     	 cmp r3,#0
 1196 00e6 0CD0     	 beq .L91
 1197              	 .loc 1 839 0 is_stmt 0 discriminator 1
 1198 00e8 3B69     	 ldr r3,[r7,#16]
 1199 00ea 5A69     	 ldr r2,[r3,#20]
 1200 00ec 0023     	 mov r3,#0
 1201 00ee 0093     	 str r3,[sp]
 1202 00f0 101C     	 mov r0,r2
 1203 00f2 0021     	 mov r1,#0
 1204 00f4 0022     	 mov r2,#0
 1205 00f6 0023     	 mov r3,#0
 1206 00f8 FFF7FEFF 	 bl xTaskGenericNotify
 1207 00fc 3B69     	 ldr r3,[r7,#16]
 1208 00fe 0022     	 mov r2,#0
 1209 0100 5A61     	 str r2,[r3,#20]
 1210              	.L91:
 1211              	 .loc 1 839 0 discriminator 3
 1212 0102 FFF7FEFF 	 bl xTaskResumeAll
 1213              	.L90:
 840:../Dave/Generated/FREERTOS/stream_buffer.c ****         }
 841:../Dave/Generated/FREERTOS/stream_buffer.c ****         else
 842:../Dave/Generated/FREERTOS/stream_buffer.c ****         {
 843:../Dave/Generated/FREERTOS/stream_buffer.c ****             mtCOVERAGE_TEST_MARKER();
 844:../Dave/Generated/FREERTOS/stream_buffer.c ****         }
 845:../Dave/Generated/FREERTOS/stream_buffer.c ****     }
 846:../Dave/Generated/FREERTOS/stream_buffer.c ****     else
 847:../Dave/Generated/FREERTOS/stream_buffer.c ****     {
 848:../Dave/Generated/FREERTOS/stream_buffer.c ****         traceSTREAM_BUFFER_RECEIVE_FAILED( xStreamBuffer );
 849:../Dave/Generated/FREERTOS/stream_buffer.c ****         mtCOVERAGE_TEST_MARKER();
 850:../Dave/Generated/FREERTOS/stream_buffer.c ****     }
 851:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 852:../Dave/Generated/FREERTOS/stream_buffer.c ****     return xReceivedLength;
 1214              	 .loc 1 852 0 is_stmt 1
 1215 0106 FB69     	 ldr r3,[r7,#28]
 853:../Dave/Generated/FREERTOS/stream_buffer.c **** }
 1216              	 .loc 1 853 0
 1217 0108 181C     	 mov r0,r3
 1218 010a BD46     	 mov sp,r7
 1219 010c 09B0     	 add sp,sp,#36
 1220              	 
 1221 010e 90BD     	 pop {r4,r7,pc}
 1222              	 .cfi_endproc
 1223              	.LFE51:
 1225              	 .section .text.xStreamBufferNextMessageLengthBytes,"ax",%progbits
 1226              	 .align 2
 1227              	 .global xStreamBufferNextMessageLengthBytes
 1228              	 .code 16
 1229              	 .thumb_func
 1231              	xStreamBufferNextMessageLengthBytes:
 1232              	.LFB52:
 854:../Dave/Generated/FREERTOS/stream_buffer.c **** /*-----------------------------------------------------------*/
 855:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 856:../Dave/Generated/FREERTOS/stream_buffer.c **** size_t xStreamBufferNextMessageLengthBytes( StreamBufferHandle_t xStreamBuffer )
 857:../Dave/Generated/FREERTOS/stream_buffer.c **** {
 1233              	 .loc 1 857 0
 1234              	 .cfi_startproc
 1235 0000 80B5     	 push {r7,lr}
 1236              	.LCFI30:
 1237              	 .cfi_def_cfa_offset 8
 1238              	 .cfi_offset 7,-8
 1239              	 .cfi_offset 14,-4
 1240 0002 88B0     	 sub sp,sp,#32
 1241              	.LCFI31:
 1242              	 .cfi_def_cfa_offset 40
 1243 0004 00AF     	 add r7,sp,#0
 1244              	.LCFI32:
 1245              	 .cfi_def_cfa_register 7
 1246 0006 7860     	 str r0,[r7,#4]
 858:../Dave/Generated/FREERTOS/stream_buffer.c ****     StreamBuffer_t * const pxStreamBuffer = xStreamBuffer;
 1247              	 .loc 1 858 0
 1248 0008 7B68     	 ldr r3,[r7,#4]
 1249 000a BB61     	 str r3,[r7,#24]
 859:../Dave/Generated/FREERTOS/stream_buffer.c ****     size_t xReturn, xBytesAvailable, xOriginalTail;
 860:../Dave/Generated/FREERTOS/stream_buffer.c ****     configMESSAGE_BUFFER_LENGTH_TYPE xTempReturn;
 861:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 862:../Dave/Generated/FREERTOS/stream_buffer.c ****     configASSERT( pxStreamBuffer );
 1250              	 .loc 1 862 0
 1251 000c BB69     	 ldr r3,[r7,#24]
 1252 000e 002B     	 cmp r3,#0
 1253 0010 01D1     	 bne .L94
 1254              	 .loc 1 862 0 is_stmt 0 discriminator 1
 1255              	
 1256 0012 72B6     	 cpsid i
 1257              	
 1258              	 .code 16
 1259              	.L95:
 1260 0014 FEE7     	 b .L95
 1261              	.L94:
 863:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 864:../Dave/Generated/FREERTOS/stream_buffer.c ****     /* Ensure the stream buffer is being used as a message buffer. */
 865:../Dave/Generated/FREERTOS/stream_buffer.c ****     if( ( pxStreamBuffer->ucFlags & sbFLAGS_IS_MESSAGE_BUFFER ) != ( uint8_t ) 0 )
 1262              	 .loc 1 865 0 is_stmt 1
 1263 0016 BB69     	 ldr r3,[r7,#24]
 1264 0018 1B7F     	 ldrb r3,[r3,#28]
 1265 001a 1A1C     	 mov r2,r3
 1266 001c 0123     	 mov r3,#1
 1267 001e 1340     	 and r3,r2
 1268 0020 22D0     	 beq .L96
 866:../Dave/Generated/FREERTOS/stream_buffer.c ****     {
 867:../Dave/Generated/FREERTOS/stream_buffer.c ****         xBytesAvailable = prvBytesInBuffer( pxStreamBuffer );
 1269              	 .loc 1 867 0
 1270 0022 BB69     	 ldr r3,[r7,#24]
 1271 0024 181C     	 mov r0,r3
 1272 0026 FFF7FEFF 	 bl prvBytesInBuffer
 1273 002a 031C     	 mov r3,r0
 1274 002c 7B61     	 str r3,[r7,#20]
 868:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 869:../Dave/Generated/FREERTOS/stream_buffer.c ****         if( xBytesAvailable > sbBYTES_TO_STORE_MESSAGE_LENGTH )
 1275              	 .loc 1 869 0
 1276 002e 7B69     	 ldr r3,[r7,#20]
 1277 0030 042B     	 cmp r3,#4
 1278 0032 11D9     	 bls .L97
 870:../Dave/Generated/FREERTOS/stream_buffer.c ****         {
 871:../Dave/Generated/FREERTOS/stream_buffer.c ****             /* The number of bytes available is greater than the number of bytes
 872:../Dave/Generated/FREERTOS/stream_buffer.c ****              * required to hold the length of the next message, so another message
 873:../Dave/Generated/FREERTOS/stream_buffer.c ****              * is available.  Return its length without removing the length bytes
 874:../Dave/Generated/FREERTOS/stream_buffer.c ****              * from the buffer.  A copy of the tail is stored so the buffer can be
 875:../Dave/Generated/FREERTOS/stream_buffer.c ****              * returned to its prior state as the message is not actually being
 876:../Dave/Generated/FREERTOS/stream_buffer.c ****              * removed from the buffer. */
 877:../Dave/Generated/FREERTOS/stream_buffer.c ****             xOriginalTail = pxStreamBuffer->xTail;
 1279              	 .loc 1 877 0
 1280 0034 BB69     	 ldr r3,[r7,#24]
 1281 0036 1B68     	 ldr r3,[r3]
 1282 0038 3B61     	 str r3,[r7,#16]
 878:../Dave/Generated/FREERTOS/stream_buffer.c ****             ( void ) prvReadBytesFromBuffer( pxStreamBuffer, ( uint8_t * ) &xTempReturn, sbBYTES_TO
 1283              	 .loc 1 878 0
 1284 003a B969     	 ldr r1,[r7,#24]
 1285 003c 0C23     	 mov r3,#12
 1286 003e FA18     	 add r2,r7,r3
 1287 0040 7B69     	 ldr r3,[r7,#20]
 1288 0042 081C     	 mov r0,r1
 1289 0044 111C     	 mov r1,r2
 1290 0046 0422     	 mov r2,#4
 1291 0048 FFF7FEFF 	 bl prvReadBytesFromBuffer
 879:../Dave/Generated/FREERTOS/stream_buffer.c ****             xReturn = ( size_t ) xTempReturn;
 1292              	 .loc 1 879 0
 1293 004c FB68     	 ldr r3,[r7,#12]
 1294 004e FB61     	 str r3,[r7,#28]
 880:../Dave/Generated/FREERTOS/stream_buffer.c ****             pxStreamBuffer->xTail = xOriginalTail;
 1295              	 .loc 1 880 0
 1296 0050 BB69     	 ldr r3,[r7,#24]
 1297 0052 3A69     	 ldr r2,[r7,#16]
 1298 0054 1A60     	 str r2,[r3]
 1299 0056 09E0     	 b .L101
 1300              	.L97:
 881:../Dave/Generated/FREERTOS/stream_buffer.c ****         }
 882:../Dave/Generated/FREERTOS/stream_buffer.c ****         else
 883:../Dave/Generated/FREERTOS/stream_buffer.c ****         {
 884:../Dave/Generated/FREERTOS/stream_buffer.c ****             /* The minimum amount of bytes in a message buffer is
 885:../Dave/Generated/FREERTOS/stream_buffer.c ****              * ( sbBYTES_TO_STORE_MESSAGE_LENGTH + 1 ), so if xBytesAvailable is
 886:../Dave/Generated/FREERTOS/stream_buffer.c ****              * less than sbBYTES_TO_STORE_MESSAGE_LENGTH the only other valid
 887:../Dave/Generated/FREERTOS/stream_buffer.c ****              * value is 0. */
 888:../Dave/Generated/FREERTOS/stream_buffer.c ****             configASSERT( xBytesAvailable == 0 );
 1301              	 .loc 1 888 0
 1302 0058 7B69     	 ldr r3,[r7,#20]
 1303 005a 002B     	 cmp r3,#0
 1304 005c 01D0     	 beq .L99
 1305              	 .loc 1 888 0 is_stmt 0 discriminator 1
 1306              	
 1307 005e 72B6     	 cpsid i
 1308              	
 1309              	 .code 16
 1310              	.L100:
 1311              	 .loc 1 888 0 discriminator 2
 1312 0060 FEE7     	 b .L100
 1313              	.L99:
 889:../Dave/Generated/FREERTOS/stream_buffer.c ****             xReturn = 0;
 1314              	 .loc 1 889 0 is_stmt 1
 1315 0062 0023     	 mov r3,#0
 1316 0064 FB61     	 str r3,[r7,#28]
 1317 0066 01E0     	 b .L101
 1318              	.L96:
 890:../Dave/Generated/FREERTOS/stream_buffer.c ****         }
 891:../Dave/Generated/FREERTOS/stream_buffer.c ****     }
 892:../Dave/Generated/FREERTOS/stream_buffer.c ****     else
 893:../Dave/Generated/FREERTOS/stream_buffer.c ****     {
 894:../Dave/Generated/FREERTOS/stream_buffer.c ****         xReturn = 0;
 1319              	 .loc 1 894 0
 1320 0068 0023     	 mov r3,#0
 1321 006a FB61     	 str r3,[r7,#28]
 1322              	.L101:
 895:../Dave/Generated/FREERTOS/stream_buffer.c ****     }
 896:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 897:../Dave/Generated/FREERTOS/stream_buffer.c ****     return xReturn;
 1323              	 .loc 1 897 0
 1324 006c FB69     	 ldr r3,[r7,#28]
 898:../Dave/Generated/FREERTOS/stream_buffer.c **** }
 1325              	 .loc 1 898 0
 1326 006e 181C     	 mov r0,r3
 1327 0070 BD46     	 mov sp,r7
 1328 0072 08B0     	 add sp,sp,#32
 1329              	 
 1330 0074 80BD     	 pop {r7,pc}
 1331              	 .cfi_endproc
 1332              	.LFE52:
 1334 0076 C046     	 .section .text.xStreamBufferReceiveFromISR,"ax",%progbits
 1335              	 .align 2
 1336              	 .global xStreamBufferReceiveFromISR
 1337              	 .code 16
 1338              	 .thumb_func
 1340              	xStreamBufferReceiveFromISR:
 1341              	.LFB53:
 899:../Dave/Generated/FREERTOS/stream_buffer.c **** /*-----------------------------------------------------------*/
 900:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 901:../Dave/Generated/FREERTOS/stream_buffer.c **** size_t xStreamBufferReceiveFromISR( StreamBufferHandle_t xStreamBuffer,
 902:../Dave/Generated/FREERTOS/stream_buffer.c ****                                     void * pvRxData,
 903:../Dave/Generated/FREERTOS/stream_buffer.c ****                                     size_t xBufferLengthBytes,
 904:../Dave/Generated/FREERTOS/stream_buffer.c ****                                     BaseType_t * const pxHigherPriorityTaskWoken )
 905:../Dave/Generated/FREERTOS/stream_buffer.c **** {
 1342              	 .loc 1 905 0
 1343              	 .cfi_startproc
 1344 0000 90B5     	 push {r4,r7,lr}
 1345              	.LCFI33:
 1346              	 .cfi_def_cfa_offset 12
 1347              	 .cfi_offset 4,-12
 1348              	 .cfi_offset 7,-8
 1349              	 .cfi_offset 14,-4
 1350 0002 8DB0     	 sub sp,sp,#52
 1351              	.LCFI34:
 1352              	 .cfi_def_cfa_offset 64
 1353 0004 02AF     	 add r7,sp,#8
 1354              	.LCFI35:
 1355              	 .cfi_def_cfa 7,56
 1356 0006 F860     	 str r0,[r7,#12]
 1357 0008 B960     	 str r1,[r7,#8]
 1358 000a 7A60     	 str r2,[r7,#4]
 1359 000c 3B60     	 str r3,[r7]
 906:../Dave/Generated/FREERTOS/stream_buffer.c ****     StreamBuffer_t * const pxStreamBuffer = xStreamBuffer;
 1360              	 .loc 1 906 0
 1361 000e FB68     	 ldr r3,[r7,#12]
 1362 0010 FB61     	 str r3,[r7,#28]
 907:../Dave/Generated/FREERTOS/stream_buffer.c ****     size_t xReceivedLength = 0, xBytesAvailable, xBytesToStoreMessageLength;
 1363              	 .loc 1 907 0
 1364 0012 0023     	 mov r3,#0
 1365 0014 7B62     	 str r3,[r7,#36]
 908:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 909:../Dave/Generated/FREERTOS/stream_buffer.c ****     configASSERT( pvRxData );
 1366              	 .loc 1 909 0
 1367 0016 BB68     	 ldr r3,[r7,#8]
 1368 0018 002B     	 cmp r3,#0
 1369 001a 01D1     	 bne .L104
 1370              	 .loc 1 909 0 is_stmt 0 discriminator 1
 1371              	
 1372 001c 72B6     	 cpsid i
 1373              	
 1374              	 .code 16
 1375              	.L105:
 1376 001e FEE7     	 b .L105
 1377              	.L104:
 910:../Dave/Generated/FREERTOS/stream_buffer.c ****     configASSERT( pxStreamBuffer );
 1378              	 .loc 1 910 0 is_stmt 1
 1379 0020 FB69     	 ldr r3,[r7,#28]
 1380 0022 002B     	 cmp r3,#0
 1381 0024 01D1     	 bne .L106
 1382              	 .loc 1 910 0 is_stmt 0 discriminator 1
 1383              	
 1384 0026 72B6     	 cpsid i
 1385              	
 1386              	 .code 16
 1387              	.L107:
 1388              	 .loc 1 910 0 discriminator 2
 1389 0028 FEE7     	 b .L107
 1390              	.L106:
 911:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 912:../Dave/Generated/FREERTOS/stream_buffer.c ****     /* This receive function is used by both message buffers, which store
 913:../Dave/Generated/FREERTOS/stream_buffer.c ****      * discrete messages, and stream buffers, which store a continuous stream of
 914:../Dave/Generated/FREERTOS/stream_buffer.c ****      * bytes.  Discrete messages include an additional
 915:../Dave/Generated/FREERTOS/stream_buffer.c ****      * sbBYTES_TO_STORE_MESSAGE_LENGTH bytes that hold the length of the
 916:../Dave/Generated/FREERTOS/stream_buffer.c ****      * message. */
 917:../Dave/Generated/FREERTOS/stream_buffer.c ****     if( ( pxStreamBuffer->ucFlags & sbFLAGS_IS_MESSAGE_BUFFER ) != ( uint8_t ) 0 )
 1391              	 .loc 1 917 0 is_stmt 1
 1392 002a FB69     	 ldr r3,[r7,#28]
 1393 002c 1B7F     	 ldrb r3,[r3,#28]
 1394 002e 1A1C     	 mov r2,r3
 1395 0030 0123     	 mov r3,#1
 1396 0032 1340     	 and r3,r2
 1397 0034 02D0     	 beq .L108
 918:../Dave/Generated/FREERTOS/stream_buffer.c ****     {
 919:../Dave/Generated/FREERTOS/stream_buffer.c ****         xBytesToStoreMessageLength = sbBYTES_TO_STORE_MESSAGE_LENGTH;
 1398              	 .loc 1 919 0
 1399 0036 0423     	 mov r3,#4
 1400 0038 3B62     	 str r3,[r7,#32]
 1401 003a 01E0     	 b .L109
 1402              	.L108:
 920:../Dave/Generated/FREERTOS/stream_buffer.c ****     }
 921:../Dave/Generated/FREERTOS/stream_buffer.c ****     else
 922:../Dave/Generated/FREERTOS/stream_buffer.c ****     {
 923:../Dave/Generated/FREERTOS/stream_buffer.c ****         xBytesToStoreMessageLength = 0;
 1403              	 .loc 1 923 0
 1404 003c 0023     	 mov r3,#0
 1405 003e 3B62     	 str r3,[r7,#32]
 1406              	.L109:
 924:../Dave/Generated/FREERTOS/stream_buffer.c ****     }
 925:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 926:../Dave/Generated/FREERTOS/stream_buffer.c ****     xBytesAvailable = prvBytesInBuffer( pxStreamBuffer );
 1407              	 .loc 1 926 0
 1408 0040 FB69     	 ldr r3,[r7,#28]
 1409 0042 181C     	 mov r0,r3
 1410 0044 FFF7FEFF 	 bl prvBytesInBuffer
 1411 0048 031C     	 mov r3,r0
 1412 004a BB61     	 str r3,[r7,#24]
 927:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 928:../Dave/Generated/FREERTOS/stream_buffer.c ****     /* Whether receiving a discrete message (where xBytesToStoreMessageLength
 929:../Dave/Generated/FREERTOS/stream_buffer.c ****      * holds the number of bytes used to store the message length) or a stream of
 930:../Dave/Generated/FREERTOS/stream_buffer.c ****      * bytes (where xBytesToStoreMessageLength is zero), the number of bytes
 931:../Dave/Generated/FREERTOS/stream_buffer.c ****      * available must be greater than xBytesToStoreMessageLength to be able to
 932:../Dave/Generated/FREERTOS/stream_buffer.c ****      * read bytes from the buffer. */
 933:../Dave/Generated/FREERTOS/stream_buffer.c ****     if( xBytesAvailable > xBytesToStoreMessageLength )
 1413              	 .loc 1 933 0
 1414 004c BA69     	 ldr r2,[r7,#24]
 1415 004e 3B6A     	 ldr r3,[r7,#32]
 1416 0050 9A42     	 cmp r2,r3
 1417 0052 28D9     	 bls .L110
 934:../Dave/Generated/FREERTOS/stream_buffer.c ****     {
 935:../Dave/Generated/FREERTOS/stream_buffer.c ****         xReceivedLength = prvReadMessageFromBuffer( pxStreamBuffer, pvRxData, xBufferLengthBytes, x
 1418              	 .loc 1 935 0
 1419 0054 F869     	 ldr r0,[r7,#28]
 1420 0056 B968     	 ldr r1,[r7,#8]
 1421 0058 7A68     	 ldr r2,[r7,#4]
 1422 005a BC69     	 ldr r4,[r7,#24]
 1423 005c 3B6A     	 ldr r3,[r7,#32]
 1424 005e 0093     	 str r3,[sp]
 1425 0060 231C     	 mov r3,r4
 1426 0062 FFF7FEFF 	 bl prvReadMessageFromBuffer
 1427 0066 031C     	 mov r3,r0
 1428 0068 7B62     	 str r3,[r7,#36]
 936:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 937:../Dave/Generated/FREERTOS/stream_buffer.c ****         /* Was a task waiting for space in the buffer? */
 938:../Dave/Generated/FREERTOS/stream_buffer.c ****         if( xReceivedLength != ( size_t ) 0 )
 1429              	 .loc 1 938 0
 1430 006a 7B6A     	 ldr r3,[r7,#36]
 1431 006c 002B     	 cmp r3,#0
 1432 006e 1AD0     	 beq .L110
 1433              	.LBB3:
 939:../Dave/Generated/FREERTOS/stream_buffer.c ****         {
 940:../Dave/Generated/FREERTOS/stream_buffer.c ****             sbRECEIVE_COMPLETED_FROM_ISR( pxStreamBuffer, pxHigherPriorityTaskWoken );
 1434              	 .loc 1 940 0
 1435 0070 FFF7FEFF 	 bl ulSetInterruptMaskFromISR
 1436 0074 031C     	 mov r3,r0
 1437 0076 7B61     	 str r3,[r7,#20]
 1438 0078 FB69     	 ldr r3,[r7,#28]
 1439 007a 5B69     	 ldr r3,[r3,#20]
 1440 007c 002B     	 cmp r3,#0
 1441 007e 0ED0     	 beq .L111
 1442              	 .loc 1 940 0 is_stmt 0 discriminator 1
 1443 0080 FB69     	 ldr r3,[r7,#28]
 1444 0082 5A69     	 ldr r2,[r3,#20]
 1445 0084 0023     	 mov r3,#0
 1446 0086 0093     	 str r3,[sp]
 1447 0088 3B68     	 ldr r3,[r7]
 1448 008a 0193     	 str r3,[sp,#4]
 1449 008c 101C     	 mov r0,r2
 1450 008e 0021     	 mov r1,#0
 1451 0090 0022     	 mov r2,#0
 1452 0092 0023     	 mov r3,#0
 1453 0094 FFF7FEFF 	 bl xTaskGenericNotifyFromISR
 1454 0098 FB69     	 ldr r3,[r7,#28]
 1455 009a 0022     	 mov r2,#0
 1456 009c 5A61     	 str r2,[r3,#20]
 1457              	.L111:
 1458              	 .loc 1 940 0 discriminator 3
 1459 009e 7B69     	 ldr r3,[r7,#20]
 1460 00a0 181C     	 mov r0,r3
 1461 00a2 FFF7FEFF 	 bl vClearInterruptMaskFromISR
 1462              	.L110:
 1463              	.LBE3:
 941:../Dave/Generated/FREERTOS/stream_buffer.c ****         }
 942:../Dave/Generated/FREERTOS/stream_buffer.c ****         else
 943:../Dave/Generated/FREERTOS/stream_buffer.c ****         {
 944:../Dave/Generated/FREERTOS/stream_buffer.c ****             mtCOVERAGE_TEST_MARKER();
 945:../Dave/Generated/FREERTOS/stream_buffer.c ****         }
 946:../Dave/Generated/FREERTOS/stream_buffer.c ****     }
 947:../Dave/Generated/FREERTOS/stream_buffer.c ****     else
 948:../Dave/Generated/FREERTOS/stream_buffer.c ****     {
 949:../Dave/Generated/FREERTOS/stream_buffer.c ****         mtCOVERAGE_TEST_MARKER();
 950:../Dave/Generated/FREERTOS/stream_buffer.c ****     }
 951:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 952:../Dave/Generated/FREERTOS/stream_buffer.c ****     traceSTREAM_BUFFER_RECEIVE_FROM_ISR( xStreamBuffer, xReceivedLength );
 953:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 954:../Dave/Generated/FREERTOS/stream_buffer.c ****     return xReceivedLength;
 1464              	 .loc 1 954 0 is_stmt 1
 1465 00a6 7B6A     	 ldr r3,[r7,#36]
 955:../Dave/Generated/FREERTOS/stream_buffer.c **** }
 1466              	 .loc 1 955 0
 1467 00a8 181C     	 mov r0,r3
 1468 00aa BD46     	 mov sp,r7
 1469 00ac 0BB0     	 add sp,sp,#44
 1470              	 
 1471 00ae 90BD     	 pop {r4,r7,pc}
 1472              	 .cfi_endproc
 1473              	.LFE53:
 1475              	 .section .text.prvReadMessageFromBuffer,"ax",%progbits
 1476              	 .align 2
 1477              	 .code 16
 1478              	 .thumb_func
 1480              	prvReadMessageFromBuffer:
 1481              	.LFB54:
 956:../Dave/Generated/FREERTOS/stream_buffer.c **** /*-----------------------------------------------------------*/
 957:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 958:../Dave/Generated/FREERTOS/stream_buffer.c **** static size_t prvReadMessageFromBuffer( StreamBuffer_t * pxStreamBuffer,
 959:../Dave/Generated/FREERTOS/stream_buffer.c ****                                         void * pvRxData,
 960:../Dave/Generated/FREERTOS/stream_buffer.c ****                                         size_t xBufferLengthBytes,
 961:../Dave/Generated/FREERTOS/stream_buffer.c ****                                         size_t xBytesAvailable,
 962:../Dave/Generated/FREERTOS/stream_buffer.c ****                                         size_t xBytesToStoreMessageLength )
 963:../Dave/Generated/FREERTOS/stream_buffer.c **** {
 1482              	 .loc 1 963 0
 1483              	 .cfi_startproc
 1484 0000 80B5     	 push {r7,lr}
 1485              	.LCFI36:
 1486              	 .cfi_def_cfa_offset 8
 1487              	 .cfi_offset 7,-8
 1488              	 .cfi_offset 14,-4
 1489 0002 88B0     	 sub sp,sp,#32
 1490              	.LCFI37:
 1491              	 .cfi_def_cfa_offset 40
 1492 0004 00AF     	 add r7,sp,#0
 1493              	.LCFI38:
 1494              	 .cfi_def_cfa_register 7
 1495 0006 F860     	 str r0,[r7,#12]
 1496 0008 B960     	 str r1,[r7,#8]
 1497 000a 7A60     	 str r2,[r7,#4]
 1498 000c 3B60     	 str r3,[r7]
 964:../Dave/Generated/FREERTOS/stream_buffer.c ****     size_t xOriginalTail, xReceivedLength, xNextMessageLength;
 965:../Dave/Generated/FREERTOS/stream_buffer.c ****     configMESSAGE_BUFFER_LENGTH_TYPE xTempNextMessageLength;
 966:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 967:../Dave/Generated/FREERTOS/stream_buffer.c ****     if( xBytesToStoreMessageLength != ( size_t ) 0 )
 1499              	 .loc 1 967 0
 1500 000e BB6A     	 ldr r3,[r7,#40]
 1501 0010 002B     	 cmp r3,#0
 1502 0012 19D0     	 beq .L114
 968:../Dave/Generated/FREERTOS/stream_buffer.c ****     {
 969:../Dave/Generated/FREERTOS/stream_buffer.c ****         /* A discrete message is being received.  First receive the length
 970:../Dave/Generated/FREERTOS/stream_buffer.c ****          * of the message.  A copy of the tail is stored so the buffer can be
 971:../Dave/Generated/FREERTOS/stream_buffer.c ****          * returned to its prior state if the length of the message is too
 972:../Dave/Generated/FREERTOS/stream_buffer.c ****          * large for the provided buffer. */
 973:../Dave/Generated/FREERTOS/stream_buffer.c ****         xOriginalTail = pxStreamBuffer->xTail;
 1503              	 .loc 1 973 0
 1504 0014 FB68     	 ldr r3,[r7,#12]
 1505 0016 1B68     	 ldr r3,[r3]
 1506 0018 BB61     	 str r3,[r7,#24]
 974:../Dave/Generated/FREERTOS/stream_buffer.c ****         ( void ) prvReadBytesFromBuffer( pxStreamBuffer, ( uint8_t * ) &xTempNextMessageLength, xBy
 1507              	 .loc 1 974 0
 1508 001a F868     	 ldr r0,[r7,#12]
 1509 001c 1023     	 mov r3,#16
 1510 001e F918     	 add r1,r7,r3
 1511 0020 BA6A     	 ldr r2,[r7,#40]
 1512 0022 3B68     	 ldr r3,[r7]
 1513 0024 FFF7FEFF 	 bl prvReadBytesFromBuffer
 975:../Dave/Generated/FREERTOS/stream_buffer.c ****         xNextMessageLength = ( size_t ) xTempNextMessageLength;
 1514              	 .loc 1 975 0
 1515 0028 3B69     	 ldr r3,[r7,#16]
 1516 002a FB61     	 str r3,[r7,#28]
 976:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 977:../Dave/Generated/FREERTOS/stream_buffer.c ****         /* Reduce the number of bytes available by the number of bytes just
 978:../Dave/Generated/FREERTOS/stream_buffer.c ****          * read out. */
 979:../Dave/Generated/FREERTOS/stream_buffer.c ****         xBytesAvailable -= xBytesToStoreMessageLength;
 1517              	 .loc 1 979 0
 1518 002c 3A68     	 ldr r2,[r7]
 1519 002e BB6A     	 ldr r3,[r7,#40]
 1520 0030 D31A     	 sub r3,r2,r3
 1521 0032 3B60     	 str r3,[r7]
 980:../Dave/Generated/FREERTOS/stream_buffer.c **** 
 981:../Dave/Generated/FREERTOS/stream_buffer.c ****         /* Check there is enough space in the buffer provided by the
 982:../Dave/Generated/FREERTOS/stream_buffer.c ****          * user. */
 983:../Dave/Generated/FREERTOS/stream_buffer.c ****         if( xNextMessageLength > xBufferLengthBytes )
 1522              	 .loc 1 983 0
 1523 0034 FA69     	 ldr r2,[r7,#28]
 1524 0036 7B68     	 ldr r3,[r7,#4]
 1525 0038 9A42     	 cmp r2,r3
 1526 003a 07D9     	 bls .L115
 984:../Dave/Generated/FREERTOS/stream_buffer.c ****         {
 985:../Dave/Generated/FREERTOS/stream_buffer.c ****             /* The user has provided insufficient space to read the message
 986:../Dave/Generated/FREERTOS/stream_buffer.c ****              * so return the buffer to its previous state (so the length of
 987:../Dave/Generated/FREERTOS/stream_buffer.c ****              * the message is in the buffer again). */
 988:../Dave/Generated/FREERTOS/stream_buffer.c ****             pxStreamBuffer->xTail = xOriginalTail;
 1527              	 .loc 1 988 0
 1528 003c FB68     	 ldr r3,[r7,#12]
 1529 003e BA69     	 ldr r2,[r7,#24]
 1530 0040 1A60     	 str r2,[r3]
 989:../Dave/Generated/FREERTOS/stream_buffer.c ****             xNextMessageLength = 0;
 1531              	 .loc 1 989 0
 1532 0042 0023     	 mov r3,#0
 1533 0044 FB61     	 str r3,[r7,#28]
 1534 0046 01E0     	 b .L115
 1535              	.L114:
 990:../Dave/Generated/FREERTOS/stream_buffer.c ****         }
 991:../Dave/Generated/FREERTOS/stream_buffer.c ****         else
 992:../Dave/Generated/FREERTOS/stream_buffer.c ****         {
 993:../Dave/Generated/FREERTOS/stream_buffer.c ****             mtCOVERAGE_TEST_MARKER();
 994:../Dave/Generated/FREERTOS/stream_buffer.c ****         }
 995:../Dave/Generated/FREERTOS/stream_buffer.c ****     }
 996:../Dave/Generated/FREERTOS/stream_buffer.c ****     else
 997:../Dave/Generated/FREERTOS/stream_buffer.c ****     {
 998:../Dave/Generated/FREERTOS/stream_buffer.c ****         /* A stream of bytes is being received (as opposed to a discrete
 999:../Dave/Generated/FREERTOS/stream_buffer.c ****          * message), so read as many bytes as possible. */
1000:../Dave/Generated/FREERTOS/stream_buffer.c ****         xNextMessageLength = xBufferLengthBytes;
 1536              	 .loc 1 1000 0
 1537 0048 7B68     	 ldr r3,[r7,#4]
 1538 004a FB61     	 str r3,[r7,#28]
 1539              	.L115:
1001:../Dave/Generated/FREERTOS/stream_buffer.c ****     }
1002:../Dave/Generated/FREERTOS/stream_buffer.c **** 
1003:../Dave/Generated/FREERTOS/stream_buffer.c ****     /* Read the actual data. */
1004:../Dave/Generated/FREERTOS/stream_buffer.c ****     xReceivedLength = prvReadBytesFromBuffer( pxStreamBuffer, ( uint8_t * ) pvRxData, xNextMessageL
 1540              	 .loc 1 1004 0
 1541 004c F868     	 ldr r0,[r7,#12]
 1542 004e B968     	 ldr r1,[r7,#8]
 1543 0050 FA69     	 ldr r2,[r7,#28]
 1544 0052 3B68     	 ldr r3,[r7]
 1545 0054 FFF7FEFF 	 bl prvReadBytesFromBuffer
 1546 0058 031C     	 mov r3,r0
 1547 005a 7B61     	 str r3,[r7,#20]
1005:../Dave/Generated/FREERTOS/stream_buffer.c **** 
1006:../Dave/Generated/FREERTOS/stream_buffer.c ****     return xReceivedLength;
 1548              	 .loc 1 1006 0
 1549 005c 7B69     	 ldr r3,[r7,#20]
1007:../Dave/Generated/FREERTOS/stream_buffer.c **** }
 1550              	 .loc 1 1007 0
 1551 005e 181C     	 mov r0,r3
 1552 0060 BD46     	 mov sp,r7
 1553 0062 08B0     	 add sp,sp,#32
 1554              	 
 1555 0064 80BD     	 pop {r7,pc}
 1556              	 .cfi_endproc
 1557              	.LFE54:
 1559 0066 C046     	 .section .text.xStreamBufferIsEmpty,"ax",%progbits
 1560              	 .align 2
 1561              	 .global xStreamBufferIsEmpty
 1562              	 .code 16
 1563              	 .thumb_func
 1565              	xStreamBufferIsEmpty:
 1566              	.LFB55:
1008:../Dave/Generated/FREERTOS/stream_buffer.c **** /*-----------------------------------------------------------*/
1009:../Dave/Generated/FREERTOS/stream_buffer.c **** 
1010:../Dave/Generated/FREERTOS/stream_buffer.c **** BaseType_t xStreamBufferIsEmpty( StreamBufferHandle_t xStreamBuffer )
1011:../Dave/Generated/FREERTOS/stream_buffer.c **** {
 1567              	 .loc 1 1011 0
 1568              	 .cfi_startproc
 1569 0000 80B5     	 push {r7,lr}
 1570              	.LCFI39:
 1571              	 .cfi_def_cfa_offset 8
 1572              	 .cfi_offset 7,-8
 1573              	 .cfi_offset 14,-4
 1574 0002 86B0     	 sub sp,sp,#24
 1575              	.LCFI40:
 1576              	 .cfi_def_cfa_offset 32
 1577 0004 00AF     	 add r7,sp,#0
 1578              	.LCFI41:
 1579              	 .cfi_def_cfa_register 7
 1580 0006 7860     	 str r0,[r7,#4]
1012:../Dave/Generated/FREERTOS/stream_buffer.c ****     const StreamBuffer_t * const pxStreamBuffer = xStreamBuffer;
 1581              	 .loc 1 1012 0
 1582 0008 7B68     	 ldr r3,[r7,#4]
 1583 000a 3B61     	 str r3,[r7,#16]
1013:../Dave/Generated/FREERTOS/stream_buffer.c ****     BaseType_t xReturn;
1014:../Dave/Generated/FREERTOS/stream_buffer.c ****     size_t xTail;
1015:../Dave/Generated/FREERTOS/stream_buffer.c **** 
1016:../Dave/Generated/FREERTOS/stream_buffer.c ****     configASSERT( pxStreamBuffer );
 1584              	 .loc 1 1016 0
 1585 000c 3B69     	 ldr r3,[r7,#16]
 1586 000e 002B     	 cmp r3,#0
 1587 0010 01D1     	 bne .L118
 1588              	 .loc 1 1016 0 is_stmt 0 discriminator 1
 1589              	
 1590 0012 72B6     	 cpsid i
 1591              	
 1592              	 .code 16
 1593              	.L119:
 1594 0014 FEE7     	 b .L119
 1595              	.L118:
1017:../Dave/Generated/FREERTOS/stream_buffer.c **** 
1018:../Dave/Generated/FREERTOS/stream_buffer.c ****     /* True if no bytes are available. */
1019:../Dave/Generated/FREERTOS/stream_buffer.c ****     xTail = pxStreamBuffer->xTail;
 1596              	 .loc 1 1019 0 is_stmt 1
 1597 0016 3B69     	 ldr r3,[r7,#16]
 1598 0018 1B68     	 ldr r3,[r3]
 1599 001a FB60     	 str r3,[r7,#12]
1020:../Dave/Generated/FREERTOS/stream_buffer.c **** 
1021:../Dave/Generated/FREERTOS/stream_buffer.c ****     if( pxStreamBuffer->xHead == xTail )
 1600              	 .loc 1 1021 0
 1601 001c 3B69     	 ldr r3,[r7,#16]
 1602 001e 5A68     	 ldr r2,[r3,#4]
 1603 0020 FB68     	 ldr r3,[r7,#12]
 1604 0022 9A42     	 cmp r2,r3
 1605 0024 02D1     	 bne .L120
1022:../Dave/Generated/FREERTOS/stream_buffer.c ****     {
1023:../Dave/Generated/FREERTOS/stream_buffer.c ****         xReturn = pdTRUE;
 1606              	 .loc 1 1023 0
 1607 0026 0123     	 mov r3,#1
 1608 0028 7B61     	 str r3,[r7,#20]
 1609 002a 01E0     	 b .L121
 1610              	.L120:
1024:../Dave/Generated/FREERTOS/stream_buffer.c ****     }
1025:../Dave/Generated/FREERTOS/stream_buffer.c ****     else
1026:../Dave/Generated/FREERTOS/stream_buffer.c ****     {
1027:../Dave/Generated/FREERTOS/stream_buffer.c ****         xReturn = pdFALSE;
 1611              	 .loc 1 1027 0
 1612 002c 0023     	 mov r3,#0
 1613 002e 7B61     	 str r3,[r7,#20]
 1614              	.L121:
1028:../Dave/Generated/FREERTOS/stream_buffer.c ****     }
1029:../Dave/Generated/FREERTOS/stream_buffer.c **** 
1030:../Dave/Generated/FREERTOS/stream_buffer.c ****     return xReturn;
 1615              	 .loc 1 1030 0
 1616 0030 7B69     	 ldr r3,[r7,#20]
1031:../Dave/Generated/FREERTOS/stream_buffer.c **** }
 1617              	 .loc 1 1031 0
 1618 0032 181C     	 mov r0,r3
 1619 0034 BD46     	 mov sp,r7
 1620 0036 06B0     	 add sp,sp,#24
 1621              	 
 1622 0038 80BD     	 pop {r7,pc}
 1623              	 .cfi_endproc
 1624              	.LFE55:
 1626 003a C046     	 .section .text.xStreamBufferIsFull,"ax",%progbits
 1627              	 .align 2
 1628              	 .global xStreamBufferIsFull
 1629              	 .code 16
 1630              	 .thumb_func
 1632              	xStreamBufferIsFull:
 1633              	.LFB56:
1032:../Dave/Generated/FREERTOS/stream_buffer.c **** /*-----------------------------------------------------------*/
1033:../Dave/Generated/FREERTOS/stream_buffer.c **** 
1034:../Dave/Generated/FREERTOS/stream_buffer.c **** BaseType_t xStreamBufferIsFull( StreamBufferHandle_t xStreamBuffer )
1035:../Dave/Generated/FREERTOS/stream_buffer.c **** {
 1634              	 .loc 1 1035 0
 1635              	 .cfi_startproc
 1636 0000 80B5     	 push {r7,lr}
 1637              	.LCFI42:
 1638              	 .cfi_def_cfa_offset 8
 1639              	 .cfi_offset 7,-8
 1640              	 .cfi_offset 14,-4
 1641 0002 86B0     	 sub sp,sp,#24
 1642              	.LCFI43:
 1643              	 .cfi_def_cfa_offset 32
 1644 0004 00AF     	 add r7,sp,#0
 1645              	.LCFI44:
 1646              	 .cfi_def_cfa_register 7
 1647 0006 7860     	 str r0,[r7,#4]
1036:../Dave/Generated/FREERTOS/stream_buffer.c ****     BaseType_t xReturn;
1037:../Dave/Generated/FREERTOS/stream_buffer.c ****     size_t xBytesToStoreMessageLength;
1038:../Dave/Generated/FREERTOS/stream_buffer.c ****     const StreamBuffer_t * const pxStreamBuffer = xStreamBuffer;
 1648              	 .loc 1 1038 0
 1649 0008 7B68     	 ldr r3,[r7,#4]
 1650 000a FB60     	 str r3,[r7,#12]
1039:../Dave/Generated/FREERTOS/stream_buffer.c **** 
1040:../Dave/Generated/FREERTOS/stream_buffer.c ****     configASSERT( pxStreamBuffer );
 1651              	 .loc 1 1040 0
 1652 000c FB68     	 ldr r3,[r7,#12]
 1653 000e 002B     	 cmp r3,#0
 1654 0010 01D1     	 bne .L124
 1655              	 .loc 1 1040 0 is_stmt 0 discriminator 1
 1656              	
 1657 0012 72B6     	 cpsid i
 1658              	
 1659              	 .code 16
 1660              	.L125:
 1661 0014 FEE7     	 b .L125
 1662              	.L124:
1041:../Dave/Generated/FREERTOS/stream_buffer.c **** 
1042:../Dave/Generated/FREERTOS/stream_buffer.c ****     /* This generic version of the receive function is used by both message
1043:../Dave/Generated/FREERTOS/stream_buffer.c ****      * buffers, which store discrete messages, and stream buffers, which store a
1044:../Dave/Generated/FREERTOS/stream_buffer.c ****      * continuous stream of bytes.  Discrete messages include an additional
1045:../Dave/Generated/FREERTOS/stream_buffer.c ****      * sbBYTES_TO_STORE_MESSAGE_LENGTH bytes that hold the length of the message. */
1046:../Dave/Generated/FREERTOS/stream_buffer.c ****     if( ( pxStreamBuffer->ucFlags & sbFLAGS_IS_MESSAGE_BUFFER ) != ( uint8_t ) 0 )
 1663              	 .loc 1 1046 0 is_stmt 1
 1664 0016 FB68     	 ldr r3,[r7,#12]
 1665 0018 1B7F     	 ldrb r3,[r3,#28]
 1666 001a 1A1C     	 mov r2,r3
 1667 001c 0123     	 mov r3,#1
 1668 001e 1340     	 and r3,r2
 1669 0020 02D0     	 beq .L126
1047:../Dave/Generated/FREERTOS/stream_buffer.c ****     {
1048:../Dave/Generated/FREERTOS/stream_buffer.c ****         xBytesToStoreMessageLength = sbBYTES_TO_STORE_MESSAGE_LENGTH;
 1670              	 .loc 1 1048 0
 1671 0022 0423     	 mov r3,#4
 1672 0024 3B61     	 str r3,[r7,#16]
 1673 0026 01E0     	 b .L127
 1674              	.L126:
1049:../Dave/Generated/FREERTOS/stream_buffer.c ****     }
1050:../Dave/Generated/FREERTOS/stream_buffer.c ****     else
1051:../Dave/Generated/FREERTOS/stream_buffer.c ****     {
1052:../Dave/Generated/FREERTOS/stream_buffer.c ****         xBytesToStoreMessageLength = 0;
 1675              	 .loc 1 1052 0
 1676 0028 0023     	 mov r3,#0
 1677 002a 3B61     	 str r3,[r7,#16]
 1678              	.L127:
1053:../Dave/Generated/FREERTOS/stream_buffer.c ****     }
1054:../Dave/Generated/FREERTOS/stream_buffer.c **** 
1055:../Dave/Generated/FREERTOS/stream_buffer.c ****     /* True if the available space equals zero. */
1056:../Dave/Generated/FREERTOS/stream_buffer.c ****     if( xStreamBufferSpacesAvailable( xStreamBuffer ) <= xBytesToStoreMessageLength )
 1679              	 .loc 1 1056 0
 1680 002c 7B68     	 ldr r3,[r7,#4]
 1681 002e 181C     	 mov r0,r3
 1682 0030 FFF7FEFF 	 bl xStreamBufferSpacesAvailable
 1683 0034 021E     	 sub r2,r0,#0
 1684 0036 3B69     	 ldr r3,[r7,#16]
 1685 0038 9A42     	 cmp r2,r3
 1686 003a 02D8     	 bhi .L128
1057:../Dave/Generated/FREERTOS/stream_buffer.c ****     {
1058:../Dave/Generated/FREERTOS/stream_buffer.c ****         xReturn = pdTRUE;
 1687              	 .loc 1 1058 0
 1688 003c 0123     	 mov r3,#1
 1689 003e 7B61     	 str r3,[r7,#20]
 1690 0040 01E0     	 b .L129
 1691              	.L128:
1059:../Dave/Generated/FREERTOS/stream_buffer.c ****     }
1060:../Dave/Generated/FREERTOS/stream_buffer.c ****     else
1061:../Dave/Generated/FREERTOS/stream_buffer.c ****     {
1062:../Dave/Generated/FREERTOS/stream_buffer.c ****         xReturn = pdFALSE;
 1692              	 .loc 1 1062 0
 1693 0042 0023     	 mov r3,#0
 1694 0044 7B61     	 str r3,[r7,#20]
 1695              	.L129:
1063:../Dave/Generated/FREERTOS/stream_buffer.c ****     }
1064:../Dave/Generated/FREERTOS/stream_buffer.c **** 
1065:../Dave/Generated/FREERTOS/stream_buffer.c ****     return xReturn;
 1696              	 .loc 1 1065 0
 1697 0046 7B69     	 ldr r3,[r7,#20]
1066:../Dave/Generated/FREERTOS/stream_buffer.c **** }
 1698              	 .loc 1 1066 0
 1699 0048 181C     	 mov r0,r3
 1700 004a BD46     	 mov sp,r7
 1701 004c 06B0     	 add sp,sp,#24
 1702              	 
 1703 004e 80BD     	 pop {r7,pc}
 1704              	 .cfi_endproc
 1705              	.LFE56:
 1707              	 .section .text.xStreamBufferSendCompletedFromISR,"ax",%progbits
 1708              	 .align 2
 1709              	 .global xStreamBufferSendCompletedFromISR
 1710              	 .code 16
 1711              	 .thumb_func
 1713              	xStreamBufferSendCompletedFromISR:
 1714              	.LFB57:
1067:../Dave/Generated/FREERTOS/stream_buffer.c **** /*-----------------------------------------------------------*/
1068:../Dave/Generated/FREERTOS/stream_buffer.c **** 
1069:../Dave/Generated/FREERTOS/stream_buffer.c **** BaseType_t xStreamBufferSendCompletedFromISR( StreamBufferHandle_t xStreamBuffer,
1070:../Dave/Generated/FREERTOS/stream_buffer.c ****                                               BaseType_t * pxHigherPriorityTaskWoken )
1071:../Dave/Generated/FREERTOS/stream_buffer.c **** {
 1715              	 .loc 1 1071 0
 1716              	 .cfi_startproc
 1717 0000 80B5     	 push {r7,lr}
 1718              	.LCFI45:
 1719              	 .cfi_def_cfa_offset 8
 1720              	 .cfi_offset 7,-8
 1721              	 .cfi_offset 14,-4
 1722 0002 88B0     	 sub sp,sp,#32
 1723              	.LCFI46:
 1724              	 .cfi_def_cfa_offset 40
 1725 0004 02AF     	 add r7,sp,#8
 1726              	.LCFI47:
 1727              	 .cfi_def_cfa 7,32
 1728 0006 7860     	 str r0,[r7,#4]
 1729 0008 3960     	 str r1,[r7]
1072:../Dave/Generated/FREERTOS/stream_buffer.c ****     StreamBuffer_t * const pxStreamBuffer = xStreamBuffer;
 1730              	 .loc 1 1072 0
 1731 000a 7B68     	 ldr r3,[r7,#4]
 1732 000c 3B61     	 str r3,[r7,#16]
1073:../Dave/Generated/FREERTOS/stream_buffer.c ****     BaseType_t xReturn;
1074:../Dave/Generated/FREERTOS/stream_buffer.c ****     UBaseType_t uxSavedInterruptStatus;
1075:../Dave/Generated/FREERTOS/stream_buffer.c **** 
1076:../Dave/Generated/FREERTOS/stream_buffer.c ****     configASSERT( pxStreamBuffer );
 1733              	 .loc 1 1076 0
 1734 000e 3B69     	 ldr r3,[r7,#16]
 1735 0010 002B     	 cmp r3,#0
 1736 0012 01D1     	 bne .L132
 1737              	 .loc 1 1076 0 is_stmt 0 discriminator 1
 1738              	
 1739 0014 72B6     	 cpsid i
 1740              	
 1741              	 .code 16
 1742              	.L133:
 1743 0016 FEE7     	 b .L133
 1744              	.L132:
1077:../Dave/Generated/FREERTOS/stream_buffer.c **** 
1078:../Dave/Generated/FREERTOS/stream_buffer.c ****     uxSavedInterruptStatus = ( UBaseType_t ) portSET_INTERRUPT_MASK_FROM_ISR();
 1745              	 .loc 1 1078 0 is_stmt 1
 1746 0018 FFF7FEFF 	 bl ulSetInterruptMaskFromISR
 1747 001c 031C     	 mov r3,r0
 1748 001e FB60     	 str r3,[r7,#12]
1079:../Dave/Generated/FREERTOS/stream_buffer.c ****     {
1080:../Dave/Generated/FREERTOS/stream_buffer.c ****         if( ( pxStreamBuffer )->xTaskWaitingToReceive != NULL )
 1749              	 .loc 1 1080 0
 1750 0020 3B69     	 ldr r3,[r7,#16]
 1751 0022 1B69     	 ldr r3,[r3,#16]
 1752 0024 002B     	 cmp r3,#0
 1753 0026 11D0     	 beq .L134
1081:../Dave/Generated/FREERTOS/stream_buffer.c ****         {
1082:../Dave/Generated/FREERTOS/stream_buffer.c ****             ( void ) xTaskNotifyFromISR( ( pxStreamBuffer )->xTaskWaitingToReceive,
 1754              	 .loc 1 1082 0
 1755 0028 3B69     	 ldr r3,[r7,#16]
 1756 002a 1A69     	 ldr r2,[r3,#16]
 1757 002c 0023     	 mov r3,#0
 1758 002e 0093     	 str r3,[sp]
 1759 0030 3B68     	 ldr r3,[r7]
 1760 0032 0193     	 str r3,[sp,#4]
 1761 0034 101C     	 mov r0,r2
 1762 0036 0021     	 mov r1,#0
 1763 0038 0022     	 mov r2,#0
 1764 003a 0023     	 mov r3,#0
 1765 003c FFF7FEFF 	 bl xTaskGenericNotifyFromISR
1083:../Dave/Generated/FREERTOS/stream_buffer.c ****                                          ( uint32_t ) 0,
1084:../Dave/Generated/FREERTOS/stream_buffer.c ****                                          eNoAction,
1085:../Dave/Generated/FREERTOS/stream_buffer.c ****                                          pxHigherPriorityTaskWoken );
1086:../Dave/Generated/FREERTOS/stream_buffer.c ****             ( pxStreamBuffer )->xTaskWaitingToReceive = NULL;
 1766              	 .loc 1 1086 0
 1767 0040 3B69     	 ldr r3,[r7,#16]
 1768 0042 0022     	 mov r2,#0
 1769 0044 1A61     	 str r2,[r3,#16]
1087:../Dave/Generated/FREERTOS/stream_buffer.c ****             xReturn = pdTRUE;
 1770              	 .loc 1 1087 0
 1771 0046 0123     	 mov r3,#1
 1772 0048 7B61     	 str r3,[r7,#20]
 1773 004a 01E0     	 b .L135
 1774              	.L134:
1088:../Dave/Generated/FREERTOS/stream_buffer.c ****         }
1089:../Dave/Generated/FREERTOS/stream_buffer.c ****         else
1090:../Dave/Generated/FREERTOS/stream_buffer.c ****         {
1091:../Dave/Generated/FREERTOS/stream_buffer.c ****             xReturn = pdFALSE;
 1775              	 .loc 1 1091 0
 1776 004c 0023     	 mov r3,#0
 1777 004e 7B61     	 str r3,[r7,#20]
 1778              	.L135:
1092:../Dave/Generated/FREERTOS/stream_buffer.c ****         }
1093:../Dave/Generated/FREERTOS/stream_buffer.c ****     }
1094:../Dave/Generated/FREERTOS/stream_buffer.c ****     portCLEAR_INTERRUPT_MASK_FROM_ISR( uxSavedInterruptStatus );
 1779              	 .loc 1 1094 0
 1780 0050 FB68     	 ldr r3,[r7,#12]
 1781 0052 181C     	 mov r0,r3
 1782 0054 FFF7FEFF 	 bl vClearInterruptMaskFromISR
1095:../Dave/Generated/FREERTOS/stream_buffer.c **** 
1096:../Dave/Generated/FREERTOS/stream_buffer.c ****     return xReturn;
 1783              	 .loc 1 1096 0
 1784 0058 7B69     	 ldr r3,[r7,#20]
1097:../Dave/Generated/FREERTOS/stream_buffer.c **** }
 1785              	 .loc 1 1097 0
 1786 005a 181C     	 mov r0,r3
 1787 005c BD46     	 mov sp,r7
 1788 005e 06B0     	 add sp,sp,#24
 1789              	 
 1790 0060 80BD     	 pop {r7,pc}
 1791              	 .cfi_endproc
 1792              	.LFE57:
 1794 0062 C046     	 .section .text.xStreamBufferReceiveCompletedFromISR,"ax",%progbits
 1795              	 .align 2
 1796              	 .global xStreamBufferReceiveCompletedFromISR
 1797              	 .code 16
 1798              	 .thumb_func
 1800              	xStreamBufferReceiveCompletedFromISR:
 1801              	.LFB58:
1098:../Dave/Generated/FREERTOS/stream_buffer.c **** /*-----------------------------------------------------------*/
1099:../Dave/Generated/FREERTOS/stream_buffer.c **** 
1100:../Dave/Generated/FREERTOS/stream_buffer.c **** BaseType_t xStreamBufferReceiveCompletedFromISR( StreamBufferHandle_t xStreamBuffer,
1101:../Dave/Generated/FREERTOS/stream_buffer.c ****                                                  BaseType_t * pxHigherPriorityTaskWoken )
1102:../Dave/Generated/FREERTOS/stream_buffer.c **** {
 1802              	 .loc 1 1102 0
 1803              	 .cfi_startproc
 1804 0000 80B5     	 push {r7,lr}
 1805              	.LCFI48:
 1806              	 .cfi_def_cfa_offset 8
 1807              	 .cfi_offset 7,-8
 1808              	 .cfi_offset 14,-4
 1809 0002 88B0     	 sub sp,sp,#32
 1810              	.LCFI49:
 1811              	 .cfi_def_cfa_offset 40
 1812 0004 02AF     	 add r7,sp,#8
 1813              	.LCFI50:
 1814              	 .cfi_def_cfa 7,32
 1815 0006 7860     	 str r0,[r7,#4]
 1816 0008 3960     	 str r1,[r7]
1103:../Dave/Generated/FREERTOS/stream_buffer.c ****     StreamBuffer_t * const pxStreamBuffer = xStreamBuffer;
 1817              	 .loc 1 1103 0
 1818 000a 7B68     	 ldr r3,[r7,#4]
 1819 000c 3B61     	 str r3,[r7,#16]
1104:../Dave/Generated/FREERTOS/stream_buffer.c ****     BaseType_t xReturn;
1105:../Dave/Generated/FREERTOS/stream_buffer.c ****     UBaseType_t uxSavedInterruptStatus;
1106:../Dave/Generated/FREERTOS/stream_buffer.c **** 
1107:../Dave/Generated/FREERTOS/stream_buffer.c ****     configASSERT( pxStreamBuffer );
 1820              	 .loc 1 1107 0
 1821 000e 3B69     	 ldr r3,[r7,#16]
 1822 0010 002B     	 cmp r3,#0
 1823 0012 01D1     	 bne .L138
 1824              	 .loc 1 1107 0 is_stmt 0 discriminator 1
 1825              	
 1826 0014 72B6     	 cpsid i
 1827              	
 1828              	 .code 16
 1829              	.L139:
 1830 0016 FEE7     	 b .L139
 1831              	.L138:
1108:../Dave/Generated/FREERTOS/stream_buffer.c **** 
1109:../Dave/Generated/FREERTOS/stream_buffer.c ****     uxSavedInterruptStatus = ( UBaseType_t ) portSET_INTERRUPT_MASK_FROM_ISR();
 1832              	 .loc 1 1109 0 is_stmt 1
 1833 0018 FFF7FEFF 	 bl ulSetInterruptMaskFromISR
 1834 001c 031C     	 mov r3,r0
 1835 001e FB60     	 str r3,[r7,#12]
1110:../Dave/Generated/FREERTOS/stream_buffer.c ****     {
1111:../Dave/Generated/FREERTOS/stream_buffer.c ****         if( ( pxStreamBuffer )->xTaskWaitingToSend != NULL )
 1836              	 .loc 1 1111 0
 1837 0020 3B69     	 ldr r3,[r7,#16]
 1838 0022 5B69     	 ldr r3,[r3,#20]
 1839 0024 002B     	 cmp r3,#0
 1840 0026 11D0     	 beq .L140
1112:../Dave/Generated/FREERTOS/stream_buffer.c ****         {
1113:../Dave/Generated/FREERTOS/stream_buffer.c ****             ( void ) xTaskNotifyFromISR( ( pxStreamBuffer )->xTaskWaitingToSend,
 1841              	 .loc 1 1113 0
 1842 0028 3B69     	 ldr r3,[r7,#16]
 1843 002a 5A69     	 ldr r2,[r3,#20]
 1844 002c 0023     	 mov r3,#0
 1845 002e 0093     	 str r3,[sp]
 1846 0030 3B68     	 ldr r3,[r7]
 1847 0032 0193     	 str r3,[sp,#4]
 1848 0034 101C     	 mov r0,r2
 1849 0036 0021     	 mov r1,#0
 1850 0038 0022     	 mov r2,#0
 1851 003a 0023     	 mov r3,#0
 1852 003c FFF7FEFF 	 bl xTaskGenericNotifyFromISR
1114:../Dave/Generated/FREERTOS/stream_buffer.c ****                                          ( uint32_t ) 0,
1115:../Dave/Generated/FREERTOS/stream_buffer.c ****                                          eNoAction,
1116:../Dave/Generated/FREERTOS/stream_buffer.c ****                                          pxHigherPriorityTaskWoken );
1117:../Dave/Generated/FREERTOS/stream_buffer.c ****             ( pxStreamBuffer )->xTaskWaitingToSend = NULL;
 1853              	 .loc 1 1117 0
 1854 0040 3B69     	 ldr r3,[r7,#16]
 1855 0042 0022     	 mov r2,#0
 1856 0044 5A61     	 str r2,[r3,#20]
1118:../Dave/Generated/FREERTOS/stream_buffer.c ****             xReturn = pdTRUE;
 1857              	 .loc 1 1118 0
 1858 0046 0123     	 mov r3,#1
 1859 0048 7B61     	 str r3,[r7,#20]
 1860 004a 01E0     	 b .L141
 1861              	.L140:
1119:../Dave/Generated/FREERTOS/stream_buffer.c ****         }
1120:../Dave/Generated/FREERTOS/stream_buffer.c ****         else
1121:../Dave/Generated/FREERTOS/stream_buffer.c ****         {
1122:../Dave/Generated/FREERTOS/stream_buffer.c ****             xReturn = pdFALSE;
 1862              	 .loc 1 1122 0
 1863 004c 0023     	 mov r3,#0
 1864 004e 7B61     	 str r3,[r7,#20]
 1865              	.L141:
1123:../Dave/Generated/FREERTOS/stream_buffer.c ****         }
1124:../Dave/Generated/FREERTOS/stream_buffer.c ****     }
1125:../Dave/Generated/FREERTOS/stream_buffer.c ****     portCLEAR_INTERRUPT_MASK_FROM_ISR( uxSavedInterruptStatus );
 1866              	 .loc 1 1125 0
 1867 0050 FB68     	 ldr r3,[r7,#12]
 1868 0052 181C     	 mov r0,r3
 1869 0054 FFF7FEFF 	 bl vClearInterruptMaskFromISR
1126:../Dave/Generated/FREERTOS/stream_buffer.c **** 
1127:../Dave/Generated/FREERTOS/stream_buffer.c ****     return xReturn;
 1870              	 .loc 1 1127 0
 1871 0058 7B69     	 ldr r3,[r7,#20]
1128:../Dave/Generated/FREERTOS/stream_buffer.c **** }
 1872              	 .loc 1 1128 0
 1873 005a 181C     	 mov r0,r3
 1874 005c BD46     	 mov sp,r7
 1875 005e 06B0     	 add sp,sp,#24
 1876              	 
 1877 0060 80BD     	 pop {r7,pc}
 1878              	 .cfi_endproc
 1879              	.LFE58:
 1881 0062 C046     	 .section .text.prvWriteBytesToBuffer,"ax",%progbits
 1882              	 .align 2
 1883              	 .code 16
 1884              	 .thumb_func
 1886              	prvWriteBytesToBuffer:
 1887              	.LFB59:
1129:../Dave/Generated/FREERTOS/stream_buffer.c **** /*-----------------------------------------------------------*/
1130:../Dave/Generated/FREERTOS/stream_buffer.c **** 
1131:../Dave/Generated/FREERTOS/stream_buffer.c **** static size_t prvWriteBytesToBuffer( StreamBuffer_t * const pxStreamBuffer,
1132:../Dave/Generated/FREERTOS/stream_buffer.c ****                                      const uint8_t * pucData,
1133:../Dave/Generated/FREERTOS/stream_buffer.c ****                                      size_t xCount )
1134:../Dave/Generated/FREERTOS/stream_buffer.c **** {
 1888              	 .loc 1 1134 0
 1889              	 .cfi_startproc
 1890 0000 80B5     	 push {r7,lr}
 1891              	.LCFI51:
 1892              	 .cfi_def_cfa_offset 8
 1893              	 .cfi_offset 7,-8
 1894              	 .cfi_offset 14,-4
 1895 0002 86B0     	 sub sp,sp,#24
 1896              	.LCFI52:
 1897              	 .cfi_def_cfa_offset 32
 1898 0004 00AF     	 add r7,sp,#0
 1899              	.LCFI53:
 1900              	 .cfi_def_cfa_register 7
 1901 0006 F860     	 str r0,[r7,#12]
 1902 0008 B960     	 str r1,[r7,#8]
 1903 000a 7A60     	 str r2,[r7,#4]
1135:../Dave/Generated/FREERTOS/stream_buffer.c ****     size_t xNextHead, xFirstLength;
1136:../Dave/Generated/FREERTOS/stream_buffer.c **** 
1137:../Dave/Generated/FREERTOS/stream_buffer.c ****     configASSERT( xCount > ( size_t ) 0 );
 1904              	 .loc 1 1137 0
 1905 000c 7B68     	 ldr r3,[r7,#4]
 1906 000e 002B     	 cmp r3,#0
 1907 0010 01D1     	 bne .L144
 1908              	 .loc 1 1137 0 is_stmt 0 discriminator 1
 1909              	
 1910 0012 72B6     	 cpsid i
 1911              	
 1912              	 .code 16
 1913              	.L145:
 1914 0014 FEE7     	 b .L145
 1915              	.L144:
1138:../Dave/Generated/FREERTOS/stream_buffer.c **** 
1139:../Dave/Generated/FREERTOS/stream_buffer.c ****     xNextHead = pxStreamBuffer->xHead;
 1916              	 .loc 1 1139 0 is_stmt 1
 1917 0016 FB68     	 ldr r3,[r7,#12]
 1918 0018 5B68     	 ldr r3,[r3,#4]
 1919 001a 7B61     	 str r3,[r7,#20]
1140:../Dave/Generated/FREERTOS/stream_buffer.c **** 
1141:../Dave/Generated/FREERTOS/stream_buffer.c ****     /* Calculate the number of bytes that can be added in the first write -
1142:../Dave/Generated/FREERTOS/stream_buffer.c ****      * which may be less than the total number of bytes that need to be added if
1143:../Dave/Generated/FREERTOS/stream_buffer.c ****      * the buffer will wrap back to the beginning. */
1144:../Dave/Generated/FREERTOS/stream_buffer.c ****     xFirstLength = configMIN( pxStreamBuffer->xLength - xNextHead, xCount );
 1920              	 .loc 1 1144 0
 1921 001c FB68     	 ldr r3,[r7,#12]
 1922 001e 9A68     	 ldr r2,[r3,#8]
 1923 0020 7B69     	 ldr r3,[r7,#20]
 1924 0022 D31A     	 sub r3,r2,r3
 1925 0024 7A68     	 ldr r2,[r7,#4]
 1926 0026 9342     	 cmp r3,r2
 1927 0028 00D9     	 bls .L146
 1928 002a 131C     	 mov r3,r2
 1929              	.L146:
 1930 002c 3B61     	 str r3,[r7,#16]
1145:../Dave/Generated/FREERTOS/stream_buffer.c **** 
1146:../Dave/Generated/FREERTOS/stream_buffer.c ****     /* Write as many bytes as can be written in the first write. */
1147:../Dave/Generated/FREERTOS/stream_buffer.c ****     configASSERT( ( xNextHead + xFirstLength ) <= pxStreamBuffer->xLength );
 1931              	 .loc 1 1147 0
 1932 002e 7A69     	 ldr r2,[r7,#20]
 1933 0030 3B69     	 ldr r3,[r7,#16]
 1934 0032 D218     	 add r2,r2,r3
 1935 0034 FB68     	 ldr r3,[r7,#12]
 1936 0036 9B68     	 ldr r3,[r3,#8]
 1937 0038 9A42     	 cmp r2,r3
 1938 003a 01D9     	 bls .L147
 1939              	 .loc 1 1147 0 is_stmt 0 discriminator 1
 1940              	
 1941 003c 72B6     	 cpsid i
 1942              	
 1943              	 .code 16
 1944              	.L148:
 1945              	 .loc 1 1147 0 discriminator 2
 1946 003e FEE7     	 b .L148
 1947              	.L147:
1148:../Dave/Generated/FREERTOS/stream_buffer.c ****     ( void ) memcpy( ( void * ) ( &( pxStreamBuffer->pucBuffer[ xNextHead ] ) ), ( const void * ) p
 1948              	 .loc 1 1148 0 is_stmt 1
 1949 0040 FB68     	 ldr r3,[r7,#12]
 1950 0042 9A69     	 ldr r2,[r3,#24]
 1951 0044 7B69     	 ldr r3,[r7,#20]
 1952 0046 D118     	 add r1,r2,r3
 1953 0048 BA68     	 ldr r2,[r7,#8]
 1954 004a 3B69     	 ldr r3,[r7,#16]
 1955 004c 081C     	 mov r0,r1
 1956 004e 111C     	 mov r1,r2
 1957 0050 1A1C     	 mov r2,r3
 1958 0052 FFF7FEFF 	 bl memcpy
1149:../Dave/Generated/FREERTOS/stream_buffer.c **** 
1150:../Dave/Generated/FREERTOS/stream_buffer.c ****     /* If the number of bytes written was less than the number that could be
1151:../Dave/Generated/FREERTOS/stream_buffer.c ****      * written in the first write... */
1152:../Dave/Generated/FREERTOS/stream_buffer.c ****     if( xCount > xFirstLength )
 1959              	 .loc 1 1152 0
 1960 0056 7A68     	 ldr r2,[r7,#4]
 1961 0058 3B69     	 ldr r3,[r7,#16]
 1962 005a 9A42     	 cmp r2,r3
 1963 005c 13D9     	 bls .L149
1153:../Dave/Generated/FREERTOS/stream_buffer.c ****     {
1154:../Dave/Generated/FREERTOS/stream_buffer.c ****         /* ...then write the remaining bytes to the start of the buffer. */
1155:../Dave/Generated/FREERTOS/stream_buffer.c ****         configASSERT( ( xCount - xFirstLength ) <= pxStreamBuffer->xLength );
 1964              	 .loc 1 1155 0
 1965 005e 7A68     	 ldr r2,[r7,#4]
 1966 0060 3B69     	 ldr r3,[r7,#16]
 1967 0062 D21A     	 sub r2,r2,r3
 1968 0064 FB68     	 ldr r3,[r7,#12]
 1969 0066 9B68     	 ldr r3,[r3,#8]
 1970 0068 9A42     	 cmp r2,r3
 1971 006a 01D9     	 bls .L150
 1972              	 .loc 1 1155 0 is_stmt 0 discriminator 1
 1973              	
 1974 006c 72B6     	 cpsid i
 1975              	
 1976              	 .code 16
 1977              	.L151:
 1978              	 .loc 1 1155 0 discriminator 3
 1979 006e FEE7     	 b .L151
 1980              	.L150:
1156:../Dave/Generated/FREERTOS/stream_buffer.c ****         ( void ) memcpy( ( void * ) pxStreamBuffer->pucBuffer, ( const void * ) &( pucData[ xFirstL
 1981              	 .loc 1 1156 0 is_stmt 1
 1982 0070 FB68     	 ldr r3,[r7,#12]
 1983 0072 9869     	 ldr r0,[r3,#24]
 1984 0074 BA68     	 ldr r2,[r7,#8]
 1985 0076 3B69     	 ldr r3,[r7,#16]
 1986 0078 D118     	 add r1,r2,r3
 1987 007a 7A68     	 ldr r2,[r7,#4]
 1988 007c 3B69     	 ldr r3,[r7,#16]
 1989 007e D31A     	 sub r3,r2,r3
 1990 0080 1A1C     	 mov r2,r3
 1991 0082 FFF7FEFF 	 bl memcpy
 1992              	.L149:
1157:../Dave/Generated/FREERTOS/stream_buffer.c ****     }
1158:../Dave/Generated/FREERTOS/stream_buffer.c ****     else
1159:../Dave/Generated/FREERTOS/stream_buffer.c ****     {
1160:../Dave/Generated/FREERTOS/stream_buffer.c ****         mtCOVERAGE_TEST_MARKER();
1161:../Dave/Generated/FREERTOS/stream_buffer.c ****     }
1162:../Dave/Generated/FREERTOS/stream_buffer.c **** 
1163:../Dave/Generated/FREERTOS/stream_buffer.c ****     xNextHead += xCount;
 1993              	 .loc 1 1163 0
 1994 0086 7A69     	 ldr r2,[r7,#20]
 1995 0088 7B68     	 ldr r3,[r7,#4]
 1996 008a D318     	 add r3,r2,r3
 1997 008c 7B61     	 str r3,[r7,#20]
1164:../Dave/Generated/FREERTOS/stream_buffer.c **** 
1165:../Dave/Generated/FREERTOS/stream_buffer.c ****     if( xNextHead >= pxStreamBuffer->xLength )
 1998              	 .loc 1 1165 0
 1999 008e FB68     	 ldr r3,[r7,#12]
 2000 0090 9A68     	 ldr r2,[r3,#8]
 2001 0092 7B69     	 ldr r3,[r7,#20]
 2002 0094 9A42     	 cmp r2,r3
 2003 0096 04D8     	 bhi .L152
1166:../Dave/Generated/FREERTOS/stream_buffer.c ****     {
1167:../Dave/Generated/FREERTOS/stream_buffer.c ****         xNextHead -= pxStreamBuffer->xLength;
 2004              	 .loc 1 1167 0
 2005 0098 FB68     	 ldr r3,[r7,#12]
 2006 009a 9B68     	 ldr r3,[r3,#8]
 2007 009c 7A69     	 ldr r2,[r7,#20]
 2008 009e D31A     	 sub r3,r2,r3
 2009 00a0 7B61     	 str r3,[r7,#20]
 2010              	.L152:
1168:../Dave/Generated/FREERTOS/stream_buffer.c ****     }
1169:../Dave/Generated/FREERTOS/stream_buffer.c ****     else
1170:../Dave/Generated/FREERTOS/stream_buffer.c ****     {
1171:../Dave/Generated/FREERTOS/stream_buffer.c ****         mtCOVERAGE_TEST_MARKER();
1172:../Dave/Generated/FREERTOS/stream_buffer.c ****     }
1173:../Dave/Generated/FREERTOS/stream_buffer.c **** 
1174:../Dave/Generated/FREERTOS/stream_buffer.c ****     pxStreamBuffer->xHead = xNextHead;
 2011              	 .loc 1 1174 0
 2012 00a2 FB68     	 ldr r3,[r7,#12]
 2013 00a4 7A69     	 ldr r2,[r7,#20]
 2014 00a6 5A60     	 str r2,[r3,#4]
1175:../Dave/Generated/FREERTOS/stream_buffer.c **** 
1176:../Dave/Generated/FREERTOS/stream_buffer.c ****     return xCount;
 2015              	 .loc 1 1176 0
 2016 00a8 7B68     	 ldr r3,[r7,#4]
1177:../Dave/Generated/FREERTOS/stream_buffer.c **** }
 2017              	 .loc 1 1177 0
 2018 00aa 181C     	 mov r0,r3
 2019 00ac BD46     	 mov sp,r7
 2020 00ae 06B0     	 add sp,sp,#24
 2021              	 
 2022 00b0 80BD     	 pop {r7,pc}
 2023              	 .cfi_endproc
 2024              	.LFE59:
 2026 00b2 C046     	 .section .text.prvReadBytesFromBuffer,"ax",%progbits
 2027              	 .align 2
 2028              	 .code 16
 2029              	 .thumb_func
 2031              	prvReadBytesFromBuffer:
 2032              	.LFB60:
1178:../Dave/Generated/FREERTOS/stream_buffer.c **** /*-----------------------------------------------------------*/
1179:../Dave/Generated/FREERTOS/stream_buffer.c **** 
1180:../Dave/Generated/FREERTOS/stream_buffer.c **** static size_t prvReadBytesFromBuffer( StreamBuffer_t * pxStreamBuffer,
1181:../Dave/Generated/FREERTOS/stream_buffer.c ****                                       uint8_t * pucData,
1182:../Dave/Generated/FREERTOS/stream_buffer.c ****                                       size_t xMaxCount,
1183:../Dave/Generated/FREERTOS/stream_buffer.c ****                                       size_t xBytesAvailable )
1184:../Dave/Generated/FREERTOS/stream_buffer.c **** {
 2033              	 .loc 1 1184 0
 2034              	 .cfi_startproc
 2035 0000 80B5     	 push {r7,lr}
 2036              	.LCFI54:
 2037              	 .cfi_def_cfa_offset 8
 2038              	 .cfi_offset 7,-8
 2039              	 .cfi_offset 14,-4
 2040 0002 88B0     	 sub sp,sp,#32
 2041              	.LCFI55:
 2042              	 .cfi_def_cfa_offset 40
 2043 0004 00AF     	 add r7,sp,#0
 2044              	.LCFI56:
 2045              	 .cfi_def_cfa_register 7
 2046 0006 F860     	 str r0,[r7,#12]
 2047 0008 B960     	 str r1,[r7,#8]
 2048 000a 7A60     	 str r2,[r7,#4]
 2049 000c 3B60     	 str r3,[r7]
1185:../Dave/Generated/FREERTOS/stream_buffer.c ****     size_t xCount, xFirstLength, xNextTail;
1186:../Dave/Generated/FREERTOS/stream_buffer.c **** 
1187:../Dave/Generated/FREERTOS/stream_buffer.c ****     /* Use the minimum of the wanted bytes and the available bytes. */
1188:../Dave/Generated/FREERTOS/stream_buffer.c ****     xCount = configMIN( xBytesAvailable, xMaxCount );
 2050              	 .loc 1 1188 0
 2051 000e 3A68     	 ldr r2,[r7]
 2052 0010 7B68     	 ldr r3,[r7,#4]
 2053 0012 9342     	 cmp r3,r2
 2054 0014 00D9     	 bls .L155
 2055 0016 131C     	 mov r3,r2
 2056              	.L155:
 2057 0018 BB61     	 str r3,[r7,#24]
1189:../Dave/Generated/FREERTOS/stream_buffer.c **** 
1190:../Dave/Generated/FREERTOS/stream_buffer.c ****     if( xCount > ( size_t ) 0 )
 2058              	 .loc 1 1190 0
 2059 001a BB69     	 ldr r3,[r7,#24]
 2060 001c 002B     	 cmp r3,#0
 2061 001e 4BD0     	 beq .L156
1191:../Dave/Generated/FREERTOS/stream_buffer.c ****     {
1192:../Dave/Generated/FREERTOS/stream_buffer.c ****         xNextTail = pxStreamBuffer->xTail;
 2062              	 .loc 1 1192 0
 2063 0020 FB68     	 ldr r3,[r7,#12]
 2064 0022 1B68     	 ldr r3,[r3]
 2065 0024 FB61     	 str r3,[r7,#28]
1193:../Dave/Generated/FREERTOS/stream_buffer.c **** 
1194:../Dave/Generated/FREERTOS/stream_buffer.c ****         /* Calculate the number of bytes that can be read - which may be
1195:../Dave/Generated/FREERTOS/stream_buffer.c ****          * less than the number wanted if the data wraps around to the start of
1196:../Dave/Generated/FREERTOS/stream_buffer.c ****          * the buffer. */
1197:../Dave/Generated/FREERTOS/stream_buffer.c ****         xFirstLength = configMIN( pxStreamBuffer->xLength - xNextTail, xCount );
 2066              	 .loc 1 1197 0
 2067 0026 FB68     	 ldr r3,[r7,#12]
 2068 0028 9A68     	 ldr r2,[r3,#8]
 2069 002a FB69     	 ldr r3,[r7,#28]
 2070 002c D31A     	 sub r3,r2,r3
 2071 002e BA69     	 ldr r2,[r7,#24]
 2072 0030 9342     	 cmp r3,r2
 2073 0032 00D9     	 bls .L157
 2074 0034 131C     	 mov r3,r2
 2075              	.L157:
 2076 0036 7B61     	 str r3,[r7,#20]
1198:../Dave/Generated/FREERTOS/stream_buffer.c **** 
1199:../Dave/Generated/FREERTOS/stream_buffer.c ****         /* Obtain the number of bytes it is possible to obtain in the first
1200:../Dave/Generated/FREERTOS/stream_buffer.c ****          * read.  Asserts check bounds of read and write. */
1201:../Dave/Generated/FREERTOS/stream_buffer.c ****         configASSERT( xFirstLength <= xMaxCount );
 2077              	 .loc 1 1201 0
 2078 0038 7A69     	 ldr r2,[r7,#20]
 2079 003a 7B68     	 ldr r3,[r7,#4]
 2080 003c 9A42     	 cmp r2,r3
 2081 003e 01D9     	 bls .L158
 2082              	 .loc 1 1201 0 is_stmt 0 discriminator 1
 2083              	
 2084 0040 72B6     	 cpsid i
 2085              	
 2086              	 .code 16
 2087              	.L159:
 2088 0042 FEE7     	 b .L159
 2089              	.L158:
1202:../Dave/Generated/FREERTOS/stream_buffer.c ****         configASSERT( ( xNextTail + xFirstLength ) <= pxStreamBuffer->xLength );
 2090              	 .loc 1 1202 0 is_stmt 1
 2091 0044 FA69     	 ldr r2,[r7,#28]
 2092 0046 7B69     	 ldr r3,[r7,#20]
 2093 0048 D218     	 add r2,r2,r3
 2094 004a FB68     	 ldr r3,[r7,#12]
 2095 004c 9B68     	 ldr r3,[r3,#8]
 2096 004e 9A42     	 cmp r2,r3
 2097 0050 01D9     	 bls .L160
 2098              	 .loc 1 1202 0 is_stmt 0 discriminator 1
 2099              	
 2100 0052 72B6     	 cpsid i
 2101              	
 2102              	 .code 16
 2103              	.L161:
 2104              	 .loc 1 1202 0 discriminator 2
 2105 0054 FEE7     	 b .L161
 2106              	.L160:
1203:../Dave/Generated/FREERTOS/stream_buffer.c ****         ( void ) memcpy( ( void * ) pucData, ( const void * ) &( pxStreamBuffer->pucBuffer[ xNextTa
 2107              	 .loc 1 1203 0 is_stmt 1
 2108 0056 FB68     	 ldr r3,[r7,#12]
 2109 0058 9A69     	 ldr r2,[r3,#24]
 2110 005a FB69     	 ldr r3,[r7,#28]
 2111 005c D218     	 add r2,r2,r3
 2112 005e B968     	 ldr r1,[r7,#8]
 2113 0060 7B69     	 ldr r3,[r7,#20]
 2114 0062 081C     	 mov r0,r1
 2115 0064 111C     	 mov r1,r2
 2116 0066 1A1C     	 mov r2,r3
 2117 0068 FFF7FEFF 	 bl memcpy
1204:../Dave/Generated/FREERTOS/stream_buffer.c **** 
1205:../Dave/Generated/FREERTOS/stream_buffer.c ****         /* If the total number of wanted bytes is greater than the number
1206:../Dave/Generated/FREERTOS/stream_buffer.c ****          * that could be read in the first read... */
1207:../Dave/Generated/FREERTOS/stream_buffer.c ****         if( xCount > xFirstLength )
 2118              	 .loc 1 1207 0
 2119 006c BA69     	 ldr r2,[r7,#24]
 2120 006e 7B69     	 ldr r3,[r7,#20]
 2121 0070 9A42     	 cmp r2,r3
 2122 0072 10D9     	 bls .L162
1208:../Dave/Generated/FREERTOS/stream_buffer.c ****         {
1209:../Dave/Generated/FREERTOS/stream_buffer.c ****             /*...then read the remaining bytes from the start of the buffer. */
1210:../Dave/Generated/FREERTOS/stream_buffer.c ****             configASSERT( xCount <= xMaxCount );
 2123              	 .loc 1 1210 0
 2124 0074 BA69     	 ldr r2,[r7,#24]
 2125 0076 7B68     	 ldr r3,[r7,#4]
 2126 0078 9A42     	 cmp r2,r3
 2127 007a 01D9     	 bls .L163
 2128              	 .loc 1 1210 0 is_stmt 0 discriminator 1
 2129              	
 2130 007c 72B6     	 cpsid i
 2131              	
 2132              	 .code 16
 2133              	.L164:
 2134              	 .loc 1 1210 0 discriminator 3
 2135 007e FEE7     	 b .L164
 2136              	.L163:
1211:../Dave/Generated/FREERTOS/stream_buffer.c ****             ( void ) memcpy( ( void * ) &( pucData[ xFirstLength ] ), ( void * ) ( pxStreamBuffer->
 2137              	 .loc 1 1211 0 is_stmt 1
 2138 0080 BA68     	 ldr r2,[r7,#8]
 2139 0082 7B69     	 ldr r3,[r7,#20]
 2140 0084 D018     	 add r0,r2,r3
 2141 0086 FB68     	 ldr r3,[r7,#12]
 2142 0088 9969     	 ldr r1,[r3,#24]
 2143 008a BA69     	 ldr r2,[r7,#24]
 2144 008c 7B69     	 ldr r3,[r7,#20]
 2145 008e D31A     	 sub r3,r2,r3
 2146 0090 1A1C     	 mov r2,r3
 2147 0092 FFF7FEFF 	 bl memcpy
 2148              	.L162:
1212:../Dave/Generated/FREERTOS/stream_buffer.c ****         }
1213:../Dave/Generated/FREERTOS/stream_buffer.c ****         else
1214:../Dave/Generated/FREERTOS/stream_buffer.c ****         {
1215:../Dave/Generated/FREERTOS/stream_buffer.c ****             mtCOVERAGE_TEST_MARKER();
1216:../Dave/Generated/FREERTOS/stream_buffer.c ****         }
1217:../Dave/Generated/FREERTOS/stream_buffer.c **** 
1218:../Dave/Generated/FREERTOS/stream_buffer.c ****         /* Move the tail pointer to effectively remove the data read from
1219:../Dave/Generated/FREERTOS/stream_buffer.c ****          * the buffer. */
1220:../Dave/Generated/FREERTOS/stream_buffer.c ****         xNextTail += xCount;
 2149              	 .loc 1 1220 0
 2150 0096 FA69     	 ldr r2,[r7,#28]
 2151 0098 BB69     	 ldr r3,[r7,#24]
 2152 009a D318     	 add r3,r2,r3
 2153 009c FB61     	 str r3,[r7,#28]
1221:../Dave/Generated/FREERTOS/stream_buffer.c **** 
1222:../Dave/Generated/FREERTOS/stream_buffer.c ****         if( xNextTail >= pxStreamBuffer->xLength )
 2154              	 .loc 1 1222 0
 2155 009e FB68     	 ldr r3,[r7,#12]
 2156 00a0 9A68     	 ldr r2,[r3,#8]
 2157 00a2 FB69     	 ldr r3,[r7,#28]
 2158 00a4 9A42     	 cmp r2,r3
 2159 00a6 04D8     	 bhi .L165
1223:../Dave/Generated/FREERTOS/stream_buffer.c ****         {
1224:../Dave/Generated/FREERTOS/stream_buffer.c ****             xNextTail -= pxStreamBuffer->xLength;
 2160              	 .loc 1 1224 0
 2161 00a8 FB68     	 ldr r3,[r7,#12]
 2162 00aa 9B68     	 ldr r3,[r3,#8]
 2163 00ac FA69     	 ldr r2,[r7,#28]
 2164 00ae D31A     	 sub r3,r2,r3
 2165 00b0 FB61     	 str r3,[r7,#28]
 2166              	.L165:
1225:../Dave/Generated/FREERTOS/stream_buffer.c ****         }
1226:../Dave/Generated/FREERTOS/stream_buffer.c **** 
1227:../Dave/Generated/FREERTOS/stream_buffer.c ****         pxStreamBuffer->xTail = xNextTail;
 2167              	 .loc 1 1227 0
 2168 00b2 FB68     	 ldr r3,[r7,#12]
 2169 00b4 FA69     	 ldr r2,[r7,#28]
 2170 00b6 1A60     	 str r2,[r3]
 2171              	.L156:
1228:../Dave/Generated/FREERTOS/stream_buffer.c ****     }
1229:../Dave/Generated/FREERTOS/stream_buffer.c ****     else
1230:../Dave/Generated/FREERTOS/stream_buffer.c ****     {
1231:../Dave/Generated/FREERTOS/stream_buffer.c ****         mtCOVERAGE_TEST_MARKER();
1232:../Dave/Generated/FREERTOS/stream_buffer.c ****     }
1233:../Dave/Generated/FREERTOS/stream_buffer.c **** 
1234:../Dave/Generated/FREERTOS/stream_buffer.c ****     return xCount;
 2172              	 .loc 1 1234 0
 2173 00b8 BB69     	 ldr r3,[r7,#24]
1235:../Dave/Generated/FREERTOS/stream_buffer.c **** }
 2174              	 .loc 1 1235 0
 2175 00ba 181C     	 mov r0,r3
 2176 00bc BD46     	 mov sp,r7
 2177 00be 08B0     	 add sp,sp,#32
 2178              	 
 2179 00c0 80BD     	 pop {r7,pc}
 2180              	 .cfi_endproc
 2181              	.LFE60:
 2183 00c2 C046     	 .section .text.prvBytesInBuffer,"ax",%progbits
 2184              	 .align 2
 2185              	 .code 16
 2186              	 .thumb_func
 2188              	prvBytesInBuffer:
 2189              	.LFB61:
1236:../Dave/Generated/FREERTOS/stream_buffer.c **** /*-----------------------------------------------------------*/
1237:../Dave/Generated/FREERTOS/stream_buffer.c **** 
1238:../Dave/Generated/FREERTOS/stream_buffer.c **** static size_t prvBytesInBuffer( const StreamBuffer_t * const pxStreamBuffer )
1239:../Dave/Generated/FREERTOS/stream_buffer.c **** {
 2190              	 .loc 1 1239 0
 2191              	 .cfi_startproc
 2192 0000 80B5     	 push {r7,lr}
 2193              	.LCFI57:
 2194              	 .cfi_def_cfa_offset 8
 2195              	 .cfi_offset 7,-8
 2196              	 .cfi_offset 14,-4
 2197 0002 84B0     	 sub sp,sp,#16
 2198              	.LCFI58:
 2199              	 .cfi_def_cfa_offset 24
 2200 0004 00AF     	 add r7,sp,#0
 2201              	.LCFI59:
 2202              	 .cfi_def_cfa_register 7
 2203 0006 7860     	 str r0,[r7,#4]
1240:../Dave/Generated/FREERTOS/stream_buffer.c **** /* Returns the distance between xTail and xHead. */
1241:../Dave/Generated/FREERTOS/stream_buffer.c ****     size_t xCount;
1242:../Dave/Generated/FREERTOS/stream_buffer.c **** 
1243:../Dave/Generated/FREERTOS/stream_buffer.c ****     xCount = pxStreamBuffer->xLength + pxStreamBuffer->xHead;
 2204              	 .loc 1 1243 0
 2205 0008 7B68     	 ldr r3,[r7,#4]
 2206 000a 9A68     	 ldr r2,[r3,#8]
 2207 000c 7B68     	 ldr r3,[r7,#4]
 2208 000e 5B68     	 ldr r3,[r3,#4]
 2209 0010 D318     	 add r3,r2,r3
 2210 0012 FB60     	 str r3,[r7,#12]
1244:../Dave/Generated/FREERTOS/stream_buffer.c ****     xCount -= pxStreamBuffer->xTail;
 2211              	 .loc 1 1244 0
 2212 0014 7B68     	 ldr r3,[r7,#4]
 2213 0016 1B68     	 ldr r3,[r3]
 2214 0018 FA68     	 ldr r2,[r7,#12]
 2215 001a D31A     	 sub r3,r2,r3
 2216 001c FB60     	 str r3,[r7,#12]
1245:../Dave/Generated/FREERTOS/stream_buffer.c **** 
1246:../Dave/Generated/FREERTOS/stream_buffer.c ****     if( xCount >= pxStreamBuffer->xLength )
 2217              	 .loc 1 1246 0
 2218 001e 7B68     	 ldr r3,[r7,#4]
 2219 0020 9A68     	 ldr r2,[r3,#8]
 2220 0022 FB68     	 ldr r3,[r7,#12]
 2221 0024 9A42     	 cmp r2,r3
 2222 0026 04D8     	 bhi .L168
1247:../Dave/Generated/FREERTOS/stream_buffer.c ****     {
1248:../Dave/Generated/FREERTOS/stream_buffer.c ****         xCount -= pxStreamBuffer->xLength;
 2223              	 .loc 1 1248 0
 2224 0028 7B68     	 ldr r3,[r7,#4]
 2225 002a 9B68     	 ldr r3,[r3,#8]
 2226 002c FA68     	 ldr r2,[r7,#12]
 2227 002e D31A     	 sub r3,r2,r3
 2228 0030 FB60     	 str r3,[r7,#12]
 2229              	.L168:
1249:../Dave/Generated/FREERTOS/stream_buffer.c ****     }
1250:../Dave/Generated/FREERTOS/stream_buffer.c ****     else
1251:../Dave/Generated/FREERTOS/stream_buffer.c ****     {
1252:../Dave/Generated/FREERTOS/stream_buffer.c ****         mtCOVERAGE_TEST_MARKER();
1253:../Dave/Generated/FREERTOS/stream_buffer.c ****     }
1254:../Dave/Generated/FREERTOS/stream_buffer.c **** 
1255:../Dave/Generated/FREERTOS/stream_buffer.c ****     return xCount;
 2230              	 .loc 1 1255 0
 2231 0032 FB68     	 ldr r3,[r7,#12]
1256:../Dave/Generated/FREERTOS/stream_buffer.c **** }
 2232              	 .loc 1 1256 0
 2233 0034 181C     	 mov r0,r3
 2234 0036 BD46     	 mov sp,r7
 2235 0038 04B0     	 add sp,sp,#16
 2236              	 
 2237 003a 80BD     	 pop {r7,pc}
 2238              	 .cfi_endproc
 2239              	.LFE61:
 2241              	 .section .text.prvInitialiseNewStreamBuffer,"ax",%progbits
 2242              	 .align 2
 2243              	 .code 16
 2244              	 .thumb_func
 2246              	prvInitialiseNewStreamBuffer:
 2247              	.LFB62:
1257:../Dave/Generated/FREERTOS/stream_buffer.c **** /*-----------------------------------------------------------*/
1258:../Dave/Generated/FREERTOS/stream_buffer.c **** 
1259:../Dave/Generated/FREERTOS/stream_buffer.c **** static void prvInitialiseNewStreamBuffer( StreamBuffer_t * const pxStreamBuffer,
1260:../Dave/Generated/FREERTOS/stream_buffer.c ****                                           uint8_t * const pucBuffer,
1261:../Dave/Generated/FREERTOS/stream_buffer.c ****                                           size_t xBufferSizeBytes,
1262:../Dave/Generated/FREERTOS/stream_buffer.c ****                                           size_t xTriggerLevelBytes,
1263:../Dave/Generated/FREERTOS/stream_buffer.c ****                                           uint8_t ucFlags )
1264:../Dave/Generated/FREERTOS/stream_buffer.c **** {
 2248              	 .loc 1 1264 0
 2249              	 .cfi_startproc
 2250 0000 80B5     	 push {r7,lr}
 2251              	.LCFI60:
 2252              	 .cfi_def_cfa_offset 8
 2253              	 .cfi_offset 7,-8
 2254              	 .cfi_offset 14,-4
 2255 0002 86B0     	 sub sp,sp,#24
 2256              	.LCFI61:
 2257              	 .cfi_def_cfa_offset 32
 2258 0004 00AF     	 add r7,sp,#0
 2259              	.LCFI62:
 2260              	 .cfi_def_cfa_register 7
 2261 0006 F860     	 str r0,[r7,#12]
 2262 0008 B960     	 str r1,[r7,#8]
 2263 000a 7A60     	 str r2,[r7,#4]
 2264 000c 3B60     	 str r3,[r7]
 2265              	.LBB4:
1265:../Dave/Generated/FREERTOS/stream_buffer.c ****     /* Assert here is deliberately writing to the entire buffer to ensure it can
1266:../Dave/Generated/FREERTOS/stream_buffer.c ****      * be written to without generating exceptions, and is setting the buffer to a
1267:../Dave/Generated/FREERTOS/stream_buffer.c ****      * known value to assist in development/debugging. */
1268:../Dave/Generated/FREERTOS/stream_buffer.c ****     #if ( configASSERT_DEFINED == 1 )
1269:../Dave/Generated/FREERTOS/stream_buffer.c ****         {
1270:../Dave/Generated/FREERTOS/stream_buffer.c ****             /* The value written just has to be identifiable when looking at the
1271:../Dave/Generated/FREERTOS/stream_buffer.c ****              * memory.  Don't use 0xA5 as that is the stack fill value and could
1272:../Dave/Generated/FREERTOS/stream_buffer.c ****              * result in confusion as to what is actually being observed. */
1273:../Dave/Generated/FREERTOS/stream_buffer.c ****             const BaseType_t xWriteValue = 0x55;
 2266              	 .loc 1 1273 0
 2267 000e 5523     	 mov r3,#85
 2268 0010 7B61     	 str r3,[r7,#20]
1274:../Dave/Generated/FREERTOS/stream_buffer.c ****             configASSERT( memset( pucBuffer, ( int ) xWriteValue, xBufferSizeBytes ) == pucBuffer )
 2269              	 .loc 1 1274 0
 2270 0012 B968     	 ldr r1,[r7,#8]
 2271 0014 7A69     	 ldr r2,[r7,#20]
 2272 0016 7B68     	 ldr r3,[r7,#4]
 2273 0018 081C     	 mov r0,r1
 2274 001a 111C     	 mov r1,r2
 2275 001c 1A1C     	 mov r2,r3
 2276 001e FFF7FEFF 	 bl memset
 2277 0022 021E     	 sub r2,r0,#0
 2278 0024 BB68     	 ldr r3,[r7,#8]
 2279 0026 9A42     	 cmp r2,r3
 2280 0028 01D0     	 beq .L171
 2281              	 .loc 1 1274 0 is_stmt 0 discriminator 1
 2282              	
 2283 002a 72B6     	 cpsid i
 2284              	
 2285              	 .code 16
 2286              	.L172:
 2287 002c FEE7     	 b .L172
 2288              	.L171:
 2289              	.LBE4:
1275:../Dave/Generated/FREERTOS/stream_buffer.c ****         } /*lint !e529 !e438 xWriteValue is only used if configASSERT() is defined. */
1276:../Dave/Generated/FREERTOS/stream_buffer.c ****     #endif
1277:../Dave/Generated/FREERTOS/stream_buffer.c **** 
1278:../Dave/Generated/FREERTOS/stream_buffer.c ****     ( void ) memset( ( void * ) pxStreamBuffer, 0x00, sizeof( StreamBuffer_t ) ); /*lint !e9087 mem
 2290              	 .loc 1 1278 0 is_stmt 1
 2291 002e FB68     	 ldr r3,[r7,#12]
 2292 0030 181C     	 mov r0,r3
 2293 0032 0021     	 mov r1,#0
 2294 0034 2422     	 mov r2,#36
 2295 0036 FFF7FEFF 	 bl memset
1279:../Dave/Generated/FREERTOS/stream_buffer.c ****     pxStreamBuffer->pucBuffer = pucBuffer;
 2296              	 .loc 1 1279 0
 2297 003a FB68     	 ldr r3,[r7,#12]
 2298 003c BA68     	 ldr r2,[r7,#8]
 2299 003e 9A61     	 str r2,[r3,#24]
1280:../Dave/Generated/FREERTOS/stream_buffer.c ****     pxStreamBuffer->xLength = xBufferSizeBytes;
 2300              	 .loc 1 1280 0
 2301 0040 FB68     	 ldr r3,[r7,#12]
 2302 0042 7A68     	 ldr r2,[r7,#4]
 2303 0044 9A60     	 str r2,[r3,#8]
1281:../Dave/Generated/FREERTOS/stream_buffer.c ****     pxStreamBuffer->xTriggerLevelBytes = xTriggerLevelBytes;
 2304              	 .loc 1 1281 0
 2305 0046 FB68     	 ldr r3,[r7,#12]
 2306 0048 3A68     	 ldr r2,[r7]
 2307 004a DA60     	 str r2,[r3,#12]
1282:../Dave/Generated/FREERTOS/stream_buffer.c ****     pxStreamBuffer->ucFlags = ucFlags;
 2308              	 .loc 1 1282 0
 2309 004c FB68     	 ldr r3,[r7,#12]
 2310 004e 2022     	 mov r2,#32
 2311 0050 BA18     	 add r2,r7,r2
 2312 0052 1278     	 ldrb r2,[r2]
 2313 0054 1A77     	 strb r2,[r3,#28]
1283:../Dave/Generated/FREERTOS/stream_buffer.c **** }
 2314              	 .loc 1 1283 0
 2315 0056 BD46     	 mov sp,r7
 2316 0058 06B0     	 add sp,sp,#24
 2317              	 
 2318 005a 80BD     	 pop {r7,pc}
 2319              	 .cfi_endproc
 2320              	.LFE62:
 2322              	 .section .text.uxStreamBufferGetStreamBufferNumber,"ax",%progbits
 2323              	 .align 2
 2324              	 .global uxStreamBufferGetStreamBufferNumber
 2325              	 .code 16
 2326              	 .thumb_func
 2328              	uxStreamBufferGetStreamBufferNumber:
 2329              	.LFB63:
1284:../Dave/Generated/FREERTOS/stream_buffer.c **** 
1285:../Dave/Generated/FREERTOS/stream_buffer.c **** #if ( configUSE_TRACE_FACILITY == 1 )
1286:../Dave/Generated/FREERTOS/stream_buffer.c **** 
1287:../Dave/Generated/FREERTOS/stream_buffer.c ****     UBaseType_t uxStreamBufferGetStreamBufferNumber( StreamBufferHandle_t xStreamBuffer )
1288:../Dave/Generated/FREERTOS/stream_buffer.c ****     {
 2330              	 .loc 1 1288 0
 2331              	 .cfi_startproc
 2332 0000 80B5     	 push {r7,lr}
 2333              	.LCFI63:
 2334              	 .cfi_def_cfa_offset 8
 2335              	 .cfi_offset 7,-8
 2336              	 .cfi_offset 14,-4
 2337 0002 82B0     	 sub sp,sp,#8
 2338              	.LCFI64:
 2339              	 .cfi_def_cfa_offset 16
 2340 0004 00AF     	 add r7,sp,#0
 2341              	.LCFI65:
 2342              	 .cfi_def_cfa_register 7
 2343 0006 7860     	 str r0,[r7,#4]
1289:../Dave/Generated/FREERTOS/stream_buffer.c ****         return xStreamBuffer->uxStreamBufferNumber;
 2344              	 .loc 1 1289 0
 2345 0008 7B68     	 ldr r3,[r7,#4]
 2346 000a 1B6A     	 ldr r3,[r3,#32]
1290:../Dave/Generated/FREERTOS/stream_buffer.c ****     }
 2347              	 .loc 1 1290 0
 2348 000c 181C     	 mov r0,r3
 2349 000e BD46     	 mov sp,r7
 2350 0010 02B0     	 add sp,sp,#8
 2351              	 
 2352 0012 80BD     	 pop {r7,pc}
 2353              	 .cfi_endproc
 2354              	.LFE63:
 2356              	 .section .text.vStreamBufferSetStreamBufferNumber,"ax",%progbits
 2357              	 .align 2
 2358              	 .global vStreamBufferSetStreamBufferNumber
 2359              	 .code 16
 2360              	 .thumb_func
 2362              	vStreamBufferSetStreamBufferNumber:
 2363              	.LFB64:
1291:../Dave/Generated/FREERTOS/stream_buffer.c **** 
1292:../Dave/Generated/FREERTOS/stream_buffer.c **** #endif /* configUSE_TRACE_FACILITY */
1293:../Dave/Generated/FREERTOS/stream_buffer.c **** /*-----------------------------------------------------------*/
1294:../Dave/Generated/FREERTOS/stream_buffer.c **** 
1295:../Dave/Generated/FREERTOS/stream_buffer.c **** #if ( configUSE_TRACE_FACILITY == 1 )
1296:../Dave/Generated/FREERTOS/stream_buffer.c **** 
1297:../Dave/Generated/FREERTOS/stream_buffer.c ****     void vStreamBufferSetStreamBufferNumber( StreamBufferHandle_t xStreamBuffer,
1298:../Dave/Generated/FREERTOS/stream_buffer.c ****                                              UBaseType_t uxStreamBufferNumber )
1299:../Dave/Generated/FREERTOS/stream_buffer.c ****     {
 2364              	 .loc 1 1299 0
 2365              	 .cfi_startproc
 2366 0000 80B5     	 push {r7,lr}
 2367              	.LCFI66:
 2368              	 .cfi_def_cfa_offset 8
 2369              	 .cfi_offset 7,-8
 2370              	 .cfi_offset 14,-4
 2371 0002 82B0     	 sub sp,sp,#8
 2372              	.LCFI67:
 2373              	 .cfi_def_cfa_offset 16
 2374 0004 00AF     	 add r7,sp,#0
 2375              	.LCFI68:
 2376              	 .cfi_def_cfa_register 7
 2377 0006 7860     	 str r0,[r7,#4]
 2378 0008 3960     	 str r1,[r7]
1300:../Dave/Generated/FREERTOS/stream_buffer.c ****         xStreamBuffer->uxStreamBufferNumber = uxStreamBufferNumber;
 2379              	 .loc 1 1300 0
 2380 000a 7B68     	 ldr r3,[r7,#4]
 2381 000c 3A68     	 ldr r2,[r7]
 2382 000e 1A62     	 str r2,[r3,#32]
1301:../Dave/Generated/FREERTOS/stream_buffer.c ****     }
 2383              	 .loc 1 1301 0
 2384 0010 BD46     	 mov sp,r7
 2385 0012 02B0     	 add sp,sp,#8
 2386              	 
 2387 0014 80BD     	 pop {r7,pc}
 2388              	 .cfi_endproc
 2389              	.LFE64:
 2391 0016 C046     	 .section .text.ucStreamBufferGetStreamBufferType,"ax",%progbits
 2392              	 .align 2
 2393              	 .global ucStreamBufferGetStreamBufferType
 2394              	 .code 16
 2395              	 .thumb_func
 2397              	ucStreamBufferGetStreamBufferType:
 2398              	.LFB65:
1302:../Dave/Generated/FREERTOS/stream_buffer.c **** 
1303:../Dave/Generated/FREERTOS/stream_buffer.c **** #endif /* configUSE_TRACE_FACILITY */
1304:../Dave/Generated/FREERTOS/stream_buffer.c **** /*-----------------------------------------------------------*/
1305:../Dave/Generated/FREERTOS/stream_buffer.c **** 
1306:../Dave/Generated/FREERTOS/stream_buffer.c **** #if ( configUSE_TRACE_FACILITY == 1 )
1307:../Dave/Generated/FREERTOS/stream_buffer.c **** 
1308:../Dave/Generated/FREERTOS/stream_buffer.c ****     uint8_t ucStreamBufferGetStreamBufferType( StreamBufferHandle_t xStreamBuffer )
1309:../Dave/Generated/FREERTOS/stream_buffer.c ****     {
 2399              	 .loc 1 1309 0
 2400              	 .cfi_startproc
 2401 0000 80B5     	 push {r7,lr}
 2402              	.LCFI69:
 2403              	 .cfi_def_cfa_offset 8
 2404              	 .cfi_offset 7,-8
 2405              	 .cfi_offset 14,-4
 2406 0002 82B0     	 sub sp,sp,#8
 2407              	.LCFI70:
 2408              	 .cfi_def_cfa_offset 16
 2409 0004 00AF     	 add r7,sp,#0
 2410              	.LCFI71:
 2411              	 .cfi_def_cfa_register 7
 2412 0006 7860     	 str r0,[r7,#4]
1310:../Dave/Generated/FREERTOS/stream_buffer.c ****         return( xStreamBuffer->ucFlags & sbFLAGS_IS_MESSAGE_BUFFER );
 2413              	 .loc 1 1310 0
 2414 0008 7B68     	 ldr r3,[r7,#4]
 2415 000a 1B7F     	 ldrb r3,[r3,#28]
 2416 000c 0122     	 mov r2,#1
 2417 000e 1340     	 and r3,r2
 2418 0010 DBB2     	 uxtb r3,r3
1311:../Dave/Generated/FREERTOS/stream_buffer.c ****     }
 2419              	 .loc 1 1311 0
 2420 0012 181C     	 mov r0,r3
 2421 0014 BD46     	 mov sp,r7
 2422 0016 02B0     	 add sp,sp,#8
 2423              	 
 2424 0018 80BD     	 pop {r7,pc}
 2425              	 .cfi_endproc
 2426              	.LFE65:
 2428 001a C046     	 .text
 2429              	.Letext0:
 2430              	 .file 2 "c:\\infineon\\tools\\dave ide\\4.5.0.202105191637\\eclipse\\arm-gcc-49\\arm-none-eabi\\include\\machine\\_default_types.h"
 2431              	 .file 3 "c:\\infineon\\tools\\dave ide\\4.5.0.202105191637\\eclipse\\arm-gcc-49\\arm-none-eabi\\include\\stdint.h"
 2432              	 .file 4 "c:\\infineon\\tools\\dave ide\\4.5.0.202105191637\\eclipse\\arm-gcc-49\\lib\\gcc\\arm-none-eabi\\4.9.3\\include\\stddef.h"
 2433              	 .file 5 "C:/Users/sankar/Desktop/DAVE ide/Uart_demo/RTOS_Demo/Dave/Generated/FREERTOS/portable/GCC/portmacro.h"
 2434              	 .file 6 "../Dave/Generated/FREERTOS/task.h"
 2435              	 .file 7 "../Dave/Generated/FREERTOS/stream_buffer.h"
 2436              	 .file 8 "C:/Users/sankar/Desktop/DAVE ide/Uart_demo/RTOS_Demo/Libraries/CMSIS/Include/cmsis_gcc.h"
DEFINED SYMBOLS
                            *ABS*:00000000 stream_buffer.c
    {standard input}:18     .text.xStreamBufferGenericCreate:00000000 $t
    {standard input}:23     .text.xStreamBufferGenericCreate:00000000 xStreamBufferGenericCreate
    {standard input}:2246   .text.prvInitialiseNewStreamBuffer:00000000 prvInitialiseNewStreamBuffer
    {standard input}:158    .text.vStreamBufferDelete:00000000 $t
    {standard input}:163    .text.vStreamBufferDelete:00000000 vStreamBufferDelete
    {standard input}:223    .text.xStreamBufferReset:00000000 $t
    {standard input}:228    .text.xStreamBufferReset:00000000 xStreamBufferReset
    {standard input}:314    .text.xStreamBufferSetTriggerLevel:00000000 $t
    {standard input}:319    .text.xStreamBufferSetTriggerLevel:00000000 xStreamBufferSetTriggerLevel
    {standard input}:390    .text.xStreamBufferSpacesAvailable:00000000 $t
    {standard input}:395    .text.xStreamBufferSpacesAvailable:00000000 xStreamBufferSpacesAvailable
    {standard input}:468    .text.xStreamBufferBytesAvailable:00000000 $t
    {standard input}:473    .text.xStreamBufferBytesAvailable:00000000 xStreamBufferBytesAvailable
    {standard input}:2188   .text.prvBytesInBuffer:00000000 prvBytesInBuffer
    {standard input}:522    .text.xStreamBufferSend:00000000 $t
    {standard input}:527    .text.xStreamBufferSend:00000000 xStreamBufferSend
    {standard input}:923    .text.prvWriteMessageToBuffer:00000000 prvWriteMessageToBuffer
    {standard input}:778    .text.xStreamBufferSendFromISR:00000000 $t
    {standard input}:783    .text.xStreamBufferSendFromISR:00000000 xStreamBufferSendFromISR
    {standard input}:919    .text.prvWriteMessageToBuffer:00000000 $t
    {standard input}:1886   .text.prvWriteBytesToBuffer:00000000 prvWriteBytesToBuffer
    {standard input}:1024   .text.xStreamBufferReceive:00000000 $t
    {standard input}:1029   .text.xStreamBufferReceive:00000000 xStreamBufferReceive
    {standard input}:1480   .text.prvReadMessageFromBuffer:00000000 prvReadMessageFromBuffer
    {standard input}:1226   .text.xStreamBufferNextMessageLengthBytes:00000000 $t
    {standard input}:1231   .text.xStreamBufferNextMessageLengthBytes:00000000 xStreamBufferNextMessageLengthBytes
    {standard input}:2031   .text.prvReadBytesFromBuffer:00000000 prvReadBytesFromBuffer
    {standard input}:1335   .text.xStreamBufferReceiveFromISR:00000000 $t
    {standard input}:1340   .text.xStreamBufferReceiveFromISR:00000000 xStreamBufferReceiveFromISR
    {standard input}:1476   .text.prvReadMessageFromBuffer:00000000 $t
    {standard input}:1560   .text.xStreamBufferIsEmpty:00000000 $t
    {standard input}:1565   .text.xStreamBufferIsEmpty:00000000 xStreamBufferIsEmpty
    {standard input}:1627   .text.xStreamBufferIsFull:00000000 $t
    {standard input}:1632   .text.xStreamBufferIsFull:00000000 xStreamBufferIsFull
    {standard input}:1708   .text.xStreamBufferSendCompletedFromISR:00000000 $t
    {standard input}:1713   .text.xStreamBufferSendCompletedFromISR:00000000 xStreamBufferSendCompletedFromISR
    {standard input}:1795   .text.xStreamBufferReceiveCompletedFromISR:00000000 $t
    {standard input}:1800   .text.xStreamBufferReceiveCompletedFromISR:00000000 xStreamBufferReceiveCompletedFromISR
    {standard input}:1882   .text.prvWriteBytesToBuffer:00000000 $t
    {standard input}:2027   .text.prvReadBytesFromBuffer:00000000 $t
    {standard input}:2184   .text.prvBytesInBuffer:00000000 $t
    {standard input}:2242   .text.prvInitialiseNewStreamBuffer:00000000 $t
    {standard input}:2323   .text.uxStreamBufferGetStreamBufferNumber:00000000 $t
    {standard input}:2328   .text.uxStreamBufferGetStreamBufferNumber:00000000 uxStreamBufferGetStreamBufferNumber
    {standard input}:2357   .text.vStreamBufferSetStreamBufferNumber:00000000 $t
    {standard input}:2362   .text.vStreamBufferSetStreamBufferNumber:00000000 vStreamBufferSetStreamBufferNumber
    {standard input}:2392   .text.ucStreamBufferGetStreamBufferType:00000000 $t
    {standard input}:2397   .text.ucStreamBufferGetStreamBufferType:00000000 ucStreamBufferGetStreamBufferType
                     .debug_frame:00000010 $d

UNDEFINED SYMBOLS
pvPortMalloc
vPortFree
memset
vPortEnterCritical
vPortExitCritical
vTaskSetTimeOutState
xTaskGenericNotifyStateClear
xTaskGetCurrentTaskHandle
xTaskGenericNotifyWait
xTaskCheckForTimeOut
vTaskSuspendAll
xTaskGenericNotify
xTaskResumeAll
ulSetInterruptMaskFromISR
xTaskGenericNotifyFromISR
vClearInterruptMaskFromISR
memcpy
